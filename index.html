<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="description" content="Infinite, never-ending Minesweeper. Good luck." />
    <meta name="theme-color" content="#A2D048">
    <link rel="apple-touch-icon" href="./images/flag_192.png">

    <title>Infinisweeper</title>
    <link rel="stylesheet" href="./design/global.css" />
    <link rel="stylesheet" href="./design/title.css" />
    <link defer rel="stylesheet" href="./design/game.css" />
    <link defer rel="stylesheet" href="./design/defer.css" />
    <link rel="icon" type="image/x-icon" href="./images/flag.png" media="screen">
    <link rel="manifest" href="manifest.webmanifest">
    <script type="module" src="source/Main.js?v=2.4"></script>
    <style>
        body {
            background: repeating-conic-gradient(#A2D048 0% 25%, #AAD650 0% 50%) 50% / 128px 128px;
            background-position: 0 0;
        }
    </style>
</head>

<body>
    <canvas id="infinisweeper"></canvas>
    <div class="GUI" GUI="game">
        <div id="gameGUI" hide="true">
            <div id="menuButtonContainer">
                <button id="menuButton">â˜°</button>
                <div>Score: <span class="label_score"></span></div>
            </div>
            <div id="zoomContainer">
                <button id="zoomIN">+</button><br />
                <button id="zoomOUT">-</button>
            </div>
            <div id="scoreContainer" class="container">
                <div id="movableContainer">
                    <button id="mainMenuGame">Main Menu</button>
                    <button id="saveGame">Save Game</button>
                    <div><span>Score</span><span class="label_score">0</span></div>
                    <div><span>Flags</span><span id="label_flags">0</span></div>
                    <div><span>Time</span><span id="label_hours">0</span></div>
                    <div id="bottomStuff"><span>High Score</span><span id="label_highscore">0</span></div>
                </div>
            </div>
            <div id="gameMobileMenu" hide="true">
                <div id="gameMobileMenuContainer"></div>
            </div>
        </div>
        <div id="loseContainer" class="container" hide="true">
            <h1>You've been sweeped!</h1>
            <div id="lossFlavortext"></div><br />
            <div id="pointCount"></div><br />
            <button id="onlineBtn">Can't Connect</button><br />
            <button id="playAgain">Play Again</button><br />
            <button id="mainMenu">Main Menu</button><br /><br />
            <img defer id="share_copy" alt="Copy your score to the clipboard." src="./images/copy.ico">
            <img defer id="share_twitter" alt="Share your score on Twitter." src="./images/twitter.ico">
            <img defer id="share_facebook" alt="Share your score on Facebook." src="./images/facebook.ico">
        </div>
    </div>
    <div class="GUI" GUI="highScores">
        <div id="highScoresContainer" class="container">
            <table id="normalScoreTable">
                <tbody></tbody>
            </table>
            <table id="rushScoreTable">
                <tbody></tbody>
            </table>
            <br />
            <br /><button id="refreshScores">Refresh Scores</button>
            <br /><button id="highScoresBack">Main Menu</button>
        </div>
    </div>
    <div class="GUI" GUI="nameChange">
        <div class="container" id="nameChangeContainer">
            <h1>Please choose a Username!</h1>
            <ul>
                <li>Your username must be 4-24 characters.</li>
                <li>You cannot change this username.</li>
            </ul>
            <input type="text" id="inputname" placeholder="Enter Username">
            <button id="submitName">Submit</button>
        </div>
    </div>
    <div class="GUI" GUI="loading" style="display: block;">
        <h1 id="loadingDisplay">Loading</h1>
    </div>
    <div class="GUI" GUI="settings">
        <div id="settingsContainer" class="container">
            <div id="settingsSubcontainer"></div>
            <br />
            <button id="settingsSave">Save & Exit</button><br />
            <button id="settingsMainMenu">Discard & Exit</button>
        </div>
    </div>
    <div class="GUI" GUI="title">
        <div id="login">
            <button hide="true" id="signin">Sign In</button>
            <button hide="true" id="signout">Sign Out</button>
            <span id="accountName">Connecting...</span>
        </div>
        <div id="titleScreen">
            <div id="titleText">
                <h1>Infinisweeper</h1>
                <img src="./images/flag.png">
            </div>
            <div id="version"><span id="versionText"></span>built by <a href="https://edwardscamera.github.io"
                    target="_blank">edwardscamera</a>
            </div>
            <button id="newGame">New Game</button><br />
            <button id="continueGame">Continue</button><br id="continueGameBR">
            <button id="newGameRush">Rush Mode</button><br />
            <button id="highScoresMenu">High Scores</button><br />
            <button id="settingsMenu">Settings</button><br /><br />
        </div>
        <div id="installApp"><button id="installBtn" hide="true">Install App</button></div>
        <div id="changelog" class="container">
            <div id="innerChangelog">
                <h2>How to Play</h2>
                <ul>
                    <li>Left click or tap to dig.</li>
                    <li>Right click, press & hold, or shift + click to place a flag.</li>
                    <li>The number on a tile represents how many mines are adjacent to the tile.</li>
                    <li>Place flags to keep track of where the mines are.</li>
                    <li>Every tile without a mine dug up is worth one point.</li>
                    <li>Correctly placed flags are worth bonus points.</li>
                    <li>Don't dig up a mine, or else it's game over!</li>
                    <li>Compete with friends to see who can get the most points.</li>
                    <li>Auto Dig: If the number on the tile is equal to the flags placed around the tile, selecting the
                        unconvered tile will automatically reveal all adjacent tiles.</li>
                    <li>Rush Mode: You have 5 seconds to dig up a tile. If you use all 5 seconds, you lose.</li>
                </ul>
                <hr>
                <h2>Changelog</h2>
                <div id="fetchChangelog">Loading...<br /><br /></div>
                <span>Initial Release</span>
                <span style="float: right;">5/4/22</span>
                <ul>
                    <li>
                        Concept & Programming by
                        <a href="https://edwardscamera.github.io">edwardscamera</a>
                    </li>
                    <li>
                        "Infinisweeper" name and "You've been sweeped!"
                        phrase created by heidrekursson
                    </li>
                    <li>
                        Loss text by swag
                    </li>
                    <li>
                        Art design, flag art and sound effects from Google
                        Minesweeper
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <script defer type="application/javascript"
        src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script defer type="application/javascript"
        src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <script defer type="application/javascript"
        src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script defer src="firebase_config.js"></script>
</body>

</html>