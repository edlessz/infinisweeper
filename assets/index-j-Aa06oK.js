var L2=Object.defineProperty;var V2=(n,e,t)=>e in n?L2(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var st=(n,e,t)=>V2(n,typeof e!="symbol"?e+"":e,t);function U2(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function fv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function z2(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var o=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:function(){return n[i]}})}),t}var Mg={exports:{}},nu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aE;function j2(){if(aE)return nu;aE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var f in o)f!=="key"&&(l[f]=o[f])}else l=o;return o=l.ref,{$$typeof:n,type:i,key:c,ref:o!==void 0?o:null,props:l}}return nu.Fragment=e,nu.jsx=t,nu.jsxs=t,nu}var lE;function B2(){return lE||(lE=1,Mg.exports=j2()),Mg.exports}var N=B2();const Ty=new WeakMap,F2=new WeakMap,gd={current:[]};let Dg=!1,yu=0;const fu=new Set,Th=new Map;function uT(n){for(const e of n){if(gd.current.includes(e))continue;gd.current.push(e),e.recompute();const t=F2.get(e);if(t)for(const i of t){const o=Ty.get(i);o!=null&&o.length&&uT(o)}}}function H2(n){const e={prevVal:n.prevState,currentVal:n.state};for(const t of n.listeners)t(e)}function q2(n){const e={prevVal:n.prevState,currentVal:n.state};for(const t of n.listeners)t(e)}function fT(n){if(yu>0&&!Th.has(n)&&Th.set(n,n.prevState),fu.add(n),!(yu>0)&&!Dg)try{for(Dg=!0;fu.size>0;){const e=Array.from(fu);fu.clear();for(const t of e){const i=Th.get(t)??t.prevState;t.prevState=i,H2(t)}for(const t of e){const i=Ty.get(t);i&&(gd.current.push(t),uT(i))}for(const t of e){const i=Ty.get(t);if(i)for(const o of i)q2(o)}}}finally{Dg=!1,gd.current=[],Th.clear()}}function vu(n){yu++;try{n()}finally{if(yu--,yu===0){const e=fu.values().next().value;e&&fT(e)}}}function G2(n){return typeof n=="function"}class $2{constructor(e,t){this.listeners=new Set,this.subscribe=i=>{var o,l;this.listeners.add(i);const c=(l=(o=this.options)==null?void 0:o.onSubscribe)==null?void 0:l.call(o,i,this);return()=>{this.listeners.delete(i),c==null||c()}},this.prevState=e,this.state=e,this.options=t}setState(e){var t,i,o;this.prevState=this.state,(t=this.options)!=null&&t.updateFn?this.state=this.options.updateFn(this.prevState)(e):G2(e)?this.state=e(this.prevState):this.state=e,(o=(i=this.options)==null?void 0:i.onUpdate)==null||o.call(i),fT(this)}}const oo="__TSR_index",cE="popstate",uE="beforeunload";function K2(n){let e=n.getLocation();const t=new Set,i=c=>{e=n.getLocation(),t.forEach(f=>f({location:e,action:c}))},o=c=>{n.notifyOnIndexChange??!0?i(c):e=n.getLocation()},l=async({task:c,navigateOpts:f,...h})=>{var _,w;if((f==null?void 0:f.ignoreBlocker)??!1){c();return}const v=((_=n.getBlockers)==null?void 0:_.call(n))??[],g=h.type==="PUSH"||h.type==="REPLACE";if(typeof document<"u"&&v.length&&g)for(const T of v){const R=yd(h.path,h.state);if(await T.blockerFn({currentLocation:e,nextLocation:R,action:h.type})){(w=n.onBlocked)==null||w.call(n);return}}c()};return{get location(){return e},get length(){return n.getLength()},subscribers:t,subscribe:c=>(t.add(c),()=>{t.delete(c)}),push:(c,f,h)=>{const d=e.state[oo];f=fE(d+1,f),l({task:()=>{n.pushState(c,f),i({type:"PUSH"})},navigateOpts:h,type:"PUSH",path:c,state:f})},replace:(c,f,h)=>{const d=e.state[oo];f=fE(d,f),l({task:()=>{n.replaceState(c,f),i({type:"REPLACE"})},navigateOpts:h,type:"REPLACE",path:c,state:f})},go:(c,f)=>{l({task:()=>{n.go(c),o({type:"GO",index:c})},navigateOpts:f,type:"GO"})},back:c=>{l({task:()=>{n.back((c==null?void 0:c.ignoreBlocker)??!1),o({type:"BACK"})},navigateOpts:c,type:"BACK"})},forward:c=>{l({task:()=>{n.forward((c==null?void 0:c.ignoreBlocker)??!1),o({type:"FORWARD"})},navigateOpts:c,type:"FORWARD"})},canGoBack:()=>e.state[oo]!==0,createHref:c=>n.createHref(c),block:c=>{var h;if(!n.setBlockers)return()=>{};const f=((h=n.getBlockers)==null?void 0:h.call(n))??[];return n.setBlockers([...f,c]),()=>{var v,g;const d=((v=n.getBlockers)==null?void 0:v.call(n))??[];(g=n.setBlockers)==null||g.call(n,d.filter(_=>_!==c))}},flush:()=>{var c;return(c=n.flush)==null?void 0:c.call(n)},destroy:()=>{var c;return(c=n.destroy)==null?void 0:c.call(n)},notify:i}}function fE(n,e){e||(e={});const t=hv();return{...e,key:t,__TSR_key:t,[oo]:n}}function Y2(n){var A,M;const e=typeof document<"u"?window:void 0,t=e.history.pushState,i=e.history.replaceState;let o=[];const l=()=>o,c=P=>o=P,f=(P=>P),h=(()=>yd(`${e.location.pathname}${e.location.search}${e.location.hash}`,e.history.state));if(!((A=e.history.state)!=null&&A.__TSR_key)&&!((M=e.history.state)!=null&&M.key)){const P=hv();e.history.replaceState({[oo]:0,key:P,__TSR_key:P},"")}let d=h(),v,g=!1,_=!1,w=!1,T=!1;const R=()=>d;let C,k;const U=()=>{C&&(x._ignoreSubscribers=!0,(C.isPush?e.history.pushState:e.history.replaceState)(C.state,"",C.href),x._ignoreSubscribers=!1,C=void 0,k=void 0,v=void 0)},z=(P,O,j)=>{const L=f(O);k||(v=d),d=yd(O,j),C={href:L,state:j,isPush:(C==null?void 0:C.isPush)||P==="push"},k||(k=Promise.resolve().then(()=>U()))},B=P=>{d=h(),x.notify({type:P})},$=async()=>{if(_){_=!1;return}const P=h(),O=P.state[oo]-d.state[oo],j=O===1,L=O===-1,he=!j&&!L||g;g=!1;const pe=he?"GO":L?"BACK":"FORWARD",H=he?{type:"GO",index:O}:{type:L?"BACK":"FORWARD"};if(w)w=!1;else{const J=l();if(typeof document<"u"&&J.length){for(const X of J)if(await X.blockerFn({currentLocation:d,nextLocation:P,action:pe})){_=!0,e.history.go(1),x.notify(H);return}}}d=h(),x.notify(H)},F=P=>{if(T){T=!1;return}let O=!1;const j=l();if(typeof document<"u"&&j.length)for(const L of j){const he=L.enableBeforeUnload??!0;if(he===!0){O=!0;break}if(typeof he=="function"&&he()===!0){O=!0;break}}if(O)return P.preventDefault(),P.returnValue=""},x=K2({getLocation:R,getLength:()=>e.history.length,pushState:(P,O)=>z("push",P,O),replaceState:(P,O)=>z("replace",P,O),back:P=>(P&&(w=!0),T=!0,e.history.back()),forward:P=>{P&&(w=!0),T=!0,e.history.forward()},go:P=>{g=!0,e.history.go(P)},createHref:P=>f(P),flush:U,destroy:()=>{e.history.pushState=t,e.history.replaceState=i,e.removeEventListener(uE,F,{capture:!0}),e.removeEventListener(cE,$)},onBlocked:()=>{v&&d!==v&&(d=v)},getBlockers:l,setBlockers:c,notifyOnIndexChange:!1});return e.addEventListener(uE,F,{capture:!0}),e.addEventListener(cE,$),e.history.pushState=function(...P){const O=t.apply(e.history,P);return x._ignoreSubscribers||B("PUSH"),O},e.history.replaceState=function(...P){const O=i.apply(e.history,P);return x._ignoreSubscribers||B("REPLACE"),O},x}function yd(n,e){const t=n.indexOf("#"),i=n.indexOf("?"),o=hv();return{href:n,pathname:n.substring(0,t>0?i>0?Math.min(t,i):t:i>0?i:n.length),hash:t>-1?n.substring(t):"",search:i>-1?n.slice(i,t===-1?void 0:t):"",state:e||{[oo]:0,key:o,__TSR_key:o}}}function hv(){return(Math.random()+1).toString(36).substring(7)}function vd(n){return n[n.length-1]}function X2(n){return typeof n=="function"}function ro(n,e){return X2(n)?n(e):n}const Q2=Object.prototype.hasOwnProperty;function kr(n,e){if(n===e)return n;const t=e,i=mE(n)&&mE(t);if(!i&&!(_d(n)&&_d(t)))return t;const o=i?n:hE(n);if(!o)return t;const l=i?t:hE(t);if(!l)return t;const c=o.length,f=l.length,h=i?new Array(f):{};let d=0;for(let v=0;v<f;v++){const g=i?v:l[v],_=n[g],w=t[g];if(_===w){h[g]=_,(i?v<c:Q2.call(n,g))&&d++;continue}if(_===null||w===null||typeof _!="object"||typeof w!="object"){h[g]=w;continue}const T=kr(_,w);h[g]=T,T===_&&d++}return c===f&&d===c?n:h}function hE(n){const e=[],t=Object.getOwnPropertyNames(n);for(const o of t){if(!Object.prototype.propertyIsEnumerable.call(n,o))return!1;e.push(o)}const i=Object.getOwnPropertySymbols(n);for(const o of i){if(!Object.prototype.propertyIsEnumerable.call(n,o))return!1;e.push(o)}return e}function _d(n){if(!dE(n))return!1;const e=n.constructor;if(typeof e>"u")return!0;const t=e.prototype;return!(!dE(t)||!t.hasOwnProperty("isPrototypeOf"))}function dE(n){return Object.prototype.toString.call(n)==="[object Object]"}function mE(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function ia(n,e,t){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;for(let i=0,o=n.length;i<o;i++)if(!ia(n[i],e[i],t))return!1;return!0}if(_d(n)&&_d(e)){const i=(t==null?void 0:t.ignoreUndefined)??!0;if(t!=null&&t.partial){for(const c in e)if((!i||e[c]!==void 0)&&!ia(n[c],e[c],t))return!1;return!0}let o=0;if(!i)o=Object.keys(n).length;else for(const c in n)n[c]!==void 0&&o++;let l=0;for(const c in e)if((!i||e[c]!==void 0)&&(l++,l>o||!ia(n[c],e[c],t)))return!1;return o===l}return!1}function Dl(n){let e,t;const i=new Promise((o,l)=>{e=o,t=l});return i.status="pending",i.resolve=o=>{i.status="resolved",i.value=o,e(o),n==null||n(o)},i.reject=o=>{i.status="rejected",t(o)},i}function ao(n){return!!(n&&typeof n=="object"&&typeof n.then=="function")}function pE(n){try{return decodeURI(n)}catch{return n.replaceAll(/%[0-9A-F]{2}/gi,e=>{try{return decodeURI(e)}catch{return e}})}}function gE(n,e){if(!n)return n;const t=/%25|%5C/gi;let i=0,o="",l;for(;(l=t.exec(n))!==null;)o+=pE(n.slice(i,l.index))+l[0],i=t.lastIndex;return o+pE(i?n.slice(i):n)}var W2="Invariant failed";function hs(n,e){if(!n)throw new Error(W2)}function bd(n){const e=new Map;let t,i;const o=l=>{l.next&&(l.prev?(l.prev.next=l.next,l.next.prev=l.prev,l.next=void 0,i&&(i.next=l,l.prev=i)):(l.next.prev=void 0,t=l.next,l.next=void 0,i&&(l.prev=i,i.next=l)),i=l)};return{get(l){const c=e.get(l);if(c)return o(c),c.value},set(l,c){if(e.size>=n&&t){const h=t;e.delete(h.key),h.next&&(t=h.next,h.next.prev=void 0),h===i&&(i=void 0)}const f=e.get(l);if(f)f.value=c,o(f);else{const h={key:l,value:c,prev:i};i&&(i.next=h),i=h,t||(t=h),e.set(l,h)}},clear(){e.clear(),t=void 0,i=void 0}}}const Ol=0,ca=1,ua=2,xu=3,Z2=/^([^{]*)\{\$([a-zA-Z_$][a-zA-Z0-9_$]*)\}([^}]*)$/,J2=/^([^{]*)\{-\$([a-zA-Z_$][a-zA-Z0-9_$]*)\}([^}]*)$/,eN=/^([^{]*)\{\$\}([^}]*)$/;function dv(n,e,t=new Uint16Array(6)){const i=n.indexOf("/",e),o=i===-1?n.length:i,l=n.substring(e,o);if(!l||!l.includes("$"))return t[0]=Ol,t[1]=e,t[2]=e,t[3]=o,t[4]=o,t[5]=o,t;if(l==="$"){const d=n.length;return t[0]=ua,t[1]=e,t[2]=e,t[3]=d,t[4]=d,t[5]=d,t}if(l.charCodeAt(0)===36)return t[0]=ca,t[1]=e,t[2]=e+1,t[3]=o,t[4]=o,t[5]=o,t;const c=l.match(eN);if(c){const v=c[1].length;return t[0]=ua,t[1]=e+v,t[2]=e+v+1,t[3]=e+v+2,t[4]=e+v+3,t[5]=n.length,t}const f=l.match(J2);if(f){const d=f[1],v=f[2],g=f[3],_=d.length;return t[0]=xu,t[1]=e+_,t[2]=e+_+3,t[3]=e+_+3+v.length,t[4]=o-g.length,t[5]=o,t}const h=l.match(Z2);if(h){const d=h[1],v=h[2],g=h[3],_=d.length;return t[0]=ca,t[1]=e+_,t[2]=e+_+2,t[3]=e+_+2+v.length,t[4]=o-g.length,t[5]=o,t}return t[0]=Ol,t[1]=e,t[2]=e,t[3]=o,t[4]=o,t[5]=o,t}function nm(n,e,t,i,o,l,c){var h,d,v,g,_;c==null||c(t);let f=i;{const w=t.fullPath??t.from,T=w.length,R=((h=t.options)==null?void 0:h.caseSensitive)??n;for(;f<T;){const C=dv(w,f,e);let k;const U=f,z=C[5];switch(f=z+1,l++,C[0]){case Ol:{const $=w.substring(C[2],C[3]);if(R){const F=(d=o.static)==null?void 0:d.get($);if(F)k=F;else{o.static??(o.static=new Map);const x=Ru(t.fullPath??t.from);x.parent=o,x.depth=l,k=x,o.static.set($,x)}}else{const F=$.toLowerCase(),x=(v=o.staticInsensitive)==null?void 0:v.get(F);if(x)k=x;else{o.staticInsensitive??(o.staticInsensitive=new Map);const A=Ru(t.fullPath??t.from);A.parent=o,A.depth=l,k=A,o.staticInsensitive.set(F,A)}}break}case ca:{const $=w.substring(U,C[1]),F=w.substring(C[4],z),x=R&&!!($||F),A=$?x?$:$.toLowerCase():void 0,M=F?x?F:F.toLowerCase():void 0,P=(g=o.dynamic)==null?void 0:g.find(O=>O.caseSensitive===x&&O.prefix===A&&O.suffix===M);if(P)k=P;else{const O=Pg(ca,t.fullPath??t.from,x,A,M);k=O,O.depth=l,O.parent=o,o.dynamic??(o.dynamic=[]),o.dynamic.push(O)}break}case xu:{const $=w.substring(U,C[1]),F=w.substring(C[4],z),x=R&&!!($||F),A=$?x?$:$.toLowerCase():void 0,M=F?x?F:F.toLowerCase():void 0,P=(_=o.optional)==null?void 0:_.find(O=>O.caseSensitive===x&&O.prefix===A&&O.suffix===M);if(P)k=P;else{const O=Pg(xu,t.fullPath??t.from,x,A,M);k=O,O.parent=o,O.depth=l,o.optional??(o.optional=[]),o.optional.push(O)}break}case ua:{const $=w.substring(U,C[1]),F=w.substring(C[4],z),x=R&&!!($||F),A=$?x?$:$.toLowerCase():void 0,M=F?x?F:F.toLowerCase():void 0,P=Pg(ua,t.fullPath??t.from,x,A,M);k=P,P.parent=o,P.depth=l,o.wildcard??(o.wildcard=[]),o.wildcard.push(P)}}o=k}if((t.path||!t.children)&&!t.isRoot){const C=w.endsWith("/");C||(o.notFound=t),(!o.route||!o.isIndex&&C)&&(o.route=t,o.fullPath=t.fullPath??t.from),o.isIndex||(o.isIndex=C)}}if(t.children)for(const w of t.children)nm(n,e,w,f,o,l,c)}function Og(n,e){if(n.prefix&&e.prefix&&n.prefix!==e.prefix){if(n.prefix.startsWith(e.prefix))return-1;if(e.prefix.startsWith(n.prefix))return 1}if(n.suffix&&e.suffix&&n.suffix!==e.suffix){if(n.suffix.endsWith(e.suffix))return-1;if(e.suffix.endsWith(n.suffix))return 1}return n.prefix&&!e.prefix?-1:!n.prefix&&e.prefix?1:n.suffix&&!e.suffix?-1:!n.suffix&&e.suffix?1:n.caseSensitive&&!e.caseSensitive?-1:!n.caseSensitive&&e.caseSensitive?1:0}function Zo(n){var e,t,i;if(n.static)for(const o of n.static.values())Zo(o);if(n.staticInsensitive)for(const o of n.staticInsensitive.values())Zo(o);if((e=n.dynamic)!=null&&e.length){n.dynamic.sort(Og);for(const o of n.dynamic)Zo(o)}if((t=n.optional)!=null&&t.length){n.optional.sort(Og);for(const o of n.optional)Zo(o)}if((i=n.wildcard)!=null&&i.length){n.wildcard.sort(Og);for(const o of n.wildcard)Zo(o)}}function Ru(n){return{kind:Ol,depth:0,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:n,parent:null,isIndex:!1,notFound:null}}function Pg(n,e,t,i,o){return{kind:n,depth:0,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:e,parent:null,isIndex:!1,notFound:null,caseSensitive:t,prefix:i,suffix:o}}function tN(n,e){const t=Ru("/"),i=new Uint16Array(6);for(const o of n)nm(!1,i,o,1,t,0);Zo(t),e.masksTree=t,e.flatCache=bd(1e3)}function nN(n,e){n||(n="/");const t=e.flatCache.get(n);if(t)return t;const i=mv(n,e.masksTree);return e.flatCache.set(n,i),i}function rN(n,e,t,i,o){n||(n="/"),i||(i="/");const l=e?`case\0${n}`:n;let c=o.singleCache.get(l);if(!c){c=Ru("/");const f=new Uint16Array(6);nm(e,f,{from:n},1,c,0),o.singleCache.set(l,c)}return mv(i,c,t)}function iN(n,e,t=!1){const i=t?n:`nofuzz\0${n}`,o=e.matchCache.get(i);if(o!==void 0)return o;n||(n="/");const l=mv(n,e.segmentTree,t);return l&&(l.branch=lN(l.route)),e.matchCache.set(i,l),l}function sN(n){return n==="/"?n:n.replace(/\/{1,}$/,"")}function oN(n,e=!1,t){const i=Ru(n.fullPath),o=new Uint16Array(6),l={},c={};let f=0;return nm(e,o,n,1,i,0,d=>{if(t==null||t(d,f),hs(!(d.id in l),`Duplicate routes found with id: ${String(d.id)}`),l[d.id]=d,f!==0&&d.path){const v=sN(d.fullPath);(!c[v]||d.fullPath.endsWith("/"))&&(c[v]=d)}f++}),Zo(i),{processedTree:{segmentTree:i,singleCache:bd(1e3),matchCache:bd(1e3),flatCache:null,masksTree:null},routesById:l,routesByPath:c}}function mv(n,e,t=!1){const i=n.split("/"),o=uN(n,i,e,t);if(!o)return null;const l=aN(n,i,o),c="**"in o;return c&&(l["**"]=o["**"]),{route:c?o.node.notFound??o.node.route:o.node.route,params:l}}function aN(n,e,t){var c,f,h,d,v,g;const i=cN(t.node);let o=null;const l={};for(let _=0,w=0,T=0;w<i.length;_++,w++,T++){const R=i[w],C=e[_],k=T;if(C&&(T+=C.length),R.kind===ca){o??(o=t.node.fullPath.split("/"));const U=o[w],z=((c=R.prefix)==null?void 0:c.length)??0;if(U.charCodeAt(z)===123){const $=((f=R.suffix)==null?void 0:f.length)??0,F=U.substring(z+2,U.length-$-1),x=C.substring(z,C.length-$);l[F]=decodeURIComponent(x)}else{const $=U.substring(1);l[$]=decodeURIComponent(C)}}else if(R.kind===xu){if(t.skipped&1<<w){_--;continue}o??(o=t.node.fullPath.split("/"));const U=o[w],z=((h=R.prefix)==null?void 0:h.length)??0,B=((d=R.suffix)==null?void 0:d.length)??0,$=U.substring(z+3,U.length-B-1),F=R.suffix||R.prefix?C.substring(z,C.length-B):C;F&&(l[$]=decodeURIComponent(F))}else if(R.kind===ua){const U=R,z=n.substring(k+(((v=U.prefix)==null?void 0:v.length)??0),n.length-(((g=U.suffix)==null?void 0:g.length)??0)),B=decodeURIComponent(z);l["*"]=B,l._splat=B;break}}return l}function lN(n){const e=[n];for(;n.parentRoute;)n=n.parentRoute,e.push(n);return e.reverse(),e}function cN(n){const e=Array(n.depth+1);do e[n.depth]=n,n=n.parent;while(n);return e}function uN(n,e,t,i){const o=!vd(e),l=o&&n!=="/",c=e.length-(o?1:0),f=[{node:t,index:1,skipped:0,depth:1,statics:1,dynamics:0,optionals:0}];let h=null,d=null,v=null;for(;f.length;){const g=f.pop();let{node:_,index:w,skipped:T,depth:R,statics:C,dynamics:k,optionals:U}=g;i&&_.notFound&&Ah(d,g)&&(d=g);const z=w===c;if(z){if(_.route&&(!l||_.isIndex)&&(Ah(v,g)&&(v=g),C===c&&_.isIndex))return v;if(!_.optional&&!_.wildcard)continue}const B=z?void 0:e[w];let $;if(_.wildcard&&Ah(h,g))for(const F of _.wildcard){const{prefix:x,suffix:A}=F;if(!(x&&(z||!(F.caseSensitive?B:$??($=B.toLowerCase())).startsWith(x)))){if(A){if(z)continue;const M=e.slice(w).join("/").slice(-A.length);if((F.caseSensitive?M:M.toLowerCase())!==A)continue}h={node:F,index:w,skipped:T,depth:R,statics:C,dynamics:k,optionals:U};break}}if(_.optional){const F=T|1<<R,x=R+1;for(let A=_.optional.length-1;A>=0;A--){const M=_.optional[A];f.push({node:M,index:w,skipped:F,depth:x,statics:C,dynamics:k,optionals:U})}if(!z)for(let A=_.optional.length-1;A>=0;A--){const M=_.optional[A],{prefix:P,suffix:O}=M;if(P||O){const j=M.caseSensitive?B:$??($=B.toLowerCase());if(P&&!j.startsWith(P)||O&&!j.endsWith(O))continue}f.push({node:M,index:w+1,skipped:T,depth:x,statics:C,dynamics:k,optionals:U+1})}}if(!z&&_.dynamic&&B)for(let F=_.dynamic.length-1;F>=0;F--){const x=_.dynamic[F],{prefix:A,suffix:M}=x;if(A||M){const P=x.caseSensitive?B:$??($=B.toLowerCase());if(A&&!P.startsWith(A)||M&&!P.endsWith(M))continue}f.push({node:x,index:w+1,skipped:T,depth:R+1,statics:C,dynamics:k+1,optionals:U})}if(!z&&_.staticInsensitive){const F=_.staticInsensitive.get($??($=B.toLowerCase()));F&&f.push({node:F,index:w+1,skipped:T,depth:R+1,statics:C+1,dynamics:k,optionals:U})}if(!z&&_.static){const F=_.static.get(B);F&&f.push({node:F,index:w+1,skipped:T,depth:R+1,statics:C+1,dynamics:k,optionals:U})}}if(v&&h)return Ah(h,v)?v:h;if(v)return v;if(h)return h;if(i&&d){let g=d.index;for(let w=0;w<d.index;w++)g+=e[w].length;const _=g===n.length?"/":n.slice(g);return{node:d.node,skipped:d.skipped,"**":decodeURIComponent(_)}}return null}function Ah(n,e){return n?e.statics>n.statics||e.statics===n.statics&&(e.dynamics>n.dynamics||e.dynamics===n.dynamics&&(e.optionals>n.optionals||e.optionals===n.optionals&&(e.node.isIndex>n.node.isIndex||e.node.isIndex===n.node.isIndex&&e.depth>n.depth))):!0}function Yh(n){return pv(n.filter(e=>e!==void 0).join("/"))}function pv(n){return n.replace(/\/{2,}/g,"/")}function hT(n){return n==="/"?n:n.replace(/^\/{1,}/,"")}function sa(n){const e=n.length;return e>1&&n[e-1]==="/"?n.replace(/\/{1,}$/,""):n}function dT(n){return sa(hT(n))}function wd(n,e){return n!=null&&n.endsWith("/")&&n!=="/"&&n!==`${e}/`?n.slice(0,-1):n}function fN(n,e,t){return wd(n,t)===wd(e,t)}function hN({base:n,to:e,trailingSlash:t="never",cache:i}){const o=e.startsWith("/"),l=!o&&e===".";let c;if(i){c=o?e:l?n:n+"\0"+e;const g=i.get(c);if(g)return g}let f;if(l)f=n.split("/");else if(o)f=e.split("/");else{for(f=n.split("/");f.length>1&&vd(f)==="";)f.pop();const g=e.split("/");for(let _=0,w=g.length;_<w;_++){const T=g[_];T===""?_?_===w-1&&f.push(T):f=[T]:T===".."?f.pop():T==="."||f.push(T)}}f.length>1&&(vd(f)===""?t==="never"&&f.pop():t==="always"&&f.push(""));let h,d="";for(let g=0;g<f.length;g++){g>0&&(d+="/");const _=f[g];if(!_)continue;h=dv(_,0,h);const w=h[0];if(w===Ol){d+=_;continue}const T=h[5],R=_.substring(0,h[1]),C=_.substring(h[4],T),k=_.substring(h[2],h[3]);w===ca?d+=R||C?`${R}{$${k}}${C}`:`$${k}`:w===ua?d+=R||C?`${R}{$}${C}`:"$":d+=`${R}{-$${k}}${C}`}d=pv(d);const v=d||"/";return c&&i&&i.set(c,v),v}function kg(n,e,t){const i=e[n];return typeof i!="string"?i:n==="_splat"?encodeURI(i):dN(i,t)}function Lg({path:n,params:e,decodeCharMap:t}){let i=!1;const o={};if(!n||n==="/")return{interpolatedPath:"/",usedParams:o,isMissingParams:i};if(!n.includes("$"))return{interpolatedPath:n,usedParams:o,isMissingParams:i};const l=n.length;let c=0,f,h="";for(;c<l;){const v=c;f=dv(n,v,f);const g=f[5];if(c=g+1,v===g)continue;const _=f[0];if(_===Ol){h+="/"+n.substring(v,g);continue}if(_===ua){const w=e._splat;o._splat=w,o["*"]=w;const T=n.substring(v,f[1]),R=n.substring(f[4],g);if(!w){i=!0,(T||R)&&(h+="/"+T+R);continue}const C=kg("_splat",e,t);h+="/"+T+C+R;continue}if(_===ca){const w=n.substring(f[2],f[3]);!i&&!(w in e)&&(i=!0),o[w]=e[w];const T=n.substring(v,f[1]),R=n.substring(f[4],g),C=kg(w,e,t)??"undefined";h+="/"+T+C+R;continue}if(_===xu){const w=n.substring(f[2],f[3]),T=e[w];if(T==null)continue;o[w]=T;const R=n.substring(v,f[1]),C=n.substring(f[4],g),k=kg(w,e,t)??"";h+="/"+R+k+C;continue}}return n.endsWith("/")&&(h+="/"),{usedParams:o,interpolatedPath:h||"/",isMissingParams:i}}function dN(n,e){let t=encodeURIComponent(n);if(e)for(const[i,o]of e)t=t.replaceAll(i,o);return t}function Ur(n){return!!(n!=null&&n.isNotFound)}function mN(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{}}const Ed="tsr-scroll-restoration-v1_3",pN=(n,e)=>{let t;return(...i)=>{t||(t=setTimeout(()=>{n(...i),t=null},e))}};function gN(){const n=mN();if(!n)return null;const e=n.getItem(Ed);let t=e?JSON.parse(e):{};return{state:t,set:i=>(t=ro(i,t)||t,n.setItem(Ed,JSON.stringify(t)))}}const xh=gN(),Ay=n=>n.state.__TSR_key||n.href;function yN(n){const e=[];let t;for(;t=n.parentNode;)e.push(`${n.tagName}:nth-child(${Array.prototype.indexOf.call(t.children,n)+1})`),n=t;return`${e.reverse().join(" > ")}`.toLowerCase()}let Sd=!1;function mT({storageKey:n,key:e,behavior:t,shouldScrollRestoration:i,scrollToTopSelectors:o,location:l}){var d,v;let c;try{c=JSON.parse(sessionStorage.getItem(n)||"{}")}catch(g){console.error(g);return}const f=e||((d=window.history.state)==null?void 0:d.__TSR_key),h=c[f];Sd=!0;e:{if(i&&h&&Object.keys(h).length>0){for(const w in h){const T=h[w];if(w==="window")window.scrollTo({top:T.scrollY,left:T.scrollX,behavior:t});else if(w){const R=document.querySelector(w);R&&(R.scrollLeft=T.scrollX,R.scrollTop=T.scrollY)}}break e}const g=(l??window.location).hash.split("#",2)[1];if(g){const w=((v=window.history.state)==null?void 0:v.__hashScrollIntoViewOptions)??!0;if(w){const T=document.getElementById(g);T&&T.scrollIntoView(w)}break e}const _={top:0,left:0,behavior:t};if(window.scrollTo(_),o)for(const w of o){if(w==="window")continue;const T=typeof w=="function"?w():document.querySelector(w);T&&T.scrollTo(_)}}Sd=!1}function vN(n,e){if(!xh&&!n.isServer||((n.options.scrollRestoration??!1)&&(n.isScrollRestoring=!0),n.isServer||n.isScrollRestorationSetup||!xh))return;n.isScrollRestorationSetup=!0,Sd=!1;const i=n.options.getScrollRestorationKey||Ay;window.history.scrollRestoration="manual";const o=l=>{if(Sd||!n.isScrollRestoring)return;let c="";if(l.target===document||l.target===window)c="window";else{const h=l.target.getAttribute("data-scroll-restoration-id");h?c=`[data-scroll-restoration-id="${h}"]`:c=yN(l.target)}const f=i(n.state.location);xh.set(h=>{const d=h[f]||(h[f]={}),v=d[c]||(d[c]={});if(c==="window")v.scrollX=window.scrollX||0,v.scrollY=window.scrollY||0;else if(c){const g=document.querySelector(c);g&&(v.scrollX=g.scrollLeft||0,v.scrollY=g.scrollTop||0)}return h})};typeof document<"u"&&document.addEventListener("scroll",pN(o,100),!0),n.subscribe("onRendered",l=>{const c=i(l.toLocation);if(!n.resetNextScroll){n.resetNextScroll=!0;return}typeof n.options.scrollRestoration=="function"&&!n.options.scrollRestoration({location:n.latestLocation})||(mT({storageKey:Ed,key:c,behavior:n.options.scrollRestorationBehavior,shouldScrollRestoration:n.isScrollRestoring,scrollToTopSelectors:n.options.scrollToTopSelectors,location:n.history.location}),n.isScrollRestoring&&xh.set(f=>(f[c]||(f[c]={}),f)))})}function _N(n){if(typeof document<"u"&&document.querySelector){const e=n.state.location.state.__hashScrollIntoViewOptions??!0;if(e&&n.state.location.hash!==""){const t=document.getElementById(n.state.location.hash);t&&t.scrollIntoView(e)}}}function bN(n,e=String){const t=new URLSearchParams;for(const i in n){const o=n[i];o!==void 0&&t.set(i,e(o))}return t.toString()}function Vg(n){return n?n==="false"?!1:n==="true"?!0:+n*0===0&&+n+""===n?+n:n:""}function wN(n){const e=new URLSearchParams(n),t={};for(const[i,o]of e.entries()){const l=t[i];l==null?t[i]=Vg(o):Array.isArray(l)?l.push(Vg(o)):t[i]=[l,Vg(o)]}return t}const EN=TN(JSON.parse),SN=AN(JSON.stringify,JSON.parse);function TN(n){return e=>{e[0]==="?"&&(e=e.substring(1));const t=wN(e);for(const i in t){const o=t[i];if(typeof o=="string")try{t[i]=n(o)}catch{}}return t}}function AN(n,e){const t=typeof e=="function";function i(o){if(typeof o=="object"&&o!==null)try{return n(o)}catch{}else if(t&&typeof o=="string")try{return e(o),n(o)}catch{}return o}return o=>{const l=bN(o,i);return l?`?${l}`:""}}const mr="__root__";function xN(n){if(n.statusCode=n.statusCode||n.code||307,!n.reloadDocument&&typeof n.href=="string")try{new URL(n.href),n.reloadDocument=!0}catch{}const e=new Headers(n.headers);n.href&&e.get("Location")===null&&e.set("Location",n.href);const t=new Response(null,{status:n.statusCode,headers:e});if(t.options=n,n.throw)throw t;return t}function Wr(n){return n instanceof Response&&!!n.options}const Xh=n=>{var e;if(!n.rendered)return n.rendered=!0,(e=n.onReady)==null?void 0:e.call(n)},rm=(n,e)=>!!(n.preload&&!n.router.state.matches.some(t=>t.id===e)),gv=(n,e,t=!0)=>{const i={...n.router.options.context??{}},o=t?e:e-1;for(let l=0;l<=o;l++){const c=n.matches[l];if(!c)continue;const f=n.router.getMatch(c.id);f&&Object.assign(i,f.__routeContext,f.__beforeLoadContext)}return i},pT=(n,e)=>{var o;const t=n.router.routesById[e.routeId??""]??n.router.routeTree;!t.options.notFoundComponent&&((o=n.router.options)!=null&&o.defaultNotFoundComponent)&&(t.options.notFoundComponent=n.router.options.defaultNotFoundComponent),hs(t.options.notFoundComponent);const i=n.matches.find(l=>l.routeId===t.id);hs(i,"Could not find match for route: "+t.id),n.updateMatch(i.id,l=>({...l,status:"notFound",error:e,isFetching:!1})),e.routerCode==="BEFORE_LOAD"&&t.parentRoute&&(e.routeId=t.parentRoute.id,pT(n,e))},io=(n,e,t)=>{var i,o,l;if(!(!Wr(t)&&!Ur(t))){if(Wr(t)&&t.redirectHandled&&!t.options.reloadDocument)throw t;if(e){(i=e._nonReactive.beforeLoadPromise)==null||i.resolve(),(o=e._nonReactive.loaderPromise)==null||o.resolve(),e._nonReactive.beforeLoadPromise=void 0,e._nonReactive.loaderPromise=void 0;const c=Wr(t)?"redirected":"notFound";e._nonReactive.error=t,n.updateMatch(e.id,f=>({...f,status:c,isFetching:!1,error:t})),Ur(t)&&!t.routeId&&(t.routeId=e.routeId),(l=e._nonReactive.loadPromise)==null||l.resolve()}throw Wr(t)?(n.rendered=!0,t.options._fromLocation=n.location,t.redirectHandled=!0,t=n.router.resolveRedirect(t),t):(pT(n,t),t)}},gT=(n,e)=>{const t=n.router.getMatch(e);return!!(!n.router.isServer&&t._nonReactive.dehydrated||n.router.isServer&&t.ssr===!1)},ru=(n,e,t,i)=>{var f,h;const{id:o,routeId:l}=n.matches[e],c=n.router.looseRoutesById[l];if(t instanceof Promise)throw t;t.routerCode=i,n.firstBadMatchIndex??(n.firstBadMatchIndex=e),io(n,n.router.getMatch(o),t);try{(h=(f=c.options).onError)==null||h.call(f,t)}catch(d){t=d,io(n,n.router.getMatch(o),t)}n.updateMatch(o,d=>{var v,g;return(v=d._nonReactive.beforeLoadPromise)==null||v.resolve(),d._nonReactive.beforeLoadPromise=void 0,(g=d._nonReactive.loadPromise)==null||g.resolve(),{...d,error:t,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController}})},RN=(n,e,t,i)=>{var w;const o=n.router.getMatch(e),l=(w=n.matches[t-1])==null?void 0:w.id,c=l?n.router.getMatch(l):void 0;if(n.router.isShell()){o.ssr=i.id===mr;return}if((c==null?void 0:c.ssr)===!1){o.ssr=!1;return}const f=T=>T===!0&&(c==null?void 0:c.ssr)==="data-only"?"data-only":T,h=n.router.options.defaultSsr??!0;if(i.options.ssr===void 0){o.ssr=f(h);return}if(typeof i.options.ssr!="function"){o.ssr=f(i.options.ssr);return}const{search:d,params:v}=o,g={search:Rh(d,o.searchError),params:Rh(v,o.paramsError),location:n.location,matches:n.matches.map(T=>({index:T.index,pathname:T.pathname,fullPath:T.fullPath,staticData:T.staticData,id:T.id,routeId:T.routeId,search:Rh(T.search,T.searchError),params:Rh(T.params,T.paramsError),ssr:T.ssr}))},_=i.options.ssr(g);if(ao(_))return _.then(T=>{o.ssr=f(T??h)});o.ssr=f(_??h)},yT=(n,e,t,i)=>{var c;if(i._nonReactive.pendingTimeout!==void 0)return;const o=t.options.pendingMs??n.router.options.defaultPendingMs;if(!!(n.onReady&&!n.router.isServer&&!rm(n,e)&&(t.options.loader||t.options.beforeLoad||bT(t))&&typeof o=="number"&&o!==1/0&&(t.options.pendingComponent??((c=n.router.options)==null?void 0:c.defaultPendingComponent)))){const f=setTimeout(()=>{Xh(n)},o);i._nonReactive.pendingTimeout=f}},CN=(n,e,t)=>{const i=n.router.getMatch(e);if(!i._nonReactive.beforeLoadPromise&&!i._nonReactive.loaderPromise)return;yT(n,e,t,i);const o=()=>{const l=n.router.getMatch(e);l.preload&&(l.status==="redirected"||l.status==="notFound")&&io(n,l,l.error)};return i._nonReactive.beforeLoadPromise?i._nonReactive.beforeLoadPromise.then(o):o()},IN=(n,e,t,i)=>{var F;const o=n.router.getMatch(e),l=o._nonReactive.loadPromise;o._nonReactive.loadPromise=Dl(()=>{l==null||l.resolve()});const{paramsError:c,searchError:f}=o;c&&ru(n,t,c,"PARSE_PARAMS"),f&&ru(n,t,f,"VALIDATE_SEARCH"),yT(n,e,i,o);const h=new AbortController,d=(F=n.matches[t-1])==null?void 0:F.id,v=d?n.router.getMatch(d):void 0;(v==null?void 0:v.context)??n.router.options.context;let g=!1;const _=()=>{g||(g=!0,n.updateMatch(e,x=>({...x,isFetching:"beforeLoad",fetchCount:x.fetchCount+1,abortController:h})))},w=()=>{var x;(x=o._nonReactive.beforeLoadPromise)==null||x.resolve(),o._nonReactive.beforeLoadPromise=void 0,n.updateMatch(e,A=>({...A,isFetching:!1}))};if(!i.options.beforeLoad){vu(()=>{_(),w()});return}o._nonReactive.beforeLoadPromise=Dl();const T={...gv(n,t,!1),...o.__routeContext},{search:R,params:C,cause:k}=o,U=rm(n,e),z={search:R,abortController:h,params:C,preload:U,context:T,location:n.location,navigate:x=>n.router.navigate({...x,_fromLocation:n.location}),buildLocation:n.router.buildLocation,cause:U?"preload":k,matches:n.matches,...n.router.options.additionalContext},B=x=>{if(x===void 0){vu(()=>{_(),w()});return}(Wr(x)||Ur(x))&&(_(),ru(n,t,x,"BEFORE_LOAD")),vu(()=>{_(),n.updateMatch(e,A=>({...A,__beforeLoadContext:x})),w()})};let $;try{if($=i.options.beforeLoad(z),ao($))return _(),$.catch(x=>{ru(n,t,x,"BEFORE_LOAD")}).then(B)}catch(x){_(),ru(n,t,x,"BEFORE_LOAD")}B($)},NN=(n,e)=>{const{id:t,routeId:i}=n.matches[e],o=n.router.looseRoutesById[i],l=()=>{if(n.router.isServer){const h=RN(n,t,e,o);if(ao(h))return h.then(f)}return f()},c=()=>IN(n,t,e,o),f=()=>{if(gT(n,t))return;const h=CN(n,t,o);return ao(h)?h.then(c):c()};return l()},_u=(n,e,t)=>{var l,c,f,h,d,v;const i=n.router.getMatch(e);if(!i||!t.options.head&&!t.options.scripts&&!t.options.headers)return;const o={matches:n.matches,match:i,params:i.params,loaderData:i.loaderData};return Promise.all([(c=(l=t.options).head)==null?void 0:c.call(l,o),(h=(f=t.options).scripts)==null?void 0:h.call(f,o),(v=(d=t.options).headers)==null?void 0:v.call(d,o)]).then(([g,_,w])=>{const T=g==null?void 0:g.meta,R=g==null?void 0:g.links,C=g==null?void 0:g.scripts,k=g==null?void 0:g.styles;return{meta:T,links:R,headScripts:C,headers:w,scripts:_,styles:k}})},vT=(n,e,t,i)=>{const o=n.matchPromises[t-1],{params:l,loaderDeps:c,abortController:f,cause:h}=n.router.getMatch(e),d=gv(n,t),v=rm(n,e);return{params:l,deps:c,preload:!!v,parentMatchPromise:o,abortController:f,context:d,location:n.location,navigate:g=>n.router.navigate({...g,_fromLocation:n.location}),cause:v?"preload":h,route:i,...n.router.options.additionalContext}},yE=async(n,e,t,i)=>{var o,l,c,f,h,d;try{const v=n.router.getMatch(e);try{(!n.router.isServer||v.ssr===!0)&&_T(i);const g=(l=(o=i.options).loader)==null?void 0:l.call(o,vT(n,e,t,i)),_=i.options.loader&&ao(g);if(!!(_||i._lazyPromise||i._componentsPromise||i.options.head||i.options.scripts||i.options.headers||v._nonReactive.minPendingPromise)&&n.updateMatch(e,k=>({...k,isFetching:"loader"})),i.options.loader){const k=_?await g:g;io(n,n.router.getMatch(e),k),k!==void 0&&n.updateMatch(e,U=>({...U,loaderData:k}))}i._lazyPromise&&await i._lazyPromise;const T=_u(n,e,i),R=T?await T:void 0,C=v._nonReactive.minPendingPromise;C&&await C,i._componentsPromise&&await i._componentsPromise,n.updateMatch(e,k=>({...k,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),...R}))}catch(g){let _=g;const w=v._nonReactive.minPendingPromise;w&&await w,Ur(g)&&await((f=(c=i.options.notFoundComponent)==null?void 0:c.preload)==null?void 0:f.call(c)),io(n,n.router.getMatch(e),g);try{(d=(h=i.options).onError)==null||d.call(h,g)}catch(C){_=C,io(n,n.router.getMatch(e),C)}const T=_u(n,e,i),R=T?await T:void 0;n.updateMatch(e,C=>({...C,error:_,status:"error",isFetching:!1,...R}))}}catch(v){const g=n.router.getMatch(e);if(g){const _=_u(n,e,i);if(_){const w=await _;n.updateMatch(e,T=>({...T,...w}))}g._nonReactive.loaderPromise=void 0}io(n,g,v)}},MN=async(n,e)=>{var v,g;const{id:t,routeId:i}=n.matches[e];let o=!1,l=!1;const c=n.router.looseRoutesById[i],f=()=>{n.updateMatch(t,_=>({..._,context:gv(n,e)}))};if(gT(n,t)){if(n.router.isServer){const _=_u(n,t,c);if(_){const w=await _;n.updateMatch(t,T=>({...T,...w}))}return n.router.getMatch(t)}}else{const _=n.router.getMatch(t);if(_._nonReactive.loaderPromise){if(_.status==="success"&&!n.sync&&!_.preload)return _;await _._nonReactive.loaderPromise;const w=n.router.getMatch(t),T=w._nonReactive.error||w.error;T&&io(n,w,T)}else{const w=Date.now()-_.updatedAt,T=rm(n,t),R=T?c.options.preloadStaleTime??n.router.options.defaultPreloadStaleTime??3e4:c.options.staleTime??n.router.options.defaultStaleTime??0,C=c.options.shouldReload,k=typeof C=="function"?C(vT(n,t,e,c)):C,U=!!T&&!n.router.state.matches.some(F=>F.id===t),z=n.router.getMatch(t);z._nonReactive.loaderPromise=Dl(),U!==z.preload&&n.updateMatch(t,F=>({...F,preload:U}));const{status:B,invalid:$}=z;if(o=B==="success"&&($||(k??w>R)),!(T&&c.options.preload===!1))if(o&&!n.sync)l=!0,(async()=>{var F,x;try{await yE(n,t,e,c),f();const A=n.router.getMatch(t);(F=A._nonReactive.loaderPromise)==null||F.resolve(),(x=A._nonReactive.loadPromise)==null||x.resolve(),A._nonReactive.loaderPromise=void 0}catch(A){Wr(A)&&await n.router.navigate(A.options)}})();else if(B!=="success"||o&&n.sync)await yE(n,t,e,c);else{const F=_u(n,t,c);if(F){const x=await F;n.updateMatch(t,A=>({...A,...x}))}}}}const h=n.router.getMatch(t);l||((v=h._nonReactive.loaderPromise)==null||v.resolve(),(g=h._nonReactive.loadPromise)==null||g.resolve()),clearTimeout(h._nonReactive.pendingTimeout),h._nonReactive.pendingTimeout=void 0,l||(h._nonReactive.loaderPromise=void 0),h._nonReactive.dehydrated=void 0,l||f();const d=l?h.isFetching:!1;return d!==h.isFetching||h.invalid!==!1?(n.updateMatch(t,_=>({..._,isFetching:d,invalid:!1})),n.router.getMatch(t)):h};async function vE(n){const e=Object.assign(n,{matchPromises:[]});!e.router.isServer&&e.router.state.matches.some(t=>t._forcePending)&&Xh(e);try{for(let o=0;o<e.matches.length;o++){const l=NN(e,o);ao(l)&&await l}const t=e.firstBadMatchIndex??e.matches.length;for(let o=0;o<t;o++)e.matchPromises.push(MN(e,o));await Promise.all(e.matchPromises);const i=Xh(e);ao(i)&&await i}catch(t){if(Ur(t)&&!e.preload){const i=Xh(e);throw ao(i)&&await i,t}if(Wr(t))throw t}return e.matches}async function _T(n){if(!n._lazyLoaded&&n._lazyPromise===void 0&&(n.lazyFn?n._lazyPromise=n.lazyFn().then(e=>{const{id:t,...i}=e.options;Object.assign(n.options,i),n._lazyLoaded=!0,n._lazyPromise=void 0}):n._lazyLoaded=!0),!n._componentsLoaded&&n._componentsPromise===void 0){const e=()=>{var i;const t=[];for(const o of wT){const l=(i=n.options[o])==null?void 0:i.preload;l&&t.push(l())}if(t.length)return Promise.all(t).then(()=>{n._componentsLoaded=!0,n._componentsPromise=void 0});n._componentsLoaded=!0,n._componentsPromise=void 0};n._componentsPromise=n._lazyPromise?n._lazyPromise.then(e):e()}return n._componentsPromise}function Rh(n,e){return e?{status:"error",error:e}:{status:"success",value:n}}function bT(n){var e;for(const t of wT)if((e=n.options[t])!=null&&e.preload)return!0;return!1}const wT=["component","errorComponent","pendingComponent","notFoundComponent"];function DN(n){return{input:({url:e})=>{for(const t of n)e=ET(t,e);return e},output:({url:e})=>{for(let t=n.length-1;t>=0;t--)e=ST(n[t],e);return e}}}function ON(n){const e=dT(n.basepath),t=`/${e}`,i=`${t}/`,o=n.caseSensitive?t:t.toLowerCase(),l=n.caseSensitive?i:i.toLowerCase();return{input:({url:c})=>{const f=n.caseSensitive?c.pathname:c.pathname.toLowerCase();return f===o?c.pathname="/":f.startsWith(l)&&(c.pathname=c.pathname.slice(t.length)),c},output:({url:c})=>(c.pathname=Yh(["/",e,c.pathname]),c)}}function ET(n,e){var i;const t=(i=n==null?void 0:n.input)==null?void 0:i.call(n,{url:e});if(t){if(typeof t=="string")return new URL(t);if(t instanceof URL)return t}return e}function ST(n,e){var i;const t=(i=n==null?void 0:n.output)==null?void 0:i.call(n,{url:e});if(t){if(typeof t=="string")return new URL(t);if(t instanceof URL)return t}return e}function oa(n){const e=n.resolvedLocation,t=n.location,i=(e==null?void 0:e.pathname)!==t.pathname,o=(e==null?void 0:e.href)!==t.href,l=(e==null?void 0:e.hash)!==t.hash;return{fromLocation:e,toLocation:t,pathChanged:i,hrefChanged:o,hashChanged:l}}class PN{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=t=>t(),this.update=t=>{var _;t.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const i=this.options,o=this.basepath??(i==null?void 0:i.basepath)??"/",l=this.basepath===void 0,c=i==null?void 0:i.rewrite;this.options={...i,...t},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(w=>[encodeURIComponent(w),w])):void 0,(!this.history||this.options.history&&this.options.history!==this.history)&&(this.options.history?this.history=this.options.history:this.isServer||(this.history=Y2())),this.origin=this.options.origin,this.origin||(!this.isServer&&(window!=null&&window.origin)&&window.origin!=="null"?this.origin=window.origin:this.origin="http://localhost"),this.history&&this.updateLatestLocation(),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),!this.__store&&this.latestLocation&&(this.__store=new $2(LN(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(w=>!["redirected"].includes(w.status))}}}),vN(this));let f=!1;const h=this.options.basepath??"/",d=this.options.rewrite;if(l||o!==h||c!==d){this.basepath=h;const w=[];dT(h)!==""&&w.push(ON({basepath:h})),d&&w.push(d),this.rewrite=w.length===0?void 0:w.length===1?w[0]:DN(w),this.history&&this.updateLatestLocation(),f=!0}f&&this.__store&&(this.__store.state={...this.state,location:this.latestLocation}),typeof window<"u"&&"CSS"in window&&typeof((_=window.CSS)==null?void 0:_.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.updateLatestLocation=()=>{this.latestLocation=this.parseLocation(this.history.location,this.latestLocation)},this.buildRouteTree=()=>{const{routesById:t,routesByPath:i,processedTree:o}=oN(this.routeTree,this.options.caseSensitive,(c,f)=>{c.init({originalIndex:f})});this.options.routeMasks&&tN(this.options.routeMasks,o),this.routesById=t,this.routesByPath=i,this.processedTree=o;const l=this.options.notFoundRoute;l&&(l.init({originalIndex:99999999999}),this.routesById[l.id]=l)},this.subscribe=(t,i)=>{const o={eventType:t,fn:i};return this.subscribers.add(o),()=>{this.subscribers.delete(o)}},this.emit=t=>{this.subscribers.forEach(i=>{i.eventType===t.type&&i.fn(t)})},this.parseLocation=(t,i)=>{const o=({href:h,state:d})=>{const v=new URL(h,this.origin),g=ET(this.rewrite,v),_=this.options.parseSearch(g.search),w=this.options.stringifySearch(_);return g.search=w,{href:g.href.replace(g.origin,""),publicHref:h,url:g,pathname:gE(g.pathname),searchStr:w,search:kr(i==null?void 0:i.search,_),hash:g.hash.split("#").reverse()[0]??"",state:kr(i==null?void 0:i.state,d)}},l=o(t),{__tempLocation:c,__tempKey:f}=l.state;if(c&&(!f||f===this.tempLocationKey)){const h=o(c);return h.state.key=l.state.key,h.state.__TSR_key=l.state.__TSR_key,delete h.state.__tempLocation,{...h,maskedLocation:l}}return l},this.resolvePathCache=bd(1e3),this.resolvePathWithBase=(t,i)=>hN({base:t,to:pv(i),trailingSlash:this.options.trailingSlash,cache:this.resolvePathCache}),this.matchRoutes=(t,i,o)=>typeof t=="string"?this.matchRoutesInternal({pathname:t,search:i},o):this.matchRoutesInternal(t,i),this.getMatchedRoutes=t=>VN({pathname:t,routesById:this.routesById,processedTree:this.processedTree}),this.cancelMatch=t=>{const i=this.getMatch(t);i&&(i.abortController.abort(),clearTimeout(i._nonReactive.pendingTimeout),i._nonReactive.pendingTimeout=void 0)},this.cancelMatches=()=>{const t=this.state.matches.filter(l=>l.status==="pending"),i=this.state.matches.filter(l=>l.isFetching==="loader");new Set([...this.state.pendingMatches??[],...t,...i]).forEach(l=>{this.cancelMatch(l.id)})},this.buildLocation=t=>{const i=(l={})=>{var P,O;const c=l._fromLocation||this.pendingBuiltLocation||this.latestLocation,f=this.matchRoutes(c,{_buildLocation:!0}),h=vd(f);l.from;const d=l.unsafeRelative==="path"?c.pathname:l.from??h.fullPath,v=this.resolvePathWithBase(d,"."),g=h.search,_={...h.params},w=l.to?this.resolvePathWithBase(v,`${l.to}`):this.resolvePathWithBase(v,"."),T=l.params===!1||l.params===null?{}:(l.params??!0)===!0?_:Object.assign(_,ro(l.params,_)),R=Lg({path:w,params:T}).interpolatedPath,C=this.matchRoutes(R,void 0,{_buildLocation:!0}).map(j=>this.looseRoutesById[j.routeId]);if(Object.keys(T).length>0)for(const j of C){const L=((P=j.options.params)==null?void 0:P.stringify)??j.options.stringifyParams;L&&Object.assign(T,L(T))}const k=t.leaveParams?w:gE(Lg({path:w,params:T,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath);let U=g;if(t._includeValidateSearch&&((O=this.options.search)!=null&&O.strict)){const j={};C.forEach(L=>{if(L.options.validateSearch)try{Object.assign(j,xy(L.options.validateSearch,{...j,...U}))}catch{}}),U=j}U=UN({search:U,dest:l,destRoutes:C,_includeValidateSearch:t._includeValidateSearch}),U=kr(g,U);const z=this.options.stringifySearch(U),B=l.hash===!0?c.hash:l.hash?ro(l.hash,c.hash):void 0,$=B?`#${B}`:"";let F=l.state===!0?c.state:l.state?ro(l.state,c.state):{};F=kr(c.state,F);const x=`${k}${z}${$}`,A=new URL(x,this.origin),M=ST(this.rewrite,A);return{publicHref:M.pathname+M.search+M.hash,href:x,url:M,pathname:k,search:U,searchStr:z,state:F,hash:B??"",unmaskOnReload:l.unmaskOnReload}},o=(l={},c)=>{const f=i(l);let h=c?i(c):void 0;if(!h){const d={};if(this.options.routeMasks){const v=nN(f.pathname,this.processedTree);if(v){Object.assign(d,v.params);const{from:g,params:_,...w}=v.route,T=_===!1||_===null?{}:(_??!0)===!0?d:Object.assign(d,ro(_,d));c={from:t.from,...w,params:T},h=i(c)}}}return h&&(f.maskedLocation=h),f};return t.mask?o(t,{from:t.from,...t.mask}):o(t)},this.commitLocation=({viewTransition:t,ignoreBlocker:i,...o})=>{const l=()=>{const h=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];h.forEach(v=>{o.state[v]=this.latestLocation.state[v]});const d=ia(o.state,this.latestLocation.state);return h.forEach(v=>{delete o.state[v]}),d},c=sa(this.latestLocation.href)===sa(o.href),f=this.commitLocationPromise;if(this.commitLocationPromise=Dl(()=>{f==null||f.resolve()}),c&&l())this.load();else{let{maskedLocation:h,hashScrollIntoView:d,url:v,...g}=o;h&&(g={...h,state:{...h.state,__tempKey:void 0,__tempLocation:{...g,search:g.searchStr,state:{...g.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(g.unmaskOnReload??this.options.unmaskOnReload??!1)&&(g.state.__tempKey=this.tempLocationKey)),g.state.__hashScrollIntoViewOptions=d??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=t,this.history[o.replace?"replace":"push"](g.publicHref,g.state,{ignoreBlocker:i})}return this.resetNextScroll=o.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:t,resetScroll:i,hashScrollIntoView:o,viewTransition:l,ignoreBlocker:c,href:f,...h}={})=>{if(f){const g=this.history.location.state.__TSR_index,_=yd(f,{__TSR_index:t?g:g+1});h.to=_.pathname,h.search=this.options.parseSearch(_.search),h.hash=_.hash.slice(1)}const d=this.buildLocation({...h,_includeValidateSearch:!0});this.pendingBuiltLocation=d;const v=this.commitLocation({...d,viewTransition:l,replace:t,resetScroll:i,hashScrollIntoView:o,ignoreBlocker:c});return Promise.resolve().then(()=>{this.pendingBuiltLocation===d&&(this.pendingBuiltLocation=void 0)}),v},this.navigate=async({to:t,reloadDocument:i,href:o,...l})=>{var c;if(!i&&o)try{new URL(`${o}`),i=!0}catch{}if(i){if(o||(o=this.buildLocation({to:t,...l}).url.href),!l.ignoreBlocker){const f=this.history,h=((c=f.getBlockers)==null?void 0:c.call(f))??[];for(const d of h)if(d!=null&&d.blockerFn&&await d.blockerFn({currentLocation:this.latestLocation,nextLocation:this.latestLocation,action:"PUSH"}))return Promise.resolve()}return l.replace?window.location.replace(o):window.location.href=o,Promise.resolve()}return this.buildAndCommitLocation({...l,href:o,to:t,_isNavigate:!0})},this.beforeLoad=()=>{if(this.cancelMatches(),this.updateLatestLocation(),this.isServer){const i=this.buildLocation({to:this.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});if(this.latestLocation.publicHref!==i.publicHref||i.url.origin!==this.origin){const o=this.getParsedLocationHref(i);throw xN({href:o})}}const t=this.matchRoutes(this.latestLocation);this.__store.setState(i=>({...i,status:"pending",statusCode:200,isLoading:!0,location:this.latestLocation,pendingMatches:t,cachedMatches:i.cachedMatches.filter(o=>!t.some(l=>l.id===o.id))}))},this.load=async t=>{let i,o,l;for(l=new Promise(f=>{this.startTransition(async()=>{var h;try{this.beforeLoad();const d=this.latestLocation,v=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...oa({resolvedLocation:v,location:d})}),this.emit({type:"onBeforeLoad",...oa({resolvedLocation:v,location:d})}),await vE({router:this,sync:t==null?void 0:t.sync,matches:this.state.pendingMatches,location:d,updateMatch:this.updateMatch,onReady:async()=>{this.startTransition(()=>{this.startViewTransition(async()=>{let g=[],_=[],w=[];vu(()=>{this.__store.setState(T=>{const R=T.matches,C=T.pendingMatches||T.matches;return g=R.filter(k=>!C.some(U=>U.id===k.id)),_=C.filter(k=>!R.some(U=>U.id===k.id)),w=C.filter(k=>R.some(U=>U.id===k.id)),{...T,isLoading:!1,loadedAt:Date.now(),matches:C,pendingMatches:void 0,cachedMatches:[...T.cachedMatches,...g.filter(k=>k.status!=="error"&&k.status!=="notFound")]}}),this.clearExpiredCache()}),[[g,"onLeave"],[_,"onEnter"],[w,"onStay"]].forEach(([T,R])=>{T.forEach(C=>{var k,U;(U=(k=this.looseRoutesById[C.routeId].options)[R])==null||U.call(k,C)})})})})}})}catch(d){Wr(d)?(i=d,this.isServer||this.navigate({...i.options,replace:!0,ignoreBlocker:!0})):Ur(d)&&(o=d),this.__store.setState(v=>({...v,statusCode:i?i.status:o?404:v.matches.some(g=>g.status==="error")?500:200,redirect:i}))}this.latestLoadPromise===l&&((h=this.commitLocationPromise)==null||h.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),f()})}),this.latestLoadPromise=l,await l;this.latestLoadPromise&&l!==this.latestLoadPromise;)await this.latestLoadPromise;let c;this.hasNotFoundMatch()?c=404:this.__store.state.matches.some(f=>f.status==="error")&&(c=500),c!==void 0&&this.__store.setState(f=>({...f,statusCode:c}))},this.startViewTransition=t=>{const i=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,i&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let o;if(typeof i=="object"&&this.isViewTransitionTypesSupported){const l=this.latestLocation,c=this.state.resolvedLocation,f=typeof i.types=="function"?i.types(oa({resolvedLocation:c,location:l})):i.types;if(f===!1){t();return}o={update:t,types:f}}else o=t;document.startViewTransition(o)}else t()},this.updateMatch=(t,i)=>{this.startTransition(()=>{var l;const o=(l=this.state.pendingMatches)!=null&&l.some(c=>c.id===t)?"pendingMatches":this.state.matches.some(c=>c.id===t)?"matches":this.state.cachedMatches.some(c=>c.id===t)?"cachedMatches":"";o&&this.__store.setState(c=>{var f;return{...c,[o]:(f=c[o])==null?void 0:f.map(h=>h.id===t?i(h):h)}})})},this.getMatch=t=>{var o;const i=l=>l.id===t;return this.state.cachedMatches.find(i)??((o=this.state.pendingMatches)==null?void 0:o.find(i))??this.state.matches.find(i)},this.invalidate=t=>{const i=o=>{var l;return((l=t==null?void 0:t.filter)==null?void 0:l.call(t,o))??!0?{...o,invalid:!0,...t!=null&&t.forcePending||o.status==="error"||o.status==="notFound"?{status:"pending",error:void 0}:void 0}:o};return this.__store.setState(o=>{var l;return{...o,matches:o.matches.map(i),cachedMatches:o.cachedMatches.map(i),pendingMatches:(l=o.pendingMatches)==null?void 0:l.map(i)}}),this.shouldViewTransition=!1,this.load({sync:t==null?void 0:t.sync})},this.getParsedLocationHref=t=>{let i=t.url.href;return this.origin&&t.url.origin===this.origin&&(i=i.replace(this.origin,"")||"/"),i},this.resolveRedirect=t=>{if(!t.options.href){const i=this.buildLocation(t.options),o=this.getParsedLocationHref(i);t.options.href=i.href,t.headers.set("Location",o)}return t.headers.get("Location")||t.headers.set("Location",t.options.href),t},this.clearCache=t=>{const i=t==null?void 0:t.filter;i!==void 0?this.__store.setState(o=>({...o,cachedMatches:o.cachedMatches.filter(l=>!i(l))})):this.__store.setState(o=>({...o,cachedMatches:[]}))},this.clearExpiredCache=()=>{const t=i=>{const o=this.looseRoutesById[i.routeId];if(!o.options.loader)return!0;const l=(i.preload?o.options.preloadGcTime??this.options.defaultPreloadGcTime:o.options.gcTime??this.options.defaultGcTime)??300*1e3;return i.status==="error"?!0:Date.now()-i.updatedAt>=l};this.clearCache({filter:t})},this.loadRouteChunk=_T,this.preloadRoute=async t=>{const i=this.buildLocation(t);let o=this.matchRoutes(i,{throwOnError:!0,preload:!0,dest:t});const l=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(f=>f.id)),c=new Set([...l,...this.state.cachedMatches.map(f=>f.id)]);vu(()=>{o.forEach(f=>{c.has(f.id)||this.__store.setState(h=>({...h,cachedMatches:[...h.cachedMatches,f]}))})});try{return o=await vE({router:this,matches:o,location:i,preload:!0,updateMatch:(f,h)=>{l.has(f)?o=o.map(d=>d.id===f?h(d):d):this.updateMatch(f,h)}}),o}catch(f){if(Wr(f))return f.options.reloadDocument?void 0:await this.preloadRoute({...f.options,_fromLocation:i});Ur(f)||console.error(f);return}},this.matchRoute=(t,i)=>{const o={...t,to:t.to?this.resolvePathWithBase(t.from||"",t.to):void 0,params:t.params||{},leaveParams:!0},l=this.buildLocation(o);if(i!=null&&i.pending&&this.state.status!=="pending")return!1;const f=((i==null?void 0:i.pending)===void 0?!this.state.isLoading:i.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,h=rN(l.pathname,(i==null?void 0:i.caseSensitive)??!1,(i==null?void 0:i.fuzzy)??!1,f.pathname,this.processedTree);return!h||t.params&&!ia(h.params,t.params,{partial:!0})?!1:(i==null?void 0:i.includeSearch)??!0?ia(f.search,l.search,{partial:!0})?h.params:!1:h.params},this.hasNotFoundMatch=()=>this.__store.state.matches.some(t=>t.status==="notFound"||t.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??SN,parseSearch:e.parseSearch??EN}),typeof document<"u"&&(self.__TSR_ROUTER__=this)}isShell(){return!!this.options.isShell}isPrerendering(){return!!this.options.isPrerendering}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutesInternal(e,t){const i=this.getMatchedRoutes(e.pathname),{foundRoute:o,routeParams:l}=i;let{matchedRoutes:c}=i,f=!1;(o?o.path!=="/"&&l["**"]:sa(e.pathname))&&(this.options.notFoundRoute?c=[...c,this.options.notFoundRoute]:f=!0);const h=(()=>{if(f){if(this.options.notFoundMode!=="root")for(let g=c.length-1;g>=0;g--){const _=c[g];if(_.children)return _.id}return mr}})(),d=[],v=g=>(g==null?void 0:g.id)?g.context??this.options.context??void 0:this.options.context??void 0;return c.forEach((g,_)=>{var L,he,pe;const w=d[_-1],[T,R,C]=(()=>{const H=(w==null?void 0:w.search)??e.search,J=(w==null?void 0:w._strictSearch)??void 0;try{const X=xy(g.options.validateSearch,{...H})??void 0;return[{...H,...X},{...J,...X},void 0]}catch(X){let ge=X;if(X instanceof Td||(ge=new Td(X.message,{cause:X})),t!=null&&t.throwOnError)throw ge;return[H,{},ge]}})(),k=((he=(L=g.options).loaderDeps)==null?void 0:he.call(L,{search:T}))??"",U=k?JSON.stringify(k):"",{interpolatedPath:z,usedParams:B}=Lg({path:g.fullPath,params:l,decodeCharMap:this.pathParamsDecodeCharMap}),$=g.id+z+U,F=this.getMatch($),x=this.state.matches.find(H=>H.routeId===g.id),A=(F==null?void 0:F._strictParams)??B;let M;if(!F){const H=((pe=g.options.params)==null?void 0:pe.parse)??g.options.parseParams;if(H)try{Object.assign(A,H(A))}catch(J){if(Ur(J)||Wr(J)?M=J:M=new kN(J.message,{cause:J}),t!=null&&t.throwOnError)throw M}}Object.assign(l,A);const P=x?"stay":"enter";let O;if(F)O={...F,cause:P,params:x?kr(x.params,l):l,_strictParams:A,search:kr(x?x.search:F.search,T),_strictSearch:R};else{const H=g.options.loader||g.options.beforeLoad||g.lazyFn||bT(g)?"pending":"success";O={id:$,ssr:this.isServer?void 0:g.options.ssr,index:_,routeId:g.id,params:x?kr(x.params,l):l,_strictParams:A,pathname:z,updatedAt:Date.now(),search:x?kr(x.search,T):T,_strictSearch:R,searchError:void 0,status:H,isFetching:!1,error:void 0,paramsError:M,__routeContext:void 0,_nonReactive:{loadPromise:Dl()},__beforeLoadContext:void 0,context:{},abortController:new AbortController,fetchCount:0,cause:P,loaderDeps:x?kr(x.loaderDeps,k):k,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:g.options.staticData||{},fullPath:g.fullPath}}t!=null&&t.preload||(O.globalNotFound=h===g.id),O.searchError=C;const j=v(w);O.context={...j,...O.__routeContext,...O.__beforeLoadContext},d.push(O)}),d.forEach((g,_)=>{const w=this.looseRoutesById[g.routeId];if(!this.getMatch(g.id)&&(t==null?void 0:t._buildLocation)!==!0){const R=d[_-1],C=v(R);if(w.options.context){const k={deps:g.loaderDeps,params:g.params,context:C??{},location:e,navigate:U=>this.navigate({...U,_fromLocation:e}),buildLocation:this.buildLocation,cause:g.cause,abortController:g.abortController,preload:!!g.preload,matches:d};g.__routeContext=w.options.context(k)??void 0}g.context={...C,...g.__routeContext,...g.__beforeLoadContext}}}),d}}class Td extends Error{}class kN extends Error{}function LN(n){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:n,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function xy(n,e){if(n==null)return{};if("~standard"in n){const t=n["~standard"].validate(e);if(t instanceof Promise)throw new Td("Async validation not supported");if(t.issues)throw new Td(JSON.stringify(t.issues,void 0,2),{cause:t});return t.value}return"parse"in n?n.parse(e):typeof n=="function"?n(e):{}}function VN({pathname:n,routesById:e,processedTree:t}){const i={},o=sa(n);let l;const c=iN(o,t,!0);return c&&(l=c.route,Object.assign(i,c.params)),{matchedRoutes:(c==null?void 0:c.branch)||[e[mr]],routeParams:i,foundRoute:l}}function UN({search:n,dest:e,destRoutes:t,_includeValidateSearch:i}){const o=t.reduce((f,h)=>{var v;const d=[];if("search"in h.options)(v=h.options.search)!=null&&v.middlewares&&d.push(...h.options.search.middlewares);else if(h.options.preSearchFilters||h.options.postSearchFilters){const g=({search:_,next:w})=>{let T=_;"preSearchFilters"in h.options&&h.options.preSearchFilters&&(T=h.options.preSearchFilters.reduce((C,k)=>k(C),_));const R=w(T);return"postSearchFilters"in h.options&&h.options.postSearchFilters?h.options.postSearchFilters.reduce((C,k)=>k(C),R):R};d.push(g)}if(i&&h.options.validateSearch){const g=({search:_,next:w})=>{const T=w(_);try{return{...T,...xy(h.options.validateSearch,T)??void 0}}catch{return T}};d.push(g)}return f.concat(d)},[])??[],l=({search:f})=>e.search?e.search===!0?f:ro(e.search,f):{};o.push(l);const c=(f,h)=>{if(f>=o.length)return h;const d=o[f];return d({search:h,next:g=>c(f+1,g)})};return c(0,n)}const zN="Error preloading route! ";class TT{constructor(e){if(this.init=t=>{var d,v;this.originalIndex=t.originalIndex;const i=this.options,o=!(i!=null&&i.path)&&!(i!=null&&i.id);this.parentRoute=(v=(d=this.options).getParentRoute)==null?void 0:v.call(d),o?this._path=mr:this.parentRoute||hs(!1);let l=o?mr:i==null?void 0:i.path;l&&l!=="/"&&(l=hT(l));const c=(i==null?void 0:i.id)||l;let f=o?mr:Yh([this.parentRoute.id===mr?"":this.parentRoute.id,c]);l===mr&&(l="/"),f!==mr&&(f=Yh(["/",f]));const h=f===mr?"/":Yh([this.parentRoute.fullPath,l]);this._path=l,this._id=f,this._fullPath=h,this._to=h},this.addChildren=t=>this._addFileChildren(t),this._addFileChildren=t=>(Array.isArray(t)&&(this.children=t),typeof t=="object"&&t!==null&&(this.children=Object.values(t)),this),this._addFileTypes=()=>this,this.updateLoader=t=>(Object.assign(this.options,t),this),this.update=t=>(Object.assign(this.options,t),this),this.lazy=t=>(this.lazyFn=t,this),this.options=e||{},this.isRoot=!(e!=null&&e.getParentRoute),e!=null&&e.id&&(e!=null&&e.path))throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}}class jN extends TT{constructor(e){super(e)}}var Ug={exports:{}},je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _E;function BN(){if(_E)return je;_E=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),_=Symbol.iterator;function w(G){return G===null||typeof G!="object"?null:(G=_&&G[_]||G["@@iterator"],typeof G=="function"?G:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,C={};function k(G,ie,ne){this.props=G,this.context=ie,this.refs=C,this.updater=ne||T}k.prototype.isReactComponent={},k.prototype.setState=function(G,ie){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ie,"setState")},k.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function U(){}U.prototype=k.prototype;function z(G,ie,ne){this.props=G,this.context=ie,this.refs=C,this.updater=ne||T}var B=z.prototype=new U;B.constructor=z,R(B,k.prototype),B.isPureReactComponent=!0;var $=Array.isArray;function F(){}var x={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function M(G,ie,ne){var oe=ne.ref;return{$$typeof:n,type:G,key:ie,ref:oe!==void 0?oe:null,props:ne}}function P(G,ie){return M(G.type,ie,G.props)}function O(G){return typeof G=="object"&&G!==null&&G.$$typeof===n}function j(G){var ie={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(ne){return ie[ne]})}var L=/\/+/g;function he(G,ie){return typeof G=="object"&&G!==null&&G.key!=null?j(""+G.key):ie.toString(36)}function pe(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(F,F):(G.status="pending",G.then(function(ie){G.status==="pending"&&(G.status="fulfilled",G.value=ie)},function(ie){G.status==="pending"&&(G.status="rejected",G.reason=ie)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function H(G,ie,ne,oe,de){var _e=typeof G;(_e==="undefined"||_e==="boolean")&&(G=null);var ae=!1;if(G===null)ae=!0;else switch(_e){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(G.$$typeof){case n:case e:ae=!0;break;case v:return ae=G._init,H(ae(G._payload),ie,ne,oe,de)}}if(ae)return de=de(G),ae=oe===""?"."+he(G,0):oe,$(de)?(ne="",ae!=null&&(ne=ae.replace(L,"$&/")+"/"),H(de,ie,ne,"",function(Ie){return Ie})):de!=null&&(O(de)&&(de=P(de,ne+(de.key==null||G&&G.key===de.key?"":(""+de.key).replace(L,"$&/")+"/")+ae)),ie.push(de)),1;ae=0;var ye=oe===""?".":oe+":";if($(G))for(var Ee=0;Ee<G.length;Ee++)oe=G[Ee],_e=ye+he(oe,Ee),ae+=H(oe,ie,ne,_e,de);else if(Ee=w(G),typeof Ee=="function")for(G=Ee.call(G),Ee=0;!(oe=G.next()).done;)oe=oe.value,_e=ye+he(oe,Ee++),ae+=H(oe,ie,ne,_e,de);else if(_e==="object"){if(typeof G.then=="function")return H(pe(G),ie,ne,oe,de);throw ie=String(G),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return ae}function J(G,ie,ne){if(G==null)return G;var oe=[],de=0;return H(G,oe,"","",function(_e){return ie.call(ne,_e,de++)}),oe}function X(G){if(G._status===-1){var ie=G._result;ie=ie(),ie.then(function(ne){(G._status===0||G._status===-1)&&(G._status=1,G._result=ne)},function(ne){(G._status===0||G._status===-1)&&(G._status=2,G._result=ne)}),G._status===-1&&(G._status=0,G._result=ie)}if(G._status===1)return G._result.default;throw G._result}var ge=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)},we={map:J,forEach:function(G,ie,ne){J(G,function(){ie.apply(this,arguments)},ne)},count:function(G){var ie=0;return J(G,function(){ie++}),ie},toArray:function(G){return J(G,function(ie){return ie})||[]},only:function(G){if(!O(G))throw Error("React.Children.only expected to receive a single React element child.");return G}};return je.Activity=g,je.Children=we,je.Component=k,je.Fragment=t,je.Profiler=o,je.PureComponent=z,je.StrictMode=i,je.Suspense=h,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,je.__COMPILER_RUNTIME={__proto__:null,c:function(G){return x.H.useMemoCache(G)}},je.cache=function(G){return function(){return G.apply(null,arguments)}},je.cacheSignal=function(){return null},je.cloneElement=function(G,ie,ne){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var oe=R({},G.props),de=G.key;if(ie!=null)for(_e in ie.key!==void 0&&(de=""+ie.key),ie)!A.call(ie,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&ie.ref===void 0||(oe[_e]=ie[_e]);var _e=arguments.length-2;if(_e===1)oe.children=ne;else if(1<_e){for(var ae=Array(_e),ye=0;ye<_e;ye++)ae[ye]=arguments[ye+2];oe.children=ae}return M(G.type,de,oe)},je.createContext=function(G){return G={$$typeof:c,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:l,_context:G},G},je.createElement=function(G,ie,ne){var oe,de={},_e=null;if(ie!=null)for(oe in ie.key!==void 0&&(_e=""+ie.key),ie)A.call(ie,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(de[oe]=ie[oe]);var ae=arguments.length-2;if(ae===1)de.children=ne;else if(1<ae){for(var ye=Array(ae),Ee=0;Ee<ae;Ee++)ye[Ee]=arguments[Ee+2];de.children=ye}if(G&&G.defaultProps)for(oe in ae=G.defaultProps,ae)de[oe]===void 0&&(de[oe]=ae[oe]);return M(G,_e,de)},je.createRef=function(){return{current:null}},je.forwardRef=function(G){return{$$typeof:f,render:G}},je.isValidElement=O,je.lazy=function(G){return{$$typeof:v,_payload:{_status:-1,_result:G},_init:X}},je.memo=function(G,ie){return{$$typeof:d,type:G,compare:ie===void 0?null:ie}},je.startTransition=function(G){var ie=x.T,ne={};x.T=ne;try{var oe=G(),de=x.S;de!==null&&de(ne,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(F,ge)}catch(_e){ge(_e)}finally{ie!==null&&ne.types!==null&&(ie.types=ne.types),x.T=ie}},je.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},je.use=function(G){return x.H.use(G)},je.useActionState=function(G,ie,ne){return x.H.useActionState(G,ie,ne)},je.useCallback=function(G,ie){return x.H.useCallback(G,ie)},je.useContext=function(G){return x.H.useContext(G)},je.useDebugValue=function(){},je.useDeferredValue=function(G,ie){return x.H.useDeferredValue(G,ie)},je.useEffect=function(G,ie){return x.H.useEffect(G,ie)},je.useEffectEvent=function(G){return x.H.useEffectEvent(G)},je.useId=function(){return x.H.useId()},je.useImperativeHandle=function(G,ie,ne){return x.H.useImperativeHandle(G,ie,ne)},je.useInsertionEffect=function(G,ie){return x.H.useInsertionEffect(G,ie)},je.useLayoutEffect=function(G,ie){return x.H.useLayoutEffect(G,ie)},je.useMemo=function(G,ie){return x.H.useMemo(G,ie)},je.useOptimistic=function(G,ie){return x.H.useOptimistic(G,ie)},je.useReducer=function(G,ie,ne){return x.H.useReducer(G,ie,ne)},je.useRef=function(G){return x.H.useRef(G)},je.useState=function(G){return x.H.useState(G)},je.useSyncExternalStore=function(G,ie,ne){return x.H.useSyncExternalStore(G,ie,ne)},je.useTransition=function(){return x.H.useTransition()},je.version="19.2.3",je}var bE;function ju(){return bE||(bE=1,Ug.exports=BN()),Ug.exports}var I=ju();const me=fv(I),yv=U2({__proto__:null,default:me},[I]);function vv(n){const e=n.errorComponent??im;return N.jsx(FN,{getResetKey:n.getResetKey,onCatch:n.onCatch,children:({error:t,reset:i})=>t?I.createElement(e,{error:t,reset:i}):n.children})}class FN extends I.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,t){t.error&&t.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,t){this.props.onCatch&&this.props.onCatch(e,t)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function im({error:n}){const[e,t]=I.useState(!1);return N.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[N.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[N.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),N.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>t(i=>!i),children:e?"Hide Error":"Show Error"})]}),N.jsx("div",{style:{height:".25rem"}}),e?N.jsx("div",{children:N.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:n.message?N.jsx("code",{children:n.message}):null})}):null]})}function HN({children:n,fallback:e=null}){return qN()?N.jsx(me.Fragment,{children:n}):N.jsx(me.Fragment,{children:e})}function qN(){return me.useSyncExternalStore(GN,()=>!0,()=>!1)}function GN(){return()=>{}}var zg={exports:{}},jg={},Bg={exports:{}},Fg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE;function $N(){if(wE)return Fg;wE=1;var n=ju();function e(g,_){return g===_&&(g!==0||1/g===1/_)||g!==g&&_!==_}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,o=n.useEffect,l=n.useLayoutEffect,c=n.useDebugValue;function f(g,_){var w=_(),T=i({inst:{value:w,getSnapshot:_}}),R=T[0].inst,C=T[1];return l(function(){R.value=w,R.getSnapshot=_,h(R)&&C({inst:R})},[g,w,_]),o(function(){return h(R)&&C({inst:R}),g(function(){h(R)&&C({inst:R})})},[g]),c(w),w}function h(g){var _=g.getSnapshot;g=g.value;try{var w=_();return!t(g,w)}catch{return!0}}function d(g,_){return _()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:f;return Fg.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:v,Fg}var EE;function KN(){return EE||(EE=1,Bg.exports=$N()),Bg.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SE;function YN(){if(SE)return jg;SE=1;var n=ju(),e=KN();function t(d,v){return d===v&&(d!==0||1/d===1/v)||d!==d&&v!==v}var i=typeof Object.is=="function"?Object.is:t,o=e.useSyncExternalStore,l=n.useRef,c=n.useEffect,f=n.useMemo,h=n.useDebugValue;return jg.useSyncExternalStoreWithSelector=function(d,v,g,_,w){var T=l(null);if(T.current===null){var R={hasValue:!1,value:null};T.current=R}else R=T.current;T=f(function(){function k(F){if(!U){if(U=!0,z=F,F=_(F),w!==void 0&&R.hasValue){var x=R.value;if(w(x,F))return B=x}return B=F}if(x=B,i(z,F))return x;var A=_(F);return w!==void 0&&w(x,A)?(z=F,x):(z=F,B=A)}var U=!1,z,B,$=g===void 0?null:g;return[function(){return k(v())},$===null?void 0:function(){return k($())}]},[v,g,_,w]);var C=o(d,T[0],T[1]);return c(function(){R.hasValue=!0,R.value=C},[C]),h(C),C},jg}var TE;function XN(){return TE||(TE=1,zg.exports=YN()),zg.exports}var QN=XN();function WN(n,e=i=>i,t={}){const i=t.equal??ZN;return QN.useSyncExternalStoreWithSelector(n.subscribe,()=>n.state,()=>n.state,e,i)}function ZN(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;if(n instanceof Map&&e instanceof Map){if(n.size!==e.size)return!1;for(const[i,o]of n)if(!e.has(i)||!Object.is(o,e.get(i)))return!1;return!0}if(n instanceof Set&&e instanceof Set){if(n.size!==e.size)return!1;for(const i of n)if(!e.has(i))return!1;return!0}if(n instanceof Date&&e instanceof Date)return n.getTime()===e.getTime();const t=AE(n);if(t.length!==AE(e).length)return!1;for(let i=0;i<t.length;i++)if(!Object.prototype.hasOwnProperty.call(e,t[i])||!Object.is(n[t[i]],e[t[i]]))return!1;return!0}function AE(n){return Object.keys(n).concat(Object.getOwnPropertySymbols(n))}const Hg=I.createContext(null);function AT(){return typeof document>"u"?Hg:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=Hg,Hg)}function yr(n){const e=I.useContext(AT());return n==null||n.warn,e}function tr(n){const e=yr({warn:(n==null?void 0:n.router)===void 0}),t=(n==null?void 0:n.router)||e,i=I.useRef(void 0);return WN(t.__store,o=>{if(n!=null&&n.select){if(n.structuralSharing??t.options.defaultStructuralSharing){const l=kr(i.current,n.select(o));return i.current=l,l}return n.select(o)}return o})}const sm=I.createContext(void 0),JN=I.createContext(void 0);function Pi(n){const e=I.useContext(n.from?JN:sm);return tr({select:i=>{const o=i.matches.find(l=>n.from?n.from===l.routeId:l.id===e);if(hs(!((n.shouldThrow??!0)&&!o),`Could not find ${n.from?`an active match from "${n.from}"`:"a nearest match!"}`),o!==void 0)return n.select?n.select(o):o},structuralSharing:n.structuralSharing})}function _v(n){return Pi({from:n.from,strict:n.strict,structuralSharing:n.structuralSharing,select:e=>n.select?n.select(e.loaderData):e.loaderData})}function bv(n){const{select:e,...t}=n;return Pi({...t,select:i=>e?e(i.loaderDeps):i.loaderDeps})}function wv(n){return Pi({from:n.from,shouldThrow:n.shouldThrow,structuralSharing:n.structuralSharing,strict:n.strict,select:e=>{const t=n.strict===!1?e.params:e._strictParams;return n.select?n.select(t):t}})}function Ev(n){return Pi({from:n.from,strict:n.strict,shouldThrow:n.shouldThrow,structuralSharing:n.structuralSharing,select:e=>n.select?n.select(e.search):e.search})}const Ch=typeof window<"u"?I.useLayoutEffect:I.useEffect;function qg(n){const e=I.useRef({value:n,prev:null}),t=e.current.value;return n!==t&&(e.current={value:n,prev:t}),e.current.prev}function eM(n,e,t={},i={}){I.useEffect(()=>{if(!n.current||i.disabled||typeof IntersectionObserver!="function")return;const o=new IntersectionObserver(([l])=>{e(l)},t);return o.observe(n.current),()=>{o.disconnect()}},[e,t,i.disabled,n])}function tM(n){const e=I.useRef(null);return I.useImperativeHandle(n,()=>e.current,[]),e}function Ui(n){const e=yr();return I.useCallback(t=>e.navigate({...t,from:t.from??(n==null?void 0:n.from)}),[n==null?void 0:n.from,e])}var Gg={exports:{}},kn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xE;function nM(){if(xE)return kn;xE=1;var n=ju();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)d+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(h,d,v){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:g==null?null:""+g,children:h,containerInfo:d,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return kn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,kn.createPortal=function(h,d){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return l(h,d,null,v)},kn.flushSync=function(h){var d=c.T,v=i.p;try{if(c.T=null,i.p=2,h)return h()}finally{c.T=d,i.p=v,i.d.f()}},kn.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(h,d))},kn.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},kn.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var v=d.as,g=f(v,d.crossOrigin),_=typeof d.integrity=="string"?d.integrity:void 0,w=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;v==="style"?i.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:_,fetchPriority:w}):v==="script"&&i.d.X(h,{crossOrigin:g,integrity:_,fetchPriority:w,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},kn.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var v=f(d.as,d.crossOrigin);i.d.M(h,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(h)},kn.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var v=d.as,g=f(v,d.crossOrigin);i.d.L(h,v,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},kn.preloadModule=function(h,d){if(typeof h=="string")if(d){var v=f(d.as,d.crossOrigin);i.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(h)},kn.requestFormReset=function(h){i.d.r(h)},kn.unstable_batchedUpdates=function(h,d){return h(d)},kn.useFormState=function(h,d,v){return c.H.useFormState(h,d,v)},kn.useFormStatus=function(){return c.H.useHostTransitionStatus()},kn.version="19.2.3",kn}var RE;function xT(){if(RE)return Gg.exports;RE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Gg.exports=nM(),Gg.exports}var Hl=xT();const RT=fv(Hl);function rM(n,e){const t=yr(),[i,o]=I.useState(!1),l=I.useRef(!1),c=tM(e),{activeProps:f,inactiveProps:h,activeOptions:d,to:v,preload:g,preloadDelay:_,hashScrollIntoView:w,replace:T,startTransition:R,resetScroll:C,viewTransition:k,children:U,target:z,disabled:B,style:$,className:F,onClick:x,onFocus:A,onMouseEnter:M,onMouseLeave:P,onTouchStart:O,ignoreBlocker:j,params:L,search:he,hash:pe,state:H,mask:J,reloadDocument:X,unsafeRelative:ge,from:we,_fromLocation:G,...ie}=n,ne=tr({select:ze=>ze.location.search,structuralSharing:!0}),oe=n.from,de=I.useMemo(()=>({...n,from:oe}),[t,ne,oe,n._fromLocation,n.hash,n.to,n.search,n.params,n.state,n.mask,n.unsafeRelative]),_e=I.useMemo(()=>t.buildLocation({...de}),[t,de]),ae=I.useMemo(()=>{if(B)return;let ze=_e.maskedLocation?_e.maskedLocation.url.href:_e.url.href,qe=!1;return t.origin&&(ze.startsWith(t.origin)?ze=t.history.createHref(ze.replace(t.origin,""))||"/":qe=!0),{href:ze,external:qe}},[B,_e.maskedLocation,_e.url,t.origin,t.history]),ye=I.useMemo(()=>{if(ae!=null&&ae.external)return ae.href;try{return new URL(v),v}catch{}},[v,ae]),Ee=n.reloadDocument||ye?!1:g??t.options.defaultPreload,Ie=_??t.options.defaultPreloadDelay??0,De=tr({select:ze=>{if(ye)return!1;if(d!=null&&d.exact){if(!fN(ze.location.pathname,_e.pathname,t.basepath))return!1}else{const qe=wd(ze.location.pathname,t.basepath),bt=wd(_e.pathname,t.basepath);if(!(qe.startsWith(bt)&&(qe.length===bt.length||qe[bt.length]==="/")))return!1}return((d==null?void 0:d.includeSearch)??!0)&&!ia(ze.location.search,_e.search,{partial:!(d!=null&&d.exact),ignoreUndefined:!(d!=null&&d.explicitUndefined)})?!1:d!=null&&d.includeHash?ze.location.hash===_e.hash:!0}}),Re=I.useCallback(()=>{t.preloadRoute({...de}).catch(ze=>{console.warn(ze),console.warn(zN)})},[t,de]),lt=I.useCallback(ze=>{ze!=null&&ze.isIntersecting&&Re()},[Re]);eM(c,lt,lM,{disabled:!!B||Ee!=="viewport"}),I.useEffect(()=>{l.current||!B&&Ee==="render"&&(Re(),l.current=!0)},[B,Re,Ee]);const tt=ze=>{const qe=ze.currentTarget.getAttribute("target"),bt=z!==void 0?z:qe;if(!B&&!cM(ze)&&!ze.defaultPrevented&&(!bt||bt==="_self")&&ze.button===0){ze.preventDefault(),Hl.flushSync(()=>{o(!0)});const on=t.subscribe("onResolved",()=>{on(),o(!1)});t.navigate({...de,replace:T,resetScroll:C,hashScrollIntoView:w,startTransition:R,viewTransition:k,ignoreBlocker:j})}};if(ye)return{...ie,ref:c,href:ye,...U&&{children:U},...z&&{target:z},...B&&{disabled:B},...$&&{style:$},...F&&{className:F},...x&&{onClick:x},...A&&{onFocus:A},...M&&{onMouseEnter:M},...P&&{onMouseLeave:P},...O&&{onTouchStart:O}};const Vt=ze=>{B||Ee&&Re()},xt=Vt,Rt=ze=>{if(!(B||!Ee))if(!Ie)Re();else{const qe=ze.target;if(iu.has(qe))return;const bt=setTimeout(()=>{iu.delete(qe),Re()},Ie);iu.set(qe,bt)}},Cn=ze=>{if(B||!Ee||!Ie)return;const qe=ze.target,bt=iu.get(qe);bt&&(clearTimeout(bt),iu.delete(qe))},Ue=De?ro(f,{})??iM:$g,ct=De?$g:ro(h,{})??$g,gn=[F,Ue.className,ct.className].filter(Boolean).join(" "),Dt=($||Ue.style||ct.style)&&{...$,...Ue.style,...ct.style};return{...ie,...Ue,...ct,href:ae==null?void 0:ae.href,ref:c,onClick:su([x,tt]),onFocus:su([A,Vt]),onMouseEnter:su([M,Rt]),onMouseLeave:su([P,Cn]),onTouchStart:su([O,xt]),disabled:!!B,target:z,...Dt&&{style:Dt},...gn&&{className:gn},...B&&sM,...De&&oM,...i&&aM}}const $g={},iM={className:"active"},sM={role:"link","aria-disabled":!0},oM={"data-status":"active","aria-current":"page"},aM={"data-transitioning":"transitioning"},iu=new WeakMap,lM={rootMargin:"100px"},su=n=>e=>{for(const t of n)if(t){if(e.defaultPrevented)return;t(e)}},Sv=I.forwardRef((n,e)=>{const{_asChild:t,...i}=n,{type:o,ref:l,...c}=rM(i,e),f=typeof i.children=="function"?i.children({isActive:c["data-status"]==="active"}):i.children;return t===void 0&&delete c.disabled,I.createElement(t||"a",{...c,ref:l},f)});function cM(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}let uM=class extends TT{constructor(e){super(e),this.useMatch=t=>Pi({select:t==null?void 0:t.select,from:this.id,structuralSharing:t==null?void 0:t.structuralSharing}),this.useRouteContext=t=>Pi({...t,from:this.id,select:i=>t!=null&&t.select?t.select(i.context):i.context}),this.useSearch=t=>Ev({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.id}),this.useParams=t=>wv({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.id}),this.useLoaderDeps=t=>bv({...t,from:this.id}),this.useLoaderData=t=>_v({...t,from:this.id}),this.useNavigate=()=>Ui({from:this.fullPath}),this.Link=me.forwardRef((t,i)=>N.jsx(Sv,{ref:i,from:this.fullPath,...t})),this.$$typeof=Symbol.for("react.memo")}};function fM(n){return new uM(n)}class hM extends jN{constructor(e){super(e),this.useMatch=t=>Pi({select:t==null?void 0:t.select,from:this.id,structuralSharing:t==null?void 0:t.structuralSharing}),this.useRouteContext=t=>Pi({...t,from:this.id,select:i=>t!=null&&t.select?t.select(i.context):i.context}),this.useSearch=t=>Ev({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.id}),this.useParams=t=>wv({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.id}),this.useLoaderDeps=t=>bv({...t,from:this.id}),this.useLoaderData=t=>_v({...t,from:this.id}),this.useNavigate=()=>Ui({from:this.fullPath}),this.Link=me.forwardRef((t,i)=>N.jsx(Sv,{ref:i,from:this.fullPath,...t})),this.$$typeof=Symbol.for("react.memo")}}function dM(n){return new hM(n)}function fa(n){return typeof n=="object"?new CE(n,{silent:!0}).createRoute(n):new CE(n,{silent:!0}).createRoute}class CE{constructor(e,t){this.path=e,this.createRoute=i=>{this.silent;const o=fM(i);return o.isRoot=!1,o},this.silent=t==null?void 0:t.silent}}class IE{constructor(e){this.useMatch=t=>Pi({select:t==null?void 0:t.select,from:this.options.id,structuralSharing:t==null?void 0:t.structuralSharing}),this.useRouteContext=t=>Pi({from:this.options.id,select:i=>t!=null&&t.select?t.select(i.context):i.context}),this.useSearch=t=>Ev({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.options.id}),this.useParams=t=>wv({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.options.id}),this.useLoaderDeps=t=>bv({...t,from:this.options.id}),this.useLoaderData=t=>_v({...t,from:this.options.id}),this.useNavigate=()=>{const t=yr();return Ui({from:t.routesById[this.options.id].fullPath})},this.options=e,this.$$typeof=Symbol.for("react.memo")}}function NE(n){return typeof n=="object"?new IE(n):e=>new IE({id:n,...e})}function mM(){const n=yr(),e=I.useRef({router:n,mounted:!1}),[t,i]=I.useState(!1),{hasPendingMatches:o,isLoading:l}=tr({select:g=>({isLoading:g.isLoading,hasPendingMatches:g.matches.some(_=>_.status==="pending")}),structuralSharing:!0}),c=qg(l),f=l||t||o,h=qg(f),d=l||o,v=qg(d);return n.startTransition=g=>{i(!0),I.startTransition(()=>{g(),i(!1)})},I.useEffect(()=>{const g=n.history.subscribe(n.load),_=n.buildLocation({to:n.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return sa(n.latestLocation.href)!==sa(_.href)&&n.commitLocation({..._,replace:!0}),()=>{g()}},[n,n.history]),Ch(()=>{if(typeof window<"u"&&n.ssr||e.current.router===n&&e.current.mounted)return;e.current={router:n,mounted:!0},(async()=>{try{await n.load()}catch(_){console.error(_)}})()},[n]),Ch(()=>{c&&!l&&n.emit({type:"onLoad",...oa(n.state)})},[c,n,l]),Ch(()=>{v&&!d&&n.emit({type:"onBeforeRouteMount",...oa(n.state)})},[d,v,n]),Ch(()=>{if(h&&!f){const g=oa(n.state);n.emit({type:"onResolved",...g}),n.__store.setState(_=>({..._,status:"idle",resolvedLocation:_.location})),g.hrefChanged&&_N(n)}},[f,h,n]),null}function pM(n){const e=tr({select:t=>`not-found-${t.location.pathname}-${t.status}`});return N.jsx(vv,{getResetKey:()=>e,onCatch:(t,i)=>{var o;if(Ur(t))(o=n.onCatch)==null||o.call(n,t,i);else throw t},errorComponent:({error:t})=>{var i;if(Ur(t))return(i=n.fallback)==null?void 0:i.call(n,t);throw t},children:n.children})}function gM(){return N.jsx("p",{children:"Not Found"})}function vl(n){return N.jsx(N.Fragment,{children:n.children})}function CT(n,e,t){return e.options.notFoundComponent?N.jsx(e.options.notFoundComponent,{...t}):n.options.defaultNotFoundComponent?N.jsx(n.options.defaultNotFoundComponent,{...t}):N.jsx(gM,{})}function yM({children:n}){var t;const e=yr();return e.isServer?N.jsx("script",{nonce:(t=e.options.ssr)==null?void 0:t.nonce,dangerouslySetInnerHTML:{__html:n+";document.currentScript.remove()"}}):null}function vM(){const n=yr();if(!n.isScrollRestoring||!n.isServer||typeof n.options.scrollRestoration=="function"&&!n.options.scrollRestoration({location:n.latestLocation}))return null;const t=(n.options.getScrollRestorationKey||Ay)(n.latestLocation),i=t!==Ay(n.latestLocation)?t:void 0,o={storageKey:Ed,shouldScrollRestoration:!0};return i&&(o.key=i),N.jsx(yM,{children:`(${mT.toString()})(${JSON.stringify(o)})`})}const IT=I.memo(function({matchId:e}){var k,U;const t=yr(),i=tr({select:z=>{const B=z.matches.find($=>$.id===e);return hs(B),{routeId:B.routeId,ssr:B.ssr,_displayPending:B._displayPending}},structuralSharing:!0}),o=t.routesById[i.routeId],l=o.options.pendingComponent??t.options.defaultPendingComponent,c=l?N.jsx(l,{}):null,f=o.options.errorComponent??t.options.defaultErrorComponent,h=o.options.onCatch??t.options.defaultOnCatch,d=o.isRoot?o.options.notFoundComponent??((k=t.options.notFoundRoute)==null?void 0:k.options.component):o.options.notFoundComponent,v=i.ssr===!1||i.ssr==="data-only",g=(!o.isRoot||o.options.wrapInSuspense||v)&&(o.options.wrapInSuspense??l??(((U=o.options.errorComponent)==null?void 0:U.preload)||v))?I.Suspense:vl,_=f?vv:vl,w=d?pM:vl,T=tr({select:z=>z.loadedAt}),R=tr({select:z=>{var $;const B=z.matches.findIndex(F=>F.id===e);return($=z.matches[B-1])==null?void 0:$.routeId}}),C=o.isRoot?o.options.shellComponent??vl:vl;return N.jsxs(C,{children:[N.jsx(sm.Provider,{value:e,children:N.jsx(g,{fallback:c,children:N.jsx(_,{getResetKey:()=>T,errorComponent:f||im,onCatch:(z,B)=>{if(Ur(z))throw z;h==null||h(z,B)},children:N.jsx(w,{fallback:z=>{if(!d||z.routeId&&z.routeId!==i.routeId||!z.routeId&&!o.isRoot)throw z;return I.createElement(d,z)},children:v||i._displayPending?N.jsx(HN,{fallback:c,children:N.jsx(ME,{matchId:e})}):N.jsx(ME,{matchId:e})})})})}),R===mr&&t.options.scrollRestoration?N.jsxs(N.Fragment,{children:[N.jsx(_M,{}),N.jsx(vM,{})]}):null]})});function _M(){const n=yr(),e=I.useRef(void 0);return N.jsx("script",{suppressHydrationWarning:!0,ref:t=>{t&&(e.current===void 0||e.current.href!==n.latestLocation.href)&&(n.emit({type:"onRendered",...oa(n.state)}),e.current=n.latestLocation)}},n.latestLocation.state.__TSR_key)}const ME=I.memo(function({matchId:e}){var h,d,v,g;const t=yr(),{match:i,key:o,routeId:l}=tr({select:_=>{const w=_.matches.find(U=>U.id===e),T=w.routeId,R=t.routesById[T].options.remountDeps??t.options.defaultRemountDeps,C=R==null?void 0:R({routeId:T,loaderDeps:w.loaderDeps,params:w._strictParams,search:w._strictSearch});return{key:C?JSON.stringify(C):void 0,routeId:T,match:{id:w.id,status:w.status,error:w.error,_forcePending:w._forcePending,_displayPending:w._displayPending}}},structuralSharing:!0}),c=t.routesById[l],f=I.useMemo(()=>{const _=c.options.component??t.options.defaultComponent;return _?N.jsx(_,{},o):N.jsx(NT,{})},[o,c.options.component,t.options.defaultComponent]);if(i._displayPending)throw(h=t.getMatch(i.id))==null?void 0:h._nonReactive.displayPendingPromise;if(i._forcePending)throw(d=t.getMatch(i.id))==null?void 0:d._nonReactive.minPendingPromise;if(i.status==="pending"){const _=c.options.pendingMinMs??t.options.defaultPendingMinMs;if(_){const w=t.getMatch(i.id);if(w&&!w._nonReactive.minPendingPromise&&!t.isServer){const T=Dl();w._nonReactive.minPendingPromise=T,setTimeout(()=>{T.resolve(),w._nonReactive.minPendingPromise=void 0},_)}}throw(v=t.getMatch(i.id))==null?void 0:v._nonReactive.loadPromise}if(i.status==="notFound")return hs(Ur(i.error)),CT(t,c,i.error);if(i.status==="redirected")throw hs(Wr(i.error)),(g=t.getMatch(i.id))==null?void 0:g._nonReactive.loadPromise;if(i.status==="error"){if(t.isServer){const _=(c.options.errorComponent??t.options.defaultErrorComponent)||im;return N.jsx(_,{error:i.error,reset:void 0,info:{componentStack:""}})}throw i.error}return f}),NT=I.memo(function(){const e=yr(),t=I.useContext(sm),i=tr({select:d=>{var v;return(v=d.matches.find(g=>g.id===t))==null?void 0:v.routeId}}),o=e.routesById[i],l=tr({select:d=>{const g=d.matches.find(_=>_.id===t);return hs(g),g.globalNotFound}}),c=tr({select:d=>{var _;const v=d.matches,g=v.findIndex(w=>w.id===t);return(_=v[g+1])==null?void 0:_.id}}),f=e.options.defaultPendingComponent?N.jsx(e.options.defaultPendingComponent,{}):null;if(l)return CT(e,o,void 0);if(!c)return null;const h=N.jsx(IT,{matchId:c});return i===mr?N.jsx(I.Suspense,{fallback:f,children:h}):h});function bM(){const n=yr(),t=n.routesById[mr].options.pendingComponent??n.options.defaultPendingComponent,i=t?N.jsx(t,{}):null,o=n.isServer||typeof document<"u"&&n.ssr?vl:I.Suspense,l=N.jsxs(o,{fallback:i,children:[!n.isServer&&N.jsx(mM,{}),N.jsx(wM,{})]});return n.options.InnerWrap?N.jsx(n.options.InnerWrap,{children:l}):l}function wM(){const n=yr(),e=tr({select:o=>{var l;return(l=o.matches[0])==null?void 0:l.id}}),t=tr({select:o=>o.loadedAt}),i=e?N.jsx(IT,{matchId:e}):null;return N.jsx(sm.Provider,{value:e,children:n.options.disableGlobalCatchBoundary?i:N.jsx(vv,{getResetKey:()=>t,errorComponent:im,onCatch:o=>{o.message||o.toString()},children:i})})}const EM=n=>new SM(n);class SM extends PN{constructor(e){super(e)}}typeof globalThis<"u"?(globalThis.createFileRoute=fa,globalThis.createLazyFileRoute=NE):typeof window<"u"&&(window.createFileRoute=fa,window.createLazyFileRoute=NE);function TM({router:n,children:e,...t}){Object.keys(t).length>0&&n.update({...n.options,...t,context:{...n.options.context,...t.context}});const i=AT(),o=N.jsx(i.Provider,{value:n,children:e});return n.options.Wrap?N.jsx(n.options.Wrap,{children:o}):o}function AM({router:n,...e}){return N.jsx(TM,{router:n,...e,children:N.jsx(bM,{})})}var Kg={exports:{}},ou={},Yg={exports:{}},Xg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DE;function xM(){return DE||(DE=1,(function(n){function e(H,J){var X=H.length;H.push(J);e:for(;0<X;){var ge=X-1>>>1,we=H[ge];if(0<o(we,J))H[ge]=J,H[X]=we,X=ge;else break e}}function t(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var J=H[0],X=H.pop();if(X!==J){H[0]=X;e:for(var ge=0,we=H.length,G=we>>>1;ge<G;){var ie=2*(ge+1)-1,ne=H[ie],oe=ie+1,de=H[oe];if(0>o(ne,X))oe<we&&0>o(de,ne)?(H[ge]=de,H[oe]=X,ge=oe):(H[ge]=ne,H[ie]=X,ge=ie);else if(oe<we&&0>o(de,X))H[ge]=de,H[oe]=X,ge=oe;else break e}}return J}function o(H,J){var X=H.sortIndex-J.sortIndex;return X!==0?X:H.id-J.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var h=[],d=[],v=1,g=null,_=3,w=!1,T=!1,R=!1,C=!1,k=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function B(H){for(var J=t(d);J!==null;){if(J.callback===null)i(d);else if(J.startTime<=H)i(d),J.sortIndex=J.expirationTime,e(h,J);else break;J=t(d)}}function $(H){if(R=!1,B(H),!T)if(t(h)!==null)T=!0,F||(F=!0,j());else{var J=t(d);J!==null&&pe($,J.startTime-H)}}var F=!1,x=-1,A=5,M=-1;function P(){return C?!0:!(n.unstable_now()-M<A)}function O(){if(C=!1,F){var H=n.unstable_now();M=H;var J=!0;try{e:{T=!1,R&&(R=!1,U(x),x=-1),w=!0;var X=_;try{t:{for(B(H),g=t(h);g!==null&&!(g.expirationTime>H&&P());){var ge=g.callback;if(typeof ge=="function"){g.callback=null,_=g.priorityLevel;var we=ge(g.expirationTime<=H);if(H=n.unstable_now(),typeof we=="function"){g.callback=we,B(H),J=!0;break t}g===t(h)&&i(h),B(H)}else i(h);g=t(h)}if(g!==null)J=!0;else{var G=t(d);G!==null&&pe($,G.startTime-H),J=!1}}break e}finally{g=null,_=X,w=!1}J=void 0}}finally{J?j():F=!1}}}var j;if(typeof z=="function")j=function(){z(O)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,he=L.port2;L.port1.onmessage=O,j=function(){he.postMessage(null)}}else j=function(){k(O,0)};function pe(H,J){x=k(function(){H(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(H){switch(_){case 1:case 2:case 3:var J=3;break;default:J=_}var X=_;_=J;try{return H()}finally{_=X}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function(H,J){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var X=_;_=H;try{return J()}finally{_=X}},n.unstable_scheduleCallback=function(H,J,X){var ge=n.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ge+X:ge):X=ge,H){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=X+we,H={id:v++,callback:J,priorityLevel:H,startTime:X,expirationTime:we,sortIndex:-1},X>ge?(H.sortIndex=X,e(d,H),t(h)===null&&H===t(d)&&(R?(U(x),x=-1):R=!0,pe($,X-ge))):(H.sortIndex=we,e(h,H),T||w||(T=!0,F||(F=!0,j()))),H},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(H){var J=_;return function(){var X=_;_=J;try{return H.apply(this,arguments)}finally{_=X}}}})(Xg)),Xg}var OE;function RM(){return OE||(OE=1,Yg.exports=xM()),Yg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PE;function CM(){if(PE)return ou;PE=1;var n=RM(),e=ju(),t=xT();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(r.tag===31){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function h(r){if(l(r)!==r)throw Error(i(188))}function d(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var a=r,u=s;;){var p=a.return;if(p===null)break;var y=p.alternate;if(y===null){if(u=p.return,u!==null){a=u;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===a)return h(p),r;if(y===u)return h(p),s;y=y.sibling}throw Error(i(188))}if(a.return!==u.return)a=p,u=y;else{for(var E=!1,D=p.child;D;){if(D===a){E=!0,a=p,u=y;break}if(D===u){E=!0,u=p,a=y;break}D=D.sibling}if(!E){for(D=y.child;D;){if(D===a){E=!0,a=y,u=p;break}if(D===u){E=!0,u=y,a=p;break}D=D.sibling}if(!E)throw Error(i(189))}}if(a.alternate!==u)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?r:s}function v(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=v(r),s!==null)return s;r=r.sibling}return null}var g=Object.assign,_=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),z=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function j(r){return r===null||typeof r!="object"?null:(r=O&&r[O]||r["@@iterator"],typeof r=="function"?r:null)}var L=Symbol.for("react.client.reference");function he(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===L?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case R:return"Fragment";case k:return"Profiler";case C:return"StrictMode";case $:return"Suspense";case F:return"SuspenseList";case M:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case T:return"Portal";case z:return r.displayName||"Context";case U:return(r._context.displayName||"Context")+".Consumer";case B:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case x:return s=r.displayName||null,s!==null?s:he(r.type)||"Memo";case A:s=r._payload,r=r._init;try{return he(r(s))}catch{}}return null}var pe=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},ge=[],we=-1;function G(r){return{current:r}}function ie(r){0>we||(r.current=ge[we],ge[we]=null,we--)}function ne(r,s){we++,ge[we]=r.current,r.current=s}var oe=G(null),de=G(null),_e=G(null),ae=G(null);function ye(r,s){switch(ne(_e,s),ne(de,r),ne(oe,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?Nw(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=Nw(s),r=Mw(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ie(oe),ne(oe,r)}function Ee(){ie(oe),ie(de),ie(_e)}function Ie(r){r.memoizedState!==null&&ne(ae,r);var s=oe.current,a=Mw(s,r.type);s!==a&&(ne(de,r),ne(oe,a))}function De(r){de.current===r&&(ie(oe),ie(de)),ae.current===r&&(ie(ae),Zc._currentValue=X)}var Re,lt;function tt(r){if(Re===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Re=s&&s[1]||"",lt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Re+r+lt}var Vt=!1;function xt(r,s){if(!r||Vt)return"";Vt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(re){var ee=re}Reflect.construct(r,[],ue)}else{try{ue.call()}catch(re){ee=re}r.call(ue.prototype)}}else{try{throw Error()}catch(re){ee=re}(ue=r())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(re){if(re&&ee&&typeof re.stack=="string")return[re.stack,ee.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),E=y[0],D=y[1];if(E&&D){var q=E.split(`
`),Z=D.split(`
`);for(p=u=0;u<q.length&&!q[u].includes("DetermineComponentFrameRoot");)u++;for(;p<Z.length&&!Z[p].includes("DetermineComponentFrameRoot");)p++;if(u===q.length||p===Z.length)for(u=q.length-1,p=Z.length-1;1<=u&&0<=p&&q[u]!==Z[p];)p--;for(;1<=u&&0<=p;u--,p--)if(q[u]!==Z[p]){if(u!==1||p!==1)do if(u--,p--,0>p||q[u]!==Z[p]){var se=`
`+q[u].replace(" at new "," at ");return r.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",r.displayName)),se}while(1<=u&&0<=p);break}}}finally{Vt=!1,Error.prepareStackTrace=a}return(a=r?r.displayName||r.name:"")?tt(a):""}function Rt(r,s){switch(r.tag){case 26:case 27:case 5:return tt(r.type);case 16:return tt("Lazy");case 13:return r.child!==s&&s!==null?tt("Suspense Fallback"):tt("Suspense");case 19:return tt("SuspenseList");case 0:case 15:return xt(r.type,!1);case 11:return xt(r.type.render,!1);case 1:return xt(r.type,!0);case 31:return tt("Activity");default:return""}}function Cn(r){try{var s="",a=null;do s+=Rt(r,a),a=r,r=r.return;while(r);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ue=Object.prototype.hasOwnProperty,ct=n.unstable_scheduleCallback,gn=n.unstable_cancelCallback,Dt=n.unstable_shouldYield,ze=n.unstable_requestPaint,qe=n.unstable_now,bt=n.unstable_getCurrentPriorityLevel,on=n.unstable_ImmediatePriority,rr=n.unstable_UserBlockingPriority,In=n.unstable_NormalPriority,vr=n.unstable_LowPriority,Nn=n.unstable_IdlePriority,_r=n.log,Mn=n.unstable_setDisableYieldValue,Dn=null,jt=null;function un(r){if(typeof _r=="function"&&Mn(r),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(Dn,r)}catch{}}var Tt=Math.clz32?Math.clz32:On,ji=Math.log,br=Math.LN2;function On(r){return r>>>=0,r===0?32:31-(ji(r)/br|0)|0}var Gn=256,wr=262144,Ct=4194304;function ir(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Oe(r,s,a){var u=r.pendingLanes;if(u===0)return 0;var p=0,y=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var D=u&134217727;return D!==0?(u=D&~y,u!==0?p=ir(u):(E&=D,E!==0?p=ir(E):a||(a=D&~r,a!==0&&(p=ir(a))))):(D=u&~y,D!==0?p=ir(D):E!==0?p=ir(E):a||(a=u&~r,a!==0&&(p=ir(a)))),p===0?0:s!==0&&s!==p&&(s&y)===0&&(y=p&-p,a=s&-s,y>=a||y===32&&(a&4194048)!==0)?s:p}function ut(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function $t(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fn(){var r=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),r}function Fn(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function It(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Pn(r,s,a,u,p,y){var E=r.pendingLanes;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=a,r.entangledLanes&=a,r.errorRecoveryDisabledLanes&=a,r.shellSuspendCounter=0;var D=r.entanglements,q=r.expirationTimes,Z=r.hiddenUpdates;for(a=E&~a;0<a;){var se=31-Tt(a),ue=1<<se;D[se]=0,q[se]=-1;var ee=Z[se];if(ee!==null)for(Z[se]=null,se=0;se<ee.length;se++){var re=ee[se];re!==null&&(re.lane&=-536870913)}a&=~ue}u!==0&&Er(r,u,0),y!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=y&~(E&~s))}function Er(r,s,a){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-Tt(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|a&261930}function yn(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var u=31-Tt(a),p=1<<u;p&s|r[u]&s&&(r[u]|=s),a&=~p}}function vn(r,s){var a=s&-s;return a=(a&42)!==0?1:si(a),(a&(r.suspendedLanes|s))!==0?0:a}function si(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function _n(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function ic(){var r=J.p;return r!==0?r:(r=window.event,r===void 0?32:eE(r.type))}function zr(r,s){var a=J.p;try{return J.p=r,s()}finally{J.p=a}}var jr=Math.random().toString(36).slice(2),Kt="__reactFiber$"+jr,hn="__reactProps$"+jr,oi="__reactContainer$"+jr,Ra="__reactEvents$"+jr,Vm="__reactListeners$"+jr,nf="__reactHandles$"+jr,rf="__reactResources$"+jr,ai="__reactMarker$"+jr;function Ca(r){delete r[Kt],delete r[hn],delete r[Ra],delete r[Vm],delete r[nf]}function li(r){var s=r[Kt];if(s)return s;for(var a=r.parentNode;a;){if(s=a[oi]||a[Kt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=Uw(r);r!==null;){if(a=r[Kt])return a;r=Uw(r)}return s}r=a,a=r.parentNode}return null}function Sr(r){if(r=r[Kt]||r[oi]){var s=r.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return r}return null}function sr(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function ci(r){var s=r[rf];return s||(s=r[rf]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Yt(r){r[ai]=!0}var sc=new Set,oc={};function ui(r,s){fi(r,s),fi(r+"Capture",s)}function fi(r,s){for(oc[r]=s,r=0;r<s.length;r++)sc.add(s[r])}var ac=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lc={},cc={};function sf(r){return Ue.call(cc,r)?!0:Ue.call(lc,r)?!1:ac.test(r)?cc[r]=!0:(lc[r]=!0,!1)}function Ia(r,s,a){if(sf(s))if(a===null)r.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+a)}}function or(r,s,a){if(a===null)r.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+a)}}function Xt(r,s,a,u){if(u===null)r.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttributeNS(s,a,""+u)}}function dn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function bs(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function uc(r,s,a){var u=Object.getOwnPropertyDescriptor(r.constructor.prototype,s);if(!r.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,y=u.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(E){a=""+E,y.call(this,E)}}),Object.defineProperty(r,s,{enumerable:u.enumerable}),{getValue:function(){return a},setValue:function(E){a=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function ht(r){if(!r._valueTracker){var s=bs(r)?"checked":"value";r._valueTracker=uc(r,s,""+r[s])}}function xo(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),u="";return r&&(u=bs(r)?r.checked?"true":"false":r.value),r=u,r!==a?(s.setValue(r),!0):!1}function hi(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Ro=/[\n"\\]/g;function $n(r){return r.replace(Ro,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Na(r,s,a,u,p,y,E,D){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),s!=null?E==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+dn(s)):r.value!==""+dn(s)&&(r.value=""+dn(s)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),s!=null?fc(r,E,dn(s)):a!=null?fc(r,E,dn(a)):u!=null&&r.removeAttribute("value"),p==null&&y!=null&&(r.defaultChecked=!!y),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?r.name=""+dn(D):r.removeAttribute("name")}function of(r,s,a,u,p,y,E,D){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),s!=null||a!=null){if(!(y!=="submit"&&y!=="reset"||s!=null)){ht(r);return}a=a!=null?""+dn(a):"",s=s!=null?""+dn(s):a,D||s===r.value||(r.value=s),r.defaultValue=s}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=D?r.checked:!!u,r.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E),ht(r)}function fc(r,s,a){s==="number"&&hi(r.ownerDocument)===r||r.defaultValue===""+a||(r.defaultValue=""+a)}function ws(r,s,a,u){if(r=r.options,s){s={};for(var p=0;p<a.length;p++)s["$"+a[p]]=!0;for(a=0;a<r.length;a++)p=s.hasOwnProperty("$"+r[a].value),r[a].selected!==p&&(r[a].selected=p),p&&u&&(r[a].defaultSelected=!0)}else{for(a=""+dn(a),s=null,p=0;p<r.length;p++){if(r[p].value===a){r[p].selected=!0,u&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function af(r,s,a){if(s!=null&&(s=""+dn(s),s!==r.value&&(r.value=s),a==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=a!=null?""+dn(a):""}function Es(r,s,a,u){if(s==null){if(u!=null){if(a!=null)throw Error(i(92));if(pe(u)){if(1<u.length)throw Error(i(93));u=u[0]}a=u}a==null&&(a=""),s=a}a=dn(s),r.defaultValue=a,u=r.textContent,u===a&&u!==""&&u!==null&&(r.value=u),ht(r)}function Kn(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var lf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hc(r,s,a){var u=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,a):typeof a!="number"||a===0||lf.has(s)?s==="float"?r.cssFloat=a:r[s]=(""+a).trim():r[s]=a+"px"}function dc(r,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var p in s)u=s[p],s.hasOwnProperty(p)&&a[p]!==u&&hc(r,p,u)}else for(var y in s)s.hasOwnProperty(y)&&hc(r,y,s[y])}function Ma(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ss=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Da(r){return Ss.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Br(){}var mc=null;function Tr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ts=null,di=null;function Co(r){var s=Sr(r);if(s&&(r=s.stateNode)){var a=r[hn]||null;e:switch(r=s.stateNode,s.type){case"input":if(Na(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+$n(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var u=a[s];if(u!==r&&u.form===r.form){var p=u[hn]||null;if(!p)throw Error(i(90));Na(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<a.length;s++)u=a[s],u.form===r.form&&xo(u)}break e;case"textarea":af(r,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&ws(r,!!a.multiple,s,!1)}}}var Oa=!1;function As(r,s,a){if(Oa)return r(s,a);Oa=!0;try{var u=r(s);return u}finally{if(Oa=!1,(Ts!==null||di!==null)&&(nh(),Ts&&(s=Ts,r=di,di=Ts=null,Co(s),r)))for(s=0;s<r.length;s++)Co(r[s])}}function Fr(r,s){var a=r.stateNode;if(a===null)return null;var u=a[hn]||null;if(u===null)return null;a=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var Ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Io=!1;if(Ar)try{var gt={};Object.defineProperty(gt,"passive",{get:function(){Io=!0}}),window.addEventListener("test",gt,gt),window.removeEventListener("test",gt,gt)}catch{Io=!1}var mi=null,pc=null,No=null;function gc(){if(No)return No;var r,s=pc,a=s.length,u,p="value"in mi?mi.value:mi.textContent,y=p.length;for(r=0;r<a&&s[r]===p[r];r++);var E=a-r;for(u=1;u<=E&&s[a-u]===p[y-u];u++);return No=p.slice(r,1<u?1-u:void 0)}function Mo(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Bi(){return!0}function Hr(){return!1}function bn(r){function s(a,u,p,y,E){this._reactName=a,this._targetInst=p,this.type=u,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var D in r)r.hasOwnProperty(D)&&(a=r[D],this[D]=a?a(y):y[D]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Bi:Hr,this.isPropagationStopped=Hr,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),s}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pi=bn(Fi),xs=g({},Fi,{view:0,detail:0}),yc=bn(xs),Rs,Pa,gi,ka=g({},xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cs,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==gi&&(gi&&r.type==="mousemove"?(Rs=r.screenX-gi.screenX,Pa=r.screenY-gi.screenY):Pa=Rs=0,gi=r),Rs)},movementY:function(r){return"movementY"in r?r.movementY:Pa}}),vc=bn(ka),Do=g({},ka,{dataTransfer:0}),uf=bn(Do),ff=g({},xs,{relatedTarget:0}),Oo=bn(ff),_c=g({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),hf=bn(_c),La=g({},Fi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),df=bn(La),mf=g({},Fi,{data:0}),yi=bn(mf),pf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vf(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=yf[r])?!!s[r]:!1}function Cs(){return vf}var Hn=g({},xs,{key:function(r){if(r.key){var s=pf[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Mo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?gf[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cs,charCode:function(r){return r.type==="keypress"?Mo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Mo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),_f=bn(Hn),bf=g({},ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hi=bn(bf),m=g({},xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cs}),b=bn(m),S=g({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),V=bn(S),Q=g({},ka,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),te=bn(Q),ve=g({},Fi,{newState:0,oldState:0}),Fe=bn(ve),Bt=[9,13,27,32],ot=Ar&&"CompositionEvent"in window,Ot=null;Ar&&"documentMode"in document&&(Ot=document.documentMode);var xr=Ar&&"TextEvent"in window&&!Ot,vi=Ar&&(!ot||Ot&&8<Ot&&11>=Ot),qr=" ",Gr=!1;function Po(r,s){switch(r){case"keyup":return Bt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Va(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ua=!1;function oI(r,s){switch(r){case"compositionend":return Va(s);case"keypress":return s.which!==32?null:(Gr=!0,qr);case"textInput":return r=s.data,r===qr&&Gr?null:r;default:return null}}function aI(r,s){if(Ua)return r==="compositionend"||!ot&&Po(r,s)?(r=gc(),No=pc=mi=null,Ua=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return vi&&s.locale!=="ko"?null:s.data;default:return null}}var lI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function B_(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!lI[r.type]:s==="textarea"}function F_(r,s,a,u){Ts?di?di.push(u):di=[u]:Ts=u,s=ch(s,"onChange"),0<s.length&&(a=new pi("onChange","change",null,a,u),r.push({event:a,listeners:s}))}var bc=null,wc=null;function cI(r){Tw(r,0)}function wf(r){var s=sr(r);if(xo(s))return r}function H_(r,s){if(r==="change")return s}var q_=!1;if(Ar){var Um;if(Ar){var zm="oninput"in document;if(!zm){var G_=document.createElement("div");G_.setAttribute("oninput","return;"),zm=typeof G_.oninput=="function"}Um=zm}else Um=!1;q_=Um&&(!document.documentMode||9<document.documentMode)}function $_(){bc&&(bc.detachEvent("onpropertychange",K_),wc=bc=null)}function K_(r){if(r.propertyName==="value"&&wf(wc)){var s=[];F_(s,wc,r,Tr(r)),As(cI,s)}}function uI(r,s,a){r==="focusin"?($_(),bc=s,wc=a,bc.attachEvent("onpropertychange",K_)):r==="focusout"&&$_()}function fI(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return wf(wc)}function hI(r,s){if(r==="click")return wf(s)}function dI(r,s){if(r==="input"||r==="change")return wf(s)}function mI(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var ar=typeof Object.is=="function"?Object.is:mI;function Ec(r,s){if(ar(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),u=Object.keys(s);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var p=a[u];if(!Ue.call(s,p)||!ar(r[p],s[p]))return!1}return!0}function Y_(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function X_(r,s){var a=Y_(r);r=0;for(var u;a;){if(a.nodeType===3){if(u=r+a.textContent.length,r<=s&&u>=s)return{node:a,offset:s-r};r=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Y_(a)}}function Q_(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Q_(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function W_(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=hi(r.document);s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=hi(r.document)}return s}function jm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var pI=Ar&&"documentMode"in document&&11>=document.documentMode,za=null,Bm=null,Sc=null,Fm=!1;function Z_(r,s,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Fm||za==null||za!==hi(u)||(u=za,"selectionStart"in u&&jm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Sc&&Ec(Sc,u)||(Sc=u,u=ch(Bm,"onSelect"),0<u.length&&(s=new pi("onSelect","select",null,s,a),r.push({event:s,listeners:u}),s.target=za)))}function ko(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var ja={animationend:ko("Animation","AnimationEnd"),animationiteration:ko("Animation","AnimationIteration"),animationstart:ko("Animation","AnimationStart"),transitionrun:ko("Transition","TransitionRun"),transitionstart:ko("Transition","TransitionStart"),transitioncancel:ko("Transition","TransitionCancel"),transitionend:ko("Transition","TransitionEnd")},Hm={},J_={};Ar&&(J_=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function Lo(r){if(Hm[r])return Hm[r];if(!ja[r])return r;var s=ja[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in J_)return Hm[r]=s[a];return r}var e0=Lo("animationend"),t0=Lo("animationiteration"),n0=Lo("animationstart"),gI=Lo("transitionrun"),yI=Lo("transitionstart"),vI=Lo("transitioncancel"),r0=Lo("transitionend"),i0=new Map,qm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qm.push("scrollEnd");function $r(r,s){i0.set(r,s),ui(s,[r])}var Ef=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Rr=[],Ba=0,Gm=0;function Sf(){for(var r=Ba,s=Gm=Ba=0;s<r;){var a=Rr[s];Rr[s++]=null;var u=Rr[s];Rr[s++]=null;var p=Rr[s];Rr[s++]=null;var y=Rr[s];if(Rr[s++]=null,u!==null&&p!==null){var E=u.pending;E===null?p.next=p:(p.next=E.next,E.next=p),u.pending=p}y!==0&&s0(a,p,y)}}function Tf(r,s,a,u){Rr[Ba++]=r,Rr[Ba++]=s,Rr[Ba++]=a,Rr[Ba++]=u,Gm|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function $m(r,s,a,u){return Tf(r,s,a,u),Af(r)}function Vo(r,s){return Tf(r,null,null,s),Af(r)}function s0(r,s,a){r.lanes|=a;var u=r.alternate;u!==null&&(u.lanes|=a);for(var p=!1,y=r.return;y!==null;)y.childLanes|=a,u=y.alternate,u!==null&&(u.childLanes|=a),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(p=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,p&&s!==null&&(p=31-Tt(a),r=y.hiddenUpdates,u=r[p],u===null?r[p]=[s]:u.push(s),s.lane=a|536870912),y):null}function Af(r){if(50<Gc)throw Gc=0,tg=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Fa={};function _I(r,s,a,u){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(r,s,a,u){return new _I(r,s,a,u)}function Km(r){return r=r.prototype,!(!r||!r.isReactComponent)}function qi(r,s){var a=r.alternate;return a===null?(a=lr(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&65011712,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a.refCleanup=r.refCleanup,a}function o0(r,s){r.flags&=65011714;var a=r.alternate;return a===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,s=a.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function xf(r,s,a,u,p,y){var E=0;if(u=r,typeof r=="function")Km(r)&&(E=1);else if(typeof r=="string")E=T2(r,a,oe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case M:return r=lr(31,a,s,p),r.elementType=M,r.lanes=y,r;case R:return Uo(a.children,p,y,s);case C:E=8,p|=24;break;case k:return r=lr(12,a,s,p|2),r.elementType=k,r.lanes=y,r;case $:return r=lr(13,a,s,p),r.elementType=$,r.lanes=y,r;case F:return r=lr(19,a,s,p),r.elementType=F,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case z:E=10;break e;case U:E=9;break e;case B:E=11;break e;case x:E=14;break e;case A:E=16,u=null;break e}E=29,a=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=lr(E,a,s,p),s.elementType=r,s.type=u,s.lanes=y,s}function Uo(r,s,a,u){return r=lr(7,r,u,s),r.lanes=a,r}function Ym(r,s,a){return r=lr(6,r,null,s),r.lanes=a,r}function a0(r){var s=lr(18,null,null,0);return s.stateNode=r,s}function Xm(r,s,a){return s=lr(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var l0=new WeakMap;function Cr(r,s){if(typeof r=="object"&&r!==null){var a=l0.get(r);return a!==void 0?a:(s={value:r,source:s,stack:Cn(s)},l0.set(r,s),s)}return{value:r,source:s,stack:Cn(s)}}var Ha=[],qa=0,Rf=null,Tc=0,Ir=[],Nr=0,Is=null,_i=1,bi="";function Gi(r,s){Ha[qa++]=Tc,Ha[qa++]=Rf,Rf=r,Tc=s}function c0(r,s,a){Ir[Nr++]=_i,Ir[Nr++]=bi,Ir[Nr++]=Is,Is=r;var u=_i;r=bi;var p=32-Tt(u)-1;u&=~(1<<p),a+=1;var y=32-Tt(s)+p;if(30<y){var E=p-p%5;y=(u&(1<<E)-1).toString(32),u>>=E,p-=E,_i=1<<32-Tt(s)+p|a<<p|u,bi=y+r}else _i=1<<y|a<<p|u,bi=r}function Qm(r){r.return!==null&&(Gi(r,1),c0(r,1,0))}function Wm(r){for(;r===Rf;)Rf=Ha[--qa],Ha[qa]=null,Tc=Ha[--qa],Ha[qa]=null;for(;r===Is;)Is=Ir[--Nr],Ir[Nr]=null,bi=Ir[--Nr],Ir[Nr]=null,_i=Ir[--Nr],Ir[Nr]=null}function u0(r,s){Ir[Nr++]=_i,Ir[Nr++]=bi,Ir[Nr++]=Is,_i=s.id,bi=s.overflow,Is=r}var wn=null,Nt=null,et=!1,Ns=null,Mr=!1,Zm=Error(i(519));function Ms(r){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ac(Cr(s,r)),Zm}function f0(r){var s=r.stateNode,a=r.type,u=r.memoizedProps;switch(s[Kt]=r,s[hn]=u,a){case"dialog":Ye("cancel",s),Ye("close",s);break;case"iframe":case"object":case"embed":Ye("load",s);break;case"video":case"audio":for(a=0;a<Kc.length;a++)Ye(Kc[a],s);break;case"source":Ye("error",s);break;case"img":case"image":case"link":Ye("error",s),Ye("load",s);break;case"details":Ye("toggle",s);break;case"input":Ye("invalid",s),of(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ye("invalid",s);break;case"textarea":Ye("invalid",s),Es(s,u.value,u.defaultValue,u.children)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||u.suppressHydrationWarning===!0||Cw(s.textContent,a)?(u.popover!=null&&(Ye("beforetoggle",s),Ye("toggle",s)),u.onScroll!=null&&Ye("scroll",s),u.onScrollEnd!=null&&Ye("scrollend",s),u.onClick!=null&&(s.onclick=Br),s=!0):s=!1,s||Ms(r,!0)}function h0(r){for(wn=r.return;wn;)switch(wn.tag){case 5:case 31:case 13:Mr=!1;return;case 27:case 3:Mr=!0;return;default:wn=wn.return}}function Ga(r){if(r!==wn)return!1;if(!et)return h0(r),et=!0,!1;var s=r.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=r.type,a=!(a!=="form"&&a!=="button")||gg(r.type,r.memoizedProps)),a=!a),a&&Nt&&Ms(r),h0(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Nt=Vw(r)}else if(s===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Nt=Vw(r)}else s===27?(s=Nt,Gs(r.type)?(r=wg,wg=null,Nt=r):Nt=s):Nt=wn?Or(r.stateNode.nextSibling):null;return!0}function zo(){Nt=wn=null,et=!1}function Jm(){var r=Ns;return r!==null&&(Wn===null?Wn=r:Wn.push.apply(Wn,r),Ns=null),r}function Ac(r){Ns===null?Ns=[r]:Ns.push(r)}var ep=G(null),jo=null,$i=null;function Ds(r,s,a){ne(ep,s._currentValue),s._currentValue=a}function Ki(r){r._currentValue=ep.current,ie(ep)}function tp(r,s,a){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===a)break;r=r.return}}function np(r,s,a,u){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var y=p.dependencies;if(y!==null){var E=p.child;y=y.firstContext;e:for(;y!==null;){var D=y;y=p;for(var q=0;q<s.length;q++)if(D.context===s[q]){y.lanes|=a,D=y.alternate,D!==null&&(D.lanes|=a),tp(y.return,a,r),u||(E=null);break e}y=D.next}}else if(p.tag===18){if(E=p.return,E===null)throw Error(i(341));E.lanes|=a,y=E.alternate,y!==null&&(y.lanes|=a),tp(E,a,r),E=null}else E=p.child;if(E!==null)E.return=p;else for(E=p;E!==null;){if(E===r){E=null;break}if(p=E.sibling,p!==null){p.return=E.return,E=p;break}E=E.return}p=E}}function $a(r,s,a,u){r=null;for(var p=s,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var E=p.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var D=p.type;ar(p.pendingProps.value,E.value)||(r!==null?r.push(D):r=[D])}}else if(p===ae.current){if(E=p.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(Zc):r=[Zc])}p=p.return}r!==null&&np(s,r,a,u),s.flags|=262144}function Cf(r){for(r=r.firstContext;r!==null;){if(!ar(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Bo(r){jo=r,$i=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function En(r){return d0(jo,r)}function If(r,s){return jo===null&&Bo(r),d0(r,s)}function d0(r,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},$i===null){if(r===null)throw Error(i(308));$i=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else $i=$i.next=s;return a}var bI=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(a,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(a){return a()})}},wI=n.unstable_scheduleCallback,EI=n.unstable_NormalPriority,Qt={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rp(){return{controller:new bI,data:new Map,refCount:0}}function xc(r){r.refCount--,r.refCount===0&&wI(EI,function(){r.controller.abort()})}var Rc=null,ip=0,Ka=0,Ya=null;function SI(r,s){if(Rc===null){var a=Rc=[];ip=0,Ka=ag(),Ya={status:"pending",value:void 0,then:function(u){a.push(u)}}}return ip++,s.then(m0,m0),s}function m0(){if(--ip===0&&Rc!==null){Ya!==null&&(Ya.status="fulfilled");var r=Rc;Rc=null,Ka=0,Ya=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function TI(r,s){var a=[],u={status:"pending",value:null,reason:null,then:function(p){a.push(p)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var p=0;p<a.length;p++)(0,a[p])(s)},function(p){for(u.status="rejected",u.reason=p,p=0;p<a.length;p++)(0,a[p])(void 0)}),u}var p0=H.S;H.S=function(r,s){Zb=qe(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&SI(r,s),p0!==null&&p0(r,s)};var Fo=G(null);function sp(){var r=Fo.current;return r!==null?r:wt.pooledCache}function Nf(r,s){s===null?ne(Fo,Fo.current):ne(Fo,s.pool)}function g0(){var r=sp();return r===null?null:{parent:Qt._currentValue,pool:r}}var Xa=Error(i(460)),op=Error(i(474)),Mf=Error(i(542)),Df={then:function(){}};function y0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function v0(r,s,a){switch(a=r[a],a===void 0?r.push(s):a!==s&&(s.then(Br,Br),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,b0(r),r;default:if(typeof s.status=="string")s.then(Br,Br);else{if(r=wt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=u}},function(u){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,b0(r),r}throw qo=s,Xa}}function Ho(r){try{var s=r._init;return s(r._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(qo=a,Xa):a}}var qo=null;function _0(){if(qo===null)throw Error(i(459));var r=qo;return qo=null,r}function b0(r){if(r===Xa||r===Mf)throw Error(i(483))}var Qa=null,Cc=0;function Of(r){var s=Cc;return Cc+=1,Qa===null&&(Qa=[]),v0(Qa,r,s)}function Ic(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Pf(r,s){throw s.$$typeof===_?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function w0(r){function s(Y,K){if(r){var W=Y.deletions;W===null?(Y.deletions=[K],Y.flags|=16):W.push(K)}}function a(Y,K){if(!r)return null;for(;K!==null;)s(Y,K),K=K.sibling;return null}function u(Y){for(var K=new Map;Y!==null;)Y.key!==null?K.set(Y.key,Y):K.set(Y.index,Y),Y=Y.sibling;return K}function p(Y,K){return Y=qi(Y,K),Y.index=0,Y.sibling=null,Y}function y(Y,K,W){return Y.index=W,r?(W=Y.alternate,W!==null?(W=W.index,W<K?(Y.flags|=67108866,K):W):(Y.flags|=67108866,K)):(Y.flags|=1048576,K)}function E(Y){return r&&Y.alternate===null&&(Y.flags|=67108866),Y}function D(Y,K,W,le){return K===null||K.tag!==6?(K=Ym(W,Y.mode,le),K.return=Y,K):(K=p(K,W),K.return=Y,K)}function q(Y,K,W,le){var Ne=W.type;return Ne===R?se(Y,K,W.props.children,le,W.key):K!==null&&(K.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===A&&Ho(Ne)===K.type)?(K=p(K,W.props),Ic(K,W),K.return=Y,K):(K=xf(W.type,W.key,W.props,null,Y.mode,le),Ic(K,W),K.return=Y,K)}function Z(Y,K,W,le){return K===null||K.tag!==4||K.stateNode.containerInfo!==W.containerInfo||K.stateNode.implementation!==W.implementation?(K=Xm(W,Y.mode,le),K.return=Y,K):(K=p(K,W.children||[]),K.return=Y,K)}function se(Y,K,W,le,Ne){return K===null||K.tag!==7?(K=Uo(W,Y.mode,le,Ne),K.return=Y,K):(K=p(K,W),K.return=Y,K)}function ue(Y,K,W){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Ym(""+K,Y.mode,W),K.return=Y,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case w:return W=xf(K.type,K.key,K.props,null,Y.mode,W),Ic(W,K),W.return=Y,W;case T:return K=Xm(K,Y.mode,W),K.return=Y,K;case A:return K=Ho(K),ue(Y,K,W)}if(pe(K)||j(K))return K=Uo(K,Y.mode,W,null),K.return=Y,K;if(typeof K.then=="function")return ue(Y,Of(K),W);if(K.$$typeof===z)return ue(Y,If(Y,K),W);Pf(Y,K)}return null}function ee(Y,K,W,le){var Ne=K!==null?K.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Ne!==null?null:D(Y,K,""+W,le);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case w:return W.key===Ne?q(Y,K,W,le):null;case T:return W.key===Ne?Z(Y,K,W,le):null;case A:return W=Ho(W),ee(Y,K,W,le)}if(pe(W)||j(W))return Ne!==null?null:se(Y,K,W,le,null);if(typeof W.then=="function")return ee(Y,K,Of(W),le);if(W.$$typeof===z)return ee(Y,K,If(Y,W),le);Pf(Y,W)}return null}function re(Y,K,W,le,Ne){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Y=Y.get(W)||null,D(K,Y,""+le,Ne);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case w:return Y=Y.get(le.key===null?W:le.key)||null,q(K,Y,le,Ne);case T:return Y=Y.get(le.key===null?W:le.key)||null,Z(K,Y,le,Ne);case A:return le=Ho(le),re(Y,K,W,le,Ne)}if(pe(le)||j(le))return Y=Y.get(W)||null,se(K,Y,le,Ne,null);if(typeof le.then=="function")return re(Y,K,W,Of(le),Ne);if(le.$$typeof===z)return re(Y,K,W,If(K,le),Ne);Pf(K,le)}return null}function Te(Y,K,W,le){for(var Ne=null,rt=null,Ce=K,Ge=K=0,Qe=null;Ce!==null&&Ge<W.length;Ge++){Ce.index>Ge?(Qe=Ce,Ce=null):Qe=Ce.sibling;var it=ee(Y,Ce,W[Ge],le);if(it===null){Ce===null&&(Ce=Qe);break}r&&Ce&&it.alternate===null&&s(Y,Ce),K=y(it,K,Ge),rt===null?Ne=it:rt.sibling=it,rt=it,Ce=Qe}if(Ge===W.length)return a(Y,Ce),et&&Gi(Y,Ge),Ne;if(Ce===null){for(;Ge<W.length;Ge++)Ce=ue(Y,W[Ge],le),Ce!==null&&(K=y(Ce,K,Ge),rt===null?Ne=Ce:rt.sibling=Ce,rt=Ce);return et&&Gi(Y,Ge),Ne}for(Ce=u(Ce);Ge<W.length;Ge++)Qe=re(Ce,Y,Ge,W[Ge],le),Qe!==null&&(r&&Qe.alternate!==null&&Ce.delete(Qe.key===null?Ge:Qe.key),K=y(Qe,K,Ge),rt===null?Ne=Qe:rt.sibling=Qe,rt=Qe);return r&&Ce.forEach(function(Qs){return s(Y,Qs)}),et&&Gi(Y,Ge),Ne}function Pe(Y,K,W,le){if(W==null)throw Error(i(151));for(var Ne=null,rt=null,Ce=K,Ge=K=0,Qe=null,it=W.next();Ce!==null&&!it.done;Ge++,it=W.next()){Ce.index>Ge?(Qe=Ce,Ce=null):Qe=Ce.sibling;var Qs=ee(Y,Ce,it.value,le);if(Qs===null){Ce===null&&(Ce=Qe);break}r&&Ce&&Qs.alternate===null&&s(Y,Ce),K=y(Qs,K,Ge),rt===null?Ne=Qs:rt.sibling=Qs,rt=Qs,Ce=Qe}if(it.done)return a(Y,Ce),et&&Gi(Y,Ge),Ne;if(Ce===null){for(;!it.done;Ge++,it=W.next())it=ue(Y,it.value,le),it!==null&&(K=y(it,K,Ge),rt===null?Ne=it:rt.sibling=it,rt=it);return et&&Gi(Y,Ge),Ne}for(Ce=u(Ce);!it.done;Ge++,it=W.next())it=re(Ce,Y,Ge,it.value,le),it!==null&&(r&&it.alternate!==null&&Ce.delete(it.key===null?Ge:it.key),K=y(it,K,Ge),rt===null?Ne=it:rt.sibling=it,rt=it);return r&&Ce.forEach(function(k2){return s(Y,k2)}),et&&Gi(Y,Ge),Ne}function _t(Y,K,W,le){if(typeof W=="object"&&W!==null&&W.type===R&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case w:e:{for(var Ne=W.key;K!==null;){if(K.key===Ne){if(Ne=W.type,Ne===R){if(K.tag===7){a(Y,K.sibling),le=p(K,W.props.children),le.return=Y,Y=le;break e}}else if(K.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===A&&Ho(Ne)===K.type){a(Y,K.sibling),le=p(K,W.props),Ic(le,W),le.return=Y,Y=le;break e}a(Y,K);break}else s(Y,K);K=K.sibling}W.type===R?(le=Uo(W.props.children,Y.mode,le,W.key),le.return=Y,Y=le):(le=xf(W.type,W.key,W.props,null,Y.mode,le),Ic(le,W),le.return=Y,Y=le)}return E(Y);case T:e:{for(Ne=W.key;K!==null;){if(K.key===Ne)if(K.tag===4&&K.stateNode.containerInfo===W.containerInfo&&K.stateNode.implementation===W.implementation){a(Y,K.sibling),le=p(K,W.children||[]),le.return=Y,Y=le;break e}else{a(Y,K);break}else s(Y,K);K=K.sibling}le=Xm(W,Y.mode,le),le.return=Y,Y=le}return E(Y);case A:return W=Ho(W),_t(Y,K,W,le)}if(pe(W))return Te(Y,K,W,le);if(j(W)){if(Ne=j(W),typeof Ne!="function")throw Error(i(150));return W=Ne.call(W),Pe(Y,K,W,le)}if(typeof W.then=="function")return _t(Y,K,Of(W),le);if(W.$$typeof===z)return _t(Y,K,If(Y,W),le);Pf(Y,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,K!==null&&K.tag===6?(a(Y,K.sibling),le=p(K,W),le.return=Y,Y=le):(a(Y,K),le=Ym(W,Y.mode,le),le.return=Y,Y=le),E(Y)):a(Y,K)}return function(Y,K,W,le){try{Cc=0;var Ne=_t(Y,K,W,le);return Qa=null,Ne}catch(Ce){if(Ce===Xa||Ce===Mf)throw Ce;var rt=lr(29,Ce,null,Y.mode);return rt.lanes=le,rt.return=Y,rt}finally{}}}var Go=w0(!0),E0=w0(!1),Os=!1;function ap(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lp(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ps(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ks(r,s,a){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(at&2)!==0){var p=u.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),u.pending=s,s=Af(r),s0(r,null,a),s}return Tf(r,u,s,a),Af(r)}function Nc(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,a|=u,s.lanes=a,yn(r,a)}}function cp(r,s){var a=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var p=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};y===null?p=y=E:y=y.next=E,a=a.next}while(a!==null);y===null?p=y=s:y=y.next=s}else p=y=s;a={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}var up=!1;function Mc(){if(up){var r=Ya;if(r!==null)throw r}}function Dc(r,s,a,u){up=!1;var p=r.updateQueue;Os=!1;var y=p.firstBaseUpdate,E=p.lastBaseUpdate,D=p.shared.pending;if(D!==null){p.shared.pending=null;var q=D,Z=q.next;q.next=null,E===null?y=Z:E.next=Z,E=q;var se=r.alternate;se!==null&&(se=se.updateQueue,D=se.lastBaseUpdate,D!==E&&(D===null?se.firstBaseUpdate=Z:D.next=Z,se.lastBaseUpdate=q))}if(y!==null){var ue=p.baseState;E=0,se=Z=q=null,D=y;do{var ee=D.lane&-536870913,re=ee!==D.lane;if(re?(Xe&ee)===ee:(u&ee)===ee){ee!==0&&ee===Ka&&(up=!0),se!==null&&(se=se.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Te=r,Pe=D;ee=s;var _t=a;switch(Pe.tag){case 1:if(Te=Pe.payload,typeof Te=="function"){ue=Te.call(_t,ue,ee);break e}ue=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Pe.payload,ee=typeof Te=="function"?Te.call(_t,ue,ee):Te,ee==null)break e;ue=g({},ue,ee);break e;case 2:Os=!0}}ee=D.callback,ee!==null&&(r.flags|=64,re&&(r.flags|=8192),re=p.callbacks,re===null?p.callbacks=[ee]:re.push(ee))}else re={lane:ee,tag:D.tag,payload:D.payload,callback:D.callback,next:null},se===null?(Z=se=re,q=ue):se=se.next=re,E|=ee;if(D=D.next,D===null){if(D=p.shared.pending,D===null)break;re=D,D=re.next,re.next=null,p.lastBaseUpdate=re,p.shared.pending=null}}while(!0);se===null&&(q=ue),p.baseState=q,p.firstBaseUpdate=Z,p.lastBaseUpdate=se,y===null&&(p.shared.lanes=0),js|=E,r.lanes=E,r.memoizedState=ue}}function S0(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function T0(r,s){var a=r.callbacks;if(a!==null)for(r.callbacks=null,r=0;r<a.length;r++)S0(a[r],s)}var Wa=G(null),kf=G(0);function A0(r,s){r=ns,ne(kf,r),ne(Wa,s),ns=r|s.baseLanes}function fp(){ne(kf,ns),ne(Wa,Wa.current)}function hp(){ns=kf.current,ie(Wa),ie(kf)}var cr=G(null),Dr=null;function Ls(r){var s=r.alternate;ne(Ft,Ft.current&1),ne(cr,r),Dr===null&&(s===null||Wa.current!==null||s.memoizedState!==null)&&(Dr=r)}function dp(r){ne(Ft,Ft.current),ne(cr,r),Dr===null&&(Dr=r)}function x0(r){r.tag===22?(ne(Ft,Ft.current),ne(cr,r),Dr===null&&(Dr=r)):Vs()}function Vs(){ne(Ft,Ft.current),ne(cr,cr.current)}function ur(r){ie(cr),Dr===r&&(Dr=null),ie(Ft)}var Ft=G(0);function Lf(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||_g(a)||bg(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Yi=0,He=null,yt=null,Wt=null,Vf=!1,Za=!1,$o=!1,Uf=0,Oc=0,Ja=null,AI=0;function Ut(){throw Error(i(321))}function mp(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!ar(r[a],s[a]))return!1;return!0}function pp(r,s,a,u,p,y){return Yi=y,He=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,H.H=r===null||r.memoizedState===null?cb:Np,$o=!1,y=a(u,p),$o=!1,Za&&(y=C0(s,a,u,p)),R0(r),y}function R0(r){H.H=Lc;var s=yt!==null&&yt.next!==null;if(Yi=0,Wt=yt=He=null,Vf=!1,Oc=0,Ja=null,s)throw Error(i(300));r===null||Zt||(r=r.dependencies,r!==null&&Cf(r)&&(Zt=!0))}function C0(r,s,a,u){He=r;var p=0;do{if(Za&&(Ja=null),Oc=0,Za=!1,25<=p)throw Error(i(301));if(p+=1,Wt=yt=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}H.H=ub,y=s(a,u)}while(Za);return y}function xI(){var r=H.H,s=r.useState()[0];return s=typeof s.then=="function"?Pc(s):s,r=r.useState()[0],(yt!==null?yt.memoizedState:null)!==r&&(He.flags|=1024),s}function gp(){var r=Uf!==0;return Uf=0,r}function yp(r,s,a){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~a}function vp(r){if(Vf){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Vf=!1}Yi=0,Wt=yt=He=null,Za=!1,Oc=Uf=0,Ja=null}function qn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?He.memoizedState=Wt=r:Wt=Wt.next=r,Wt}function Ht(){if(yt===null){var r=He.alternate;r=r!==null?r.memoizedState:null}else r=yt.next;var s=Wt===null?He.memoizedState:Wt.next;if(s!==null)Wt=s,yt=r;else{if(r===null)throw He.alternate===null?Error(i(467)):Error(i(310));yt=r,r={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Wt===null?He.memoizedState=Wt=r:Wt=Wt.next=r}return Wt}function zf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pc(r){var s=Oc;return Oc+=1,Ja===null&&(Ja=[]),r=v0(Ja,r,s),s=He,(Wt===null?s.memoizedState:Wt.next)===null&&(s=s.alternate,H.H=s===null||s.memoizedState===null?cb:Np),r}function jf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Pc(r);if(r.$$typeof===z)return En(r)}throw Error(i(438,String(r)))}function _p(r){var s=null,a=He.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var u=He.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=zf(),He.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(r),u=0;u<r;u++)a[u]=P;return s.index++,a}function Xi(r,s){return typeof s=="function"?s(r):s}function Bf(r){var s=Ht();return bp(s,yt,r)}function bp(r,s,a){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=a;var p=r.baseQueue,y=u.pending;if(y!==null){if(p!==null){var E=p.next;p.next=y.next,y.next=E}s.baseQueue=p=y,u.pending=null}if(y=r.baseState,p===null)r.memoizedState=y;else{s=p.next;var D=E=null,q=null,Z=s,se=!1;do{var ue=Z.lane&-536870913;if(ue!==Z.lane?(Xe&ue)===ue:(Yi&ue)===ue){var ee=Z.revertLane;if(ee===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ue===Ka&&(se=!0);else if((Yi&ee)===ee){Z=Z.next,ee===Ka&&(se=!0);continue}else ue={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},q===null?(D=q=ue,E=y):q=q.next=ue,He.lanes|=ee,js|=ee;ue=Z.action,$o&&a(y,ue),y=Z.hasEagerState?Z.eagerState:a(y,ue)}else ee={lane:ue,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},q===null?(D=q=ee,E=y):q=q.next=ee,He.lanes|=ue,js|=ue;Z=Z.next}while(Z!==null&&Z!==s);if(q===null?E=y:q.next=D,!ar(y,r.memoizedState)&&(Zt=!0,se&&(a=Ya,a!==null)))throw a;r.memoizedState=y,r.baseState=E,r.baseQueue=q,u.lastRenderedState=y}return p===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function wp(r){var s=Ht(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=r;var u=a.dispatch,p=a.pending,y=s.memoizedState;if(p!==null){a.pending=null;var E=p=p.next;do y=r(y,E.action),E=E.next;while(E!==p);ar(y,s.memoizedState)||(Zt=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),a.lastRenderedState=y}return[y,u]}function I0(r,s,a){var u=He,p=Ht(),y=et;if(y){if(a===void 0)throw Error(i(407));a=a()}else a=s();var E=!ar((yt||p).memoizedState,a);if(E&&(p.memoizedState=a,Zt=!0),p=p.queue,Tp(D0.bind(null,u,p,r),[r]),p.getSnapshot!==s||E||Wt!==null&&Wt.memoizedState.tag&1){if(u.flags|=2048,el(9,{destroy:void 0},M0.bind(null,u,p,a,s),null),wt===null)throw Error(i(349));y||(Yi&127)!==0||N0(u,s,a)}return a}function N0(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=He.updateQueue,s===null?(s=zf(),He.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function M0(r,s,a,u){s.value=a,s.getSnapshot=u,O0(s)&&P0(r)}function D0(r,s,a){return a(function(){O0(s)&&P0(r)})}function O0(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!ar(r,a)}catch{return!0}}function P0(r){var s=Vo(r,2);s!==null&&Zn(s,r,2)}function Ep(r){var s=qn();if(typeof r=="function"){var a=r;if(r=a(),$o){un(!0);try{a()}finally{un(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:r},s}function k0(r,s,a,u){return r.baseState=a,bp(r,yt,typeof u=="function"?u:Xi)}function RI(r,s,a,u,p){if(qf(r))throw Error(i(485));if(r=s.action,r!==null){var y={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};H.T!==null?a(!0):y.isTransition=!1,u(y),a=s.pending,a===null?(y.next=s.pending=y,L0(s,y)):(y.next=a.next,s.pending=a.next=y)}}function L0(r,s){var a=s.action,u=s.payload,p=r.state;if(s.isTransition){var y=H.T,E={};H.T=E;try{var D=a(p,u),q=H.S;q!==null&&q(E,D),V0(r,s,D)}catch(Z){Sp(r,s,Z)}finally{y!==null&&E.types!==null&&(y.types=E.types),H.T=y}}else try{y=a(p,u),V0(r,s,y)}catch(Z){Sp(r,s,Z)}}function V0(r,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){U0(r,s,u)},function(u){return Sp(r,s,u)}):U0(r,s,a)}function U0(r,s,a){s.status="fulfilled",s.value=a,z0(s),r.state=a,s=r.pending,s!==null&&(a=s.next,a===s?r.pending=null:(a=a.next,s.next=a,L0(r,a)))}function Sp(r,s,a){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=a,z0(s),s=s.next;while(s!==u)}r.action=null}function z0(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function j0(r,s){return s}function B0(r,s){if(et){var a=wt.formState;if(a!==null){e:{var u=He;if(et){if(Nt){t:{for(var p=Nt,y=Mr;p.nodeType!==8;){if(!y){p=null;break t}if(p=Or(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){Nt=Or(p.nextSibling),u=p.data==="F!";break e}}Ms(u)}u=!1}u&&(s=a[0])}}return a=qn(),a.memoizedState=a.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:j0,lastRenderedState:s},a.queue=u,a=ob.bind(null,He,u),u.dispatch=a,u=Ep(!1),y=Ip.bind(null,He,!1,u.queue),u=qn(),p={state:s,dispatch:null,action:r,pending:null},u.queue=p,a=RI.bind(null,He,p,y,a),p.dispatch=a,u.memoizedState=r,[s,a,!1]}function F0(r){var s=Ht();return H0(s,yt,r)}function H0(r,s,a){if(s=bp(r,s,j0)[0],r=Bf(Xi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Pc(s)}catch(E){throw E===Xa?Mf:E}else u=s;s=Ht();var p=s.queue,y=p.dispatch;return a!==s.memoizedState&&(He.flags|=2048,el(9,{destroy:void 0},CI.bind(null,p,a),null)),[u,y,r]}function CI(r,s){r.action=s}function q0(r){var s=Ht(),a=yt;if(a!==null)return H0(s,a,r);Ht(),s=s.memoizedState,a=Ht();var u=a.queue.dispatch;return a.memoizedState=r,[s,u,!1]}function el(r,s,a,u){return r={tag:r,create:a,deps:u,inst:s,next:null},s=He.updateQueue,s===null&&(s=zf(),He.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=r.next=r:(u=a.next,a.next=r,r.next=u,s.lastEffect=r),r}function G0(){return Ht().memoizedState}function Ff(r,s,a,u){var p=qn();He.flags|=r,p.memoizedState=el(1|s,{destroy:void 0},a,u===void 0?null:u)}function Hf(r,s,a,u){var p=Ht();u=u===void 0?null:u;var y=p.memoizedState.inst;yt!==null&&u!==null&&mp(u,yt.memoizedState.deps)?p.memoizedState=el(s,y,a,u):(He.flags|=r,p.memoizedState=el(1|s,y,a,u))}function $0(r,s){Ff(8390656,8,r,s)}function Tp(r,s){Hf(2048,8,r,s)}function II(r){He.flags|=4;var s=He.updateQueue;if(s===null)s=zf(),He.updateQueue=s,s.events=[r];else{var a=s.events;a===null?s.events=[r]:a.push(r)}}function K0(r){var s=Ht().memoizedState;return II({ref:s,nextImpl:r}),function(){if((at&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function Y0(r,s){return Hf(4,2,r,s)}function X0(r,s){return Hf(4,4,r,s)}function Q0(r,s){if(typeof s=="function"){r=r();var a=s(r);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function W0(r,s,a){a=a!=null?a.concat([r]):null,Hf(4,4,Q0.bind(null,s,r),a)}function Ap(){}function Z0(r,s){var a=Ht();s=s===void 0?null:s;var u=a.memoizedState;return s!==null&&mp(s,u[1])?u[0]:(a.memoizedState=[r,s],r)}function J0(r,s){var a=Ht();s=s===void 0?null:s;var u=a.memoizedState;if(s!==null&&mp(s,u[1]))return u[0];if(u=r(),$o){un(!0);try{r()}finally{un(!1)}}return a.memoizedState=[u,s],u}function xp(r,s,a){return a===void 0||(Yi&1073741824)!==0&&(Xe&261930)===0?r.memoizedState=s:(r.memoizedState=a,r=ew(),He.lanes|=r,js|=r,a)}function eb(r,s,a,u){return ar(a,s)?a:Wa.current!==null?(r=xp(r,a,u),ar(r,s)||(Zt=!0),r):(Yi&42)===0||(Yi&1073741824)!==0&&(Xe&261930)===0?(Zt=!0,r.memoizedState=a):(r=ew(),He.lanes|=r,js|=r,s)}function tb(r,s,a,u,p){var y=J.p;J.p=y!==0&&8>y?y:8;var E=H.T,D={};H.T=D,Ip(r,!1,s,a);try{var q=p(),Z=H.S;if(Z!==null&&Z(D,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var se=TI(q,u);kc(r,s,se,dr(r))}else kc(r,s,u,dr(r))}catch(ue){kc(r,s,{then:function(){},status:"rejected",reason:ue},dr())}finally{J.p=y,E!==null&&D.types!==null&&(E.types=D.types),H.T=E}}function NI(){}function Rp(r,s,a,u){if(r.tag!==5)throw Error(i(476));var p=nb(r).queue;tb(r,p,s,X,a===null?NI:function(){return rb(r),a(u)})}function nb(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:X},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:a},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function rb(r){var s=nb(r);s.next===null&&(s=r.alternate.memoizedState),kc(r,s.next.queue,{},dr())}function Cp(){return En(Zc)}function ib(){return Ht().memoizedState}function sb(){return Ht().memoizedState}function MI(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var a=dr();r=Ps(a);var u=ks(s,r,a);u!==null&&(Zn(u,s,a),Nc(u,s,a)),s={cache:rp()},r.payload=s;return}s=s.return}}function DI(r,s,a){var u=dr();a={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},qf(r)?ab(s,a):(a=$m(r,s,a,u),a!==null&&(Zn(a,r,u),lb(a,s,u)))}function ob(r,s,a){var u=dr();kc(r,s,a,u)}function kc(r,s,a,u){var p={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(qf(r))ab(s,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var E=s.lastRenderedState,D=y(E,a);if(p.hasEagerState=!0,p.eagerState=D,ar(D,E))return Tf(r,s,p,0),wt===null&&Sf(),!1}catch{}finally{}if(a=$m(r,s,p,u),a!==null)return Zn(a,r,u),lb(a,s,u),!0}return!1}function Ip(r,s,a,u){if(u={lane:2,revertLane:ag(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},qf(r)){if(s)throw Error(i(479))}else s=$m(r,a,u,2),s!==null&&Zn(s,r,2)}function qf(r){var s=r.alternate;return r===He||s!==null&&s===He}function ab(r,s){Za=Vf=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function lb(r,s,a){if((a&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,a|=u,s.lanes=a,yn(r,a)}}var Lc={readContext:En,use:jf,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useLayoutEffect:Ut,useInsertionEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useSyncExternalStore:Ut,useId:Ut,useHostTransitionStatus:Ut,useFormState:Ut,useActionState:Ut,useOptimistic:Ut,useMemoCache:Ut,useCacheRefresh:Ut};Lc.useEffectEvent=Ut;var cb={readContext:En,use:jf,useCallback:function(r,s){return qn().memoizedState=[r,s===void 0?null:s],r},useContext:En,useEffect:$0,useImperativeHandle:function(r,s,a){a=a!=null?a.concat([r]):null,Ff(4194308,4,Q0.bind(null,s,r),a)},useLayoutEffect:function(r,s){return Ff(4194308,4,r,s)},useInsertionEffect:function(r,s){Ff(4,2,r,s)},useMemo:function(r,s){var a=qn();s=s===void 0?null:s;var u=r();if($o){un(!0);try{r()}finally{un(!1)}}return a.memoizedState=[u,s],u},useReducer:function(r,s,a){var u=qn();if(a!==void 0){var p=a(s);if($o){un(!0);try{a(s)}finally{un(!1)}}}else p=s;return u.memoizedState=u.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},u.queue=r,r=r.dispatch=DI.bind(null,He,r),[u.memoizedState,r]},useRef:function(r){var s=qn();return r={current:r},s.memoizedState=r},useState:function(r){r=Ep(r);var s=r.queue,a=ob.bind(null,He,s);return s.dispatch=a,[r.memoizedState,a]},useDebugValue:Ap,useDeferredValue:function(r,s){var a=qn();return xp(a,r,s)},useTransition:function(){var r=Ep(!1);return r=tb.bind(null,He,r.queue,!0,!1),qn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,a){var u=He,p=qn();if(et){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),wt===null)throw Error(i(349));(Xe&127)!==0||N0(u,s,a)}p.memoizedState=a;var y={value:a,getSnapshot:s};return p.queue=y,$0(D0.bind(null,u,y,r),[r]),u.flags|=2048,el(9,{destroy:void 0},M0.bind(null,u,y,a,s),null),a},useId:function(){var r=qn(),s=wt.identifierPrefix;if(et){var a=bi,u=_i;a=(u&~(1<<32-Tt(u)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Uf++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=AI++,s="_"+s+"r_"+a.toString(32)+"_";return r.memoizedState=s},useHostTransitionStatus:Cp,useFormState:B0,useActionState:B0,useOptimistic:function(r){var s=qn();s.memoizedState=s.baseState=r;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Ip.bind(null,He,!0,a),a.dispatch=s,[r,s]},useMemoCache:_p,useCacheRefresh:function(){return qn().memoizedState=MI.bind(null,He)},useEffectEvent:function(r){var s=qn(),a={impl:r};return s.memoizedState=a,function(){if((at&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},Np={readContext:En,use:jf,useCallback:Z0,useContext:En,useEffect:Tp,useImperativeHandle:W0,useInsertionEffect:Y0,useLayoutEffect:X0,useMemo:J0,useReducer:Bf,useRef:G0,useState:function(){return Bf(Xi)},useDebugValue:Ap,useDeferredValue:function(r,s){var a=Ht();return eb(a,yt.memoizedState,r,s)},useTransition:function(){var r=Bf(Xi)[0],s=Ht().memoizedState;return[typeof r=="boolean"?r:Pc(r),s]},useSyncExternalStore:I0,useId:ib,useHostTransitionStatus:Cp,useFormState:F0,useActionState:F0,useOptimistic:function(r,s){var a=Ht();return k0(a,yt,r,s)},useMemoCache:_p,useCacheRefresh:sb};Np.useEffectEvent=K0;var ub={readContext:En,use:jf,useCallback:Z0,useContext:En,useEffect:Tp,useImperativeHandle:W0,useInsertionEffect:Y0,useLayoutEffect:X0,useMemo:J0,useReducer:wp,useRef:G0,useState:function(){return wp(Xi)},useDebugValue:Ap,useDeferredValue:function(r,s){var a=Ht();return yt===null?xp(a,r,s):eb(a,yt.memoizedState,r,s)},useTransition:function(){var r=wp(Xi)[0],s=Ht().memoizedState;return[typeof r=="boolean"?r:Pc(r),s]},useSyncExternalStore:I0,useId:ib,useHostTransitionStatus:Cp,useFormState:q0,useActionState:q0,useOptimistic:function(r,s){var a=Ht();return yt!==null?k0(a,yt,r,s):(a.baseState=r,[r,a.queue.dispatch])},useMemoCache:_p,useCacheRefresh:sb};ub.useEffectEvent=K0;function Mp(r,s,a,u){s=r.memoizedState,a=a(u,s),a=a==null?s:g({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Dp={enqueueSetState:function(r,s,a){r=r._reactInternals;var u=dr(),p=Ps(u);p.payload=s,a!=null&&(p.callback=a),s=ks(r,p,u),s!==null&&(Zn(s,r,u),Nc(s,r,u))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var u=dr(),p=Ps(u);p.tag=1,p.payload=s,a!=null&&(p.callback=a),s=ks(r,p,u),s!==null&&(Zn(s,r,u),Nc(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=dr(),u=Ps(a);u.tag=2,s!=null&&(u.callback=s),s=ks(r,u,a),s!==null&&(Zn(s,r,a),Nc(s,r,a))}};function fb(r,s,a,u,p,y,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,y,E):s.prototype&&s.prototype.isPureReactComponent?!Ec(a,u)||!Ec(p,y):!0}function hb(r,s,a,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,u),s.state!==r&&Dp.enqueueReplaceState(s,s.state,null)}function Ko(r,s){var a=s;if("ref"in s){a={};for(var u in s)u!=="ref"&&(a[u]=s[u])}if(r=r.defaultProps){a===s&&(a=g({},a));for(var p in r)a[p]===void 0&&(a[p]=r[p])}return a}function db(r){Ef(r)}function mb(r){console.error(r)}function pb(r){Ef(r)}function Gf(r,s){try{var a=r.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function gb(r,s,a){try{var u=r.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Op(r,s,a){return a=Ps(a),a.tag=3,a.payload={element:null},a.callback=function(){Gf(r,s)},a}function yb(r){return r=Ps(r),r.tag=3,r}function vb(r,s,a,u){var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var y=u.value;r.payload=function(){return p(y)},r.callback=function(){gb(s,a,u)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){gb(s,a,u),typeof p!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var D=u.stack;this.componentDidCatch(u.value,{componentStack:D!==null?D:""})})}function OI(r,s,a,u,p){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=a.alternate,s!==null&&$a(s,a,p,!0),a=cr.current,a!==null){switch(a.tag){case 31:case 13:return Dr===null?rh():a.alternate===null&&zt===0&&(zt=3),a.flags&=-257,a.flags|=65536,a.lanes=p,u===Df?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([u]):s.add(u),ig(r,u,p)),!1;case 22:return a.flags|=65536,u===Df?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([u]):a.add(u)),ig(r,u,p)),!1}throw Error(i(435,a.tag))}return ig(r,u,p),rh(),!1}if(et)return s=cr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,u!==Zm&&(r=Error(i(422),{cause:u}),Ac(Cr(r,a)))):(u!==Zm&&(s=Error(i(423),{cause:u}),Ac(Cr(s,a))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,u=Cr(u,a),p=Op(r.stateNode,u,p),cp(r,p),zt!==4&&(zt=2)),!1;var y=Error(i(520),{cause:u});if(y=Cr(y,a),qc===null?qc=[y]:qc.push(y),zt!==4&&(zt=2),s===null)return!0;u=Cr(u,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,r=p&-p,a.lanes|=r,r=Op(a.stateNode,u,r),cp(a,r),!1;case 1:if(s=a.type,y=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Bs===null||!Bs.has(y))))return a.flags|=65536,p&=-p,a.lanes|=p,p=yb(p),vb(p,r,a,u),cp(a,p),!1}a=a.return}while(a!==null);return!1}var Pp=Error(i(461)),Zt=!1;function Sn(r,s,a,u){s.child=r===null?E0(s,null,a,u):Go(s,r.child,a,u)}function _b(r,s,a,u,p){a=a.render;var y=s.ref;if("ref"in u){var E={};for(var D in u)D!=="ref"&&(E[D]=u[D])}else E=u;return Bo(s),u=pp(r,s,a,E,y,p),D=gp(),r!==null&&!Zt?(yp(r,s,p),Qi(r,s,p)):(et&&D&&Qm(s),s.flags|=1,Sn(r,s,u,p),s.child)}function bb(r,s,a,u,p){if(r===null){var y=a.type;return typeof y=="function"&&!Km(y)&&y.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=y,wb(r,s,y,u,p)):(r=xf(a.type,null,u,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,!Fp(r,p)){var E=y.memoizedProps;if(a=a.compare,a=a!==null?a:Ec,a(E,u)&&r.ref===s.ref)return Qi(r,s,p)}return s.flags|=1,r=qi(y,u),r.ref=s.ref,r.return=s,s.child=r}function wb(r,s,a,u,p){if(r!==null){var y=r.memoizedProps;if(Ec(y,u)&&r.ref===s.ref)if(Zt=!1,s.pendingProps=u=y,Fp(r,p))(r.flags&131072)!==0&&(Zt=!0);else return s.lanes=r.lanes,Qi(r,s,p)}return kp(r,s,a,u,p)}function Eb(r,s,a,u){var p=u.children,y=r!==null?r.memoizedState:null;if(r===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(y=y!==null?y.baseLanes|a:a,r!==null){for(u=s.child=r.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~y}else u=0,s.child=null;return Sb(r,s,y,a,u)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Nf(s,y!==null?y.cachePool:null),y!==null?A0(s,y):fp(),x0(s);else return u=s.lanes=536870912,Sb(r,s,y!==null?y.baseLanes|a:a,a,u)}else y!==null?(Nf(s,y.cachePool),A0(s,y),Vs(),s.memoizedState=null):(r!==null&&Nf(s,null),fp(),Vs());return Sn(r,s,p,a),s.child}function Vc(r,s){return r!==null&&r.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Sb(r,s,a,u,p){var y=sp();return y=y===null?null:{parent:Qt._currentValue,pool:y},s.memoizedState={baseLanes:a,cachePool:y},r!==null&&Nf(s,null),fp(),x0(s),r!==null&&$a(r,s,u,!0),s.childLanes=p,null}function $f(r,s){return s=Yf({mode:s.mode,children:s.children},r.mode),s.ref=r.ref,r.child=s,s.return=r,s}function Tb(r,s,a){return Go(s,r.child,null,a),r=$f(s,s.pendingProps),r.flags|=2,ur(s),s.memoizedState=null,r}function PI(r,s,a){var u=s.pendingProps,p=(s.flags&128)!==0;if(s.flags&=-129,r===null){if(et){if(u.mode==="hidden")return r=$f(s,u),s.lanes=536870912,Vc(null,r);if(dp(s),(r=Nt)?(r=Lw(r,Mr),r=r!==null&&r.data==="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:Is!==null?{id:_i,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=a0(r),a.return=s,s.child=a,wn=s,Nt=null)):r=null,r===null)throw Ms(s);return s.lanes=536870912,null}return $f(s,u)}var y=r.memoizedState;if(y!==null){var E=y.dehydrated;if(dp(s),p)if(s.flags&256)s.flags&=-257,s=Tb(r,s,a);else if(s.memoizedState!==null)s.child=r.child,s.flags|=128,s=null;else throw Error(i(558));else if(Zt||$a(r,s,a,!1),p=(a&r.childLanes)!==0,Zt||p){if(u=wt,u!==null&&(E=vn(u,a),E!==0&&E!==y.retryLane))throw y.retryLane=E,Vo(r,E),Zn(u,r,E),Pp;rh(),s=Tb(r,s,a)}else r=y.treeContext,Nt=Or(E.nextSibling),wn=s,et=!0,Ns=null,Mr=!1,r!==null&&u0(s,r),s=$f(s,u),s.flags|=4096;return s}return r=qi(r.child,{mode:u.mode,children:u.children}),r.ref=s.ref,s.child=r,r.return=s,r}function Kf(r,s){var a=s.ref;if(a===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(r===null||r.ref!==a)&&(s.flags|=4194816)}}function kp(r,s,a,u,p){return Bo(s),a=pp(r,s,a,u,void 0,p),u=gp(),r!==null&&!Zt?(yp(r,s,p),Qi(r,s,p)):(et&&u&&Qm(s),s.flags|=1,Sn(r,s,a,p),s.child)}function Ab(r,s,a,u,p,y){return Bo(s),s.updateQueue=null,a=C0(s,u,a,p),R0(r),u=gp(),r!==null&&!Zt?(yp(r,s,y),Qi(r,s,y)):(et&&u&&Qm(s),s.flags|=1,Sn(r,s,a,y),s.child)}function xb(r,s,a,u,p){if(Bo(s),s.stateNode===null){var y=Fa,E=a.contextType;typeof E=="object"&&E!==null&&(y=En(E)),y=new a(u,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Dp,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=u,y.state=s.memoizedState,y.refs={},ap(s),E=a.contextType,y.context=typeof E=="object"&&E!==null?En(E):Fa,y.state=s.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Mp(s,a,E,u),y.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&Dp.enqueueReplaceState(y,y.state,null),Dc(s,u,y,p),Mc(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){y=s.stateNode;var D=s.memoizedProps,q=Ko(a,D);y.props=q;var Z=y.context,se=a.contextType;E=Fa,typeof se=="object"&&se!==null&&(E=En(se));var ue=a.getDerivedStateFromProps;se=typeof ue=="function"||typeof y.getSnapshotBeforeUpdate=="function",D=s.pendingProps!==D,se||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(D||Z!==E)&&hb(s,y,u,E),Os=!1;var ee=s.memoizedState;y.state=ee,Dc(s,u,y,p),Mc(),Z=s.memoizedState,D||ee!==Z||Os?(typeof ue=="function"&&(Mp(s,a,ue,u),Z=s.memoizedState),(q=Os||fb(s,a,q,u,ee,Z,E))?(se||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Z),y.props=u,y.state=Z,y.context=E,u=q):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{y=s.stateNode,lp(r,s),E=s.memoizedProps,se=Ko(a,E),y.props=se,ue=s.pendingProps,ee=y.context,Z=a.contextType,q=Fa,typeof Z=="object"&&Z!==null&&(q=En(Z)),D=a.getDerivedStateFromProps,(Z=typeof D=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==ue||ee!==q)&&hb(s,y,u,q),Os=!1,ee=s.memoizedState,y.state=ee,Dc(s,u,y,p),Mc();var re=s.memoizedState;E!==ue||ee!==re||Os||r!==null&&r.dependencies!==null&&Cf(r.dependencies)?(typeof D=="function"&&(Mp(s,a,D,u),re=s.memoizedState),(se=Os||fb(s,a,se,u,ee,re,q)||r!==null&&r.dependencies!==null&&Cf(r.dependencies))?(Z||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,re,q),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,re,q)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=re),y.props=u,y.state=re,y.context=q,u=se):(typeof y.componentDidUpdate!="function"||E===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),u=!1)}return y=u,Kf(r,s),u=(s.flags&128)!==0,y||u?(y=s.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,r!==null&&u?(s.child=Go(s,r.child,null,p),s.child=Go(s,null,a,p)):Sn(r,s,a,p),s.memoizedState=y.state,r=s.child):r=Qi(r,s,p),r}function Rb(r,s,a,u){return zo(),s.flags|=256,Sn(r,s,a,u),s.child}var Lp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vp(r){return{baseLanes:r,cachePool:g0()}}function Up(r,s,a){return r=r!==null?r.childLanes&~a:0,s&&(r|=hr),r}function Cb(r,s,a){var u=s.pendingProps,p=!1,y=(s.flags&128)!==0,E;if((E=y)||(E=r!==null&&r.memoizedState===null?!1:(Ft.current&2)!==0),E&&(p=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,r===null){if(et){if(p?Ls(s):Vs(),(r=Nt)?(r=Lw(r,Mr),r=r!==null&&r.data!=="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:Is!==null?{id:_i,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=a0(r),a.return=s,s.child=a,wn=s,Nt=null)):r=null,r===null)throw Ms(s);return bg(r)?s.lanes=32:s.lanes=536870912,null}var D=u.children;return u=u.fallback,p?(Vs(),p=s.mode,D=Yf({mode:"hidden",children:D},p),u=Uo(u,p,a,null),D.return=s,u.return=s,D.sibling=u,s.child=D,u=s.child,u.memoizedState=Vp(a),u.childLanes=Up(r,E,a),s.memoizedState=Lp,Vc(null,u)):(Ls(s),zp(s,D))}var q=r.memoizedState;if(q!==null&&(D=q.dehydrated,D!==null)){if(y)s.flags&256?(Ls(s),s.flags&=-257,s=jp(r,s,a)):s.memoizedState!==null?(Vs(),s.child=r.child,s.flags|=128,s=null):(Vs(),D=u.fallback,p=s.mode,u=Yf({mode:"visible",children:u.children},p),D=Uo(D,p,a,null),D.flags|=2,u.return=s,D.return=s,u.sibling=D,s.child=u,Go(s,r.child,null,a),u=s.child,u.memoizedState=Vp(a),u.childLanes=Up(r,E,a),s.memoizedState=Lp,s=Vc(null,u));else if(Ls(s),bg(D)){if(E=D.nextSibling&&D.nextSibling.dataset,E)var Z=E.dgst;E=Z,u=Error(i(419)),u.stack="",u.digest=E,Ac({value:u,source:null,stack:null}),s=jp(r,s,a)}else if(Zt||$a(r,s,a,!1),E=(a&r.childLanes)!==0,Zt||E){if(E=wt,E!==null&&(u=vn(E,a),u!==0&&u!==q.retryLane))throw q.retryLane=u,Vo(r,u),Zn(E,r,u),Pp;_g(D)||rh(),s=jp(r,s,a)}else _g(D)?(s.flags|=192,s.child=r.child,s=null):(r=q.treeContext,Nt=Or(D.nextSibling),wn=s,et=!0,Ns=null,Mr=!1,r!==null&&u0(s,r),s=zp(s,u.children),s.flags|=4096);return s}return p?(Vs(),D=u.fallback,p=s.mode,q=r.child,Z=q.sibling,u=qi(q,{mode:"hidden",children:u.children}),u.subtreeFlags=q.subtreeFlags&65011712,Z!==null?D=qi(Z,D):(D=Uo(D,p,a,null),D.flags|=2),D.return=s,u.return=s,u.sibling=D,s.child=u,Vc(null,u),u=s.child,D=r.child.memoizedState,D===null?D=Vp(a):(p=D.cachePool,p!==null?(q=Qt._currentValue,p=p.parent!==q?{parent:q,pool:q}:p):p=g0(),D={baseLanes:D.baseLanes|a,cachePool:p}),u.memoizedState=D,u.childLanes=Up(r,E,a),s.memoizedState=Lp,Vc(r.child,u)):(Ls(s),a=r.child,r=a.sibling,a=qi(a,{mode:"visible",children:u.children}),a.return=s,a.sibling=null,r!==null&&(E=s.deletions,E===null?(s.deletions=[r],s.flags|=16):E.push(r)),s.child=a,s.memoizedState=null,a)}function zp(r,s){return s=Yf({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Yf(r,s){return r=lr(22,r,null,s),r.lanes=0,r}function jp(r,s,a){return Go(s,r.child,null,a),r=zp(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Ib(r,s,a){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),tp(r.return,s,a)}function Bp(r,s,a,u,p,y){var E=r.memoizedState;E===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:p,treeForkCount:y}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=u,E.tail=a,E.tailMode=p,E.treeForkCount=y)}function Nb(r,s,a){var u=s.pendingProps,p=u.revealOrder,y=u.tail;u=u.children;var E=Ft.current,D=(E&2)!==0;if(D?(E=E&1|2,s.flags|=128):E&=1,ne(Ft,E),Sn(r,s,u,a),u=et?Tc:0,!D&&r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ib(r,a,s);else if(r.tag===19)Ib(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(p){case"forwards":for(a=s.child,p=null;a!==null;)r=a.alternate,r!==null&&Lf(r)===null&&(p=a),a=a.sibling;a=p,a===null?(p=s.child,s.child=null):(p=a.sibling,a.sibling=null),Bp(s,!1,p,a,y,u);break;case"backwards":case"unstable_legacy-backwards":for(a=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&Lf(r)===null){s.child=p;break}r=p.sibling,p.sibling=a,a=p,p=r}Bp(s,!0,a,null,y,u);break;case"together":Bp(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function Qi(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),js|=s.lanes,(a&s.childLanes)===0)if(r!==null){if($a(r,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,a=qi(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=qi(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function Fp(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Cf(r)))}function kI(r,s,a){switch(s.tag){case 3:ye(s,s.stateNode.containerInfo),Ds(s,Qt,r.memoizedState.cache),zo();break;case 27:case 5:Ie(s);break;case 4:ye(s,s.stateNode.containerInfo);break;case 10:Ds(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,dp(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Ls(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Cb(r,s,a):(Ls(s),r=Qi(r,s,a),r!==null?r.sibling:null);Ls(s);break;case 19:var p=(r.flags&128)!==0;if(u=(a&s.childLanes)!==0,u||($a(r,s,a,!1),u=(a&s.childLanes)!==0),p){if(u)return Nb(r,s,a);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ne(Ft,Ft.current),u)break;return null;case 22:return s.lanes=0,Eb(r,s,a,s.pendingProps);case 24:Ds(s,Qt,r.memoizedState.cache)}return Qi(r,s,a)}function Mb(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps)Zt=!0;else{if(!Fp(r,a)&&(s.flags&128)===0)return Zt=!1,kI(r,s,a);Zt=(r.flags&131072)!==0}else Zt=!1,et&&(s.flags&1048576)!==0&&c0(s,Tc,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(r=Ho(s.elementType),s.type=r,typeof r=="function")Km(r)?(u=Ko(r,u),s.tag=1,s=xb(null,s,r,u,a)):(s.tag=0,s=kp(null,s,r,u,a));else{if(r!=null){var p=r.$$typeof;if(p===B){s.tag=11,s=_b(null,s,r,u,a);break e}else if(p===x){s.tag=14,s=bb(null,s,r,u,a);break e}}throw s=he(r)||r,Error(i(306,s,""))}}return s;case 0:return kp(r,s,s.type,s.pendingProps,a);case 1:return u=s.type,p=Ko(u,s.pendingProps),xb(r,s,u,p,a);case 3:e:{if(ye(s,s.stateNode.containerInfo),r===null)throw Error(i(387));u=s.pendingProps;var y=s.memoizedState;p=y.element,lp(r,s),Dc(s,u,null,a);var E=s.memoizedState;if(u=E.cache,Ds(s,Qt,u),u!==y.cache&&np(s,[Qt],a,!0),Mc(),u=E.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=Rb(r,s,u,a);break e}else if(u!==p){p=Cr(Error(i(424)),s),Ac(p),s=Rb(r,s,u,a);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Nt=Or(r.firstChild),wn=s,et=!0,Ns=null,Mr=!0,a=E0(s,null,u,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(zo(),u===p){s=Qi(r,s,a);break e}Sn(r,s,u,a)}s=s.child}return s;case 26:return Kf(r,s),r===null?(a=Fw(s.type,null,s.pendingProps,null))?s.memoizedState=a:et||(a=s.type,r=s.pendingProps,u=uh(_e.current).createElement(a),u[Kt]=s,u[hn]=r,Tn(u,a,r),Yt(u),s.stateNode=u):s.memoizedState=Fw(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Ie(s),r===null&&et&&(u=s.stateNode=zw(s.type,s.pendingProps,_e.current),wn=s,Mr=!0,p=Nt,Gs(s.type)?(wg=p,Nt=Or(u.firstChild)):Nt=p),Sn(r,s,s.pendingProps.children,a),Kf(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&et&&((p=u=Nt)&&(u=f2(u,s.type,s.pendingProps,Mr),u!==null?(s.stateNode=u,wn=s,Nt=Or(u.firstChild),Mr=!1,p=!0):p=!1),p||Ms(s)),Ie(s),p=s.type,y=s.pendingProps,E=r!==null?r.memoizedProps:null,u=y.children,gg(p,y)?u=null:E!==null&&gg(p,E)&&(s.flags|=32),s.memoizedState!==null&&(p=pp(r,s,xI,null,null,a),Zc._currentValue=p),Kf(r,s),Sn(r,s,u,a),s.child;case 6:return r===null&&et&&((r=a=Nt)&&(a=h2(a,s.pendingProps,Mr),a!==null?(s.stateNode=a,wn=s,Nt=null,r=!0):r=!1),r||Ms(s)),null;case 13:return Cb(r,s,a);case 4:return ye(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=Go(s,null,u,a):Sn(r,s,u,a),s.child;case 11:return _b(r,s,s.type,s.pendingProps,a);case 7:return Sn(r,s,s.pendingProps,a),s.child;case 8:return Sn(r,s,s.pendingProps.children,a),s.child;case 12:return Sn(r,s,s.pendingProps.children,a),s.child;case 10:return u=s.pendingProps,Ds(s,s.type,u.value),Sn(r,s,u.children,a),s.child;case 9:return p=s.type._context,u=s.pendingProps.children,Bo(s),p=En(p),u=u(p),s.flags|=1,Sn(r,s,u,a),s.child;case 14:return bb(r,s,s.type,s.pendingProps,a);case 15:return wb(r,s,s.type,s.pendingProps,a);case 19:return Nb(r,s,a);case 31:return PI(r,s,a);case 22:return Eb(r,s,a,s.pendingProps);case 24:return Bo(s),u=En(Qt),r===null?(p=sp(),p===null&&(p=wt,y=rp(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=a),p=y),s.memoizedState={parent:u,cache:p},ap(s),Ds(s,Qt,p)):((r.lanes&a)!==0&&(lp(r,s),Dc(s,null,null,a),Mc()),p=r.memoizedState,y=s.memoizedState,p.parent!==u?(p={parent:u,cache:u},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),Ds(s,Qt,u)):(u=y.cache,Ds(s,Qt,u),u!==p.cache&&np(s,[Qt],a,!0))),Sn(r,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Wi(r){r.flags|=4}function Hp(r,s,a,u,p){if((s=(r.mode&32)!==0)&&(s=!1),s){if(r.flags|=16777216,(p&335544128)===p)if(r.stateNode.complete)r.flags|=8192;else if(iw())r.flags|=8192;else throw qo=Df,op}else r.flags&=-16777217}function Db(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Kw(s))if(iw())r.flags|=8192;else throw qo=Df,op}function Xf(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?fn():536870912,r.lanes|=s,il|=s)}function Uc(r,s){if(!et)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function Mt(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,u=0;if(s)for(var p=r.child;p!==null;)a|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)a|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=u,r.childLanes=a,s}function LI(r,s,a){var u=s.pendingProps;switch(Wm(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(s),null;case 1:return Mt(s),null;case 3:return a=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ki(Qt),Ee(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(r===null||r.child===null)&&(Ga(s)?Wi(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Jm())),Mt(s),null;case 26:var p=s.type,y=s.memoizedState;return r===null?(Wi(s),y!==null?(Mt(s),Db(s,y)):(Mt(s),Hp(s,p,null,u,a))):y?y!==r.memoizedState?(Wi(s),Mt(s),Db(s,y)):(Mt(s),s.flags&=-16777217):(r=r.memoizedProps,r!==u&&Wi(s),Mt(s),Hp(s,p,r,u,a)),null;case 27:if(De(s),a=_e.current,p=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Wi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Mt(s),null}r=oe.current,Ga(s)?f0(s):(r=zw(p,u,a),s.stateNode=r,Wi(s))}return Mt(s),null;case 5:if(De(s),p=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Wi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Mt(s),null}if(y=oe.current,Ga(s))f0(s);else{var E=uh(_e.current);switch(y){case 1:y=E.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=E.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=E.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?E.createElement("select",{is:u.is}):E.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?E.createElement(p,{is:u.is}):E.createElement(p)}}y[Kt]=s,y[hn]=u;e:for(E=s.child;E!==null;){if(E.tag===5||E.tag===6)y.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===s)break e;for(;E.sibling===null;){if(E.return===null||E.return===s)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}s.stateNode=y;e:switch(Tn(y,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Wi(s)}}return Mt(s),Hp(s,s.type,r===null?null:r.memoizedProps,s.pendingProps,a),null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&Wi(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=_e.current,Ga(s)){if(r=s.stateNode,a=s.memoizedProps,u=null,p=wn,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}r[Kt]=s,r=!!(r.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||Cw(r.nodeValue,a)),r||Ms(s,!0)}else r=uh(r).createTextNode(u),r[Kt]=s,s.stateNode=r}return Mt(s),null;case 31:if(a=s.memoizedState,r===null||r.memoizedState!==null){if(u=Ga(s),a!==null){if(r===null){if(!u)throw Error(i(318));if(r=s.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[Kt]=s}else zo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Mt(s),r=!1}else a=Jm(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=a),r=!0;if(!r)return s.flags&256?(ur(s),s):(ur(s),null);if((s.flags&128)!==0)throw Error(i(558))}return Mt(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=Ga(s),u!==null&&u.dehydrated!==null){if(r===null){if(!p)throw Error(i(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Kt]=s}else zo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Mt(s),p=!1}else p=Jm(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(ur(s),s):(ur(s),null)}return ur(s),(s.flags&128)!==0?(s.lanes=a,s):(a=u!==null,r=r!==null&&r.memoizedState!==null,a&&(u=s.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==p&&(u.flags|=2048)),a!==r&&a&&(s.child.flags|=8192),Xf(s,s.updateQueue),Mt(s),null);case 4:return Ee(),r===null&&fg(s.stateNode.containerInfo),Mt(s),null;case 10:return Ki(s.type),Mt(s),null;case 19:if(ie(Ft),u=s.memoizedState,u===null)return Mt(s),null;if(p=(s.flags&128)!==0,y=u.rendering,y===null)if(p)Uc(u,!1);else{if(zt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(y=Lf(r),y!==null){for(s.flags|=128,Uc(u,!1),r=y.updateQueue,s.updateQueue=r,Xf(s,r),s.subtreeFlags=0,r=a,a=s.child;a!==null;)o0(a,r),a=a.sibling;return ne(Ft,Ft.current&1|2),et&&Gi(s,u.treeForkCount),s.child}r=r.sibling}u.tail!==null&&qe()>eh&&(s.flags|=128,p=!0,Uc(u,!1),s.lanes=4194304)}else{if(!p)if(r=Lf(y),r!==null){if(s.flags|=128,p=!0,r=r.updateQueue,s.updateQueue=r,Xf(s,r),Uc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!et)return Mt(s),null}else 2*qe()-u.renderingStartTime>eh&&a!==536870912&&(s.flags|=128,p=!0,Uc(u,!1),s.lanes=4194304);u.isBackwards?(y.sibling=s.child,s.child=y):(r=u.last,r!==null?r.sibling=y:s.child=y,u.last=y)}return u.tail!==null?(r=u.tail,u.rendering=r,u.tail=r.sibling,u.renderingStartTime=qe(),r.sibling=null,a=Ft.current,ne(Ft,p?a&1|2:a&1),et&&Gi(s,u.treeForkCount),r):(Mt(s),null);case 22:case 23:return ur(s),hp(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(a&536870912)!==0&&(s.flags&128)===0&&(Mt(s),s.subtreeFlags&6&&(s.flags|=8192)):Mt(s),a=s.updateQueue,a!==null&&Xf(s,a.retryQueue),a=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==a&&(s.flags|=2048),r!==null&&ie(Fo),null;case 24:return a=null,r!==null&&(a=r.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Ki(Qt),Mt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function VI(r,s){switch(Wm(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ki(Qt),Ee(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return De(s),null;case 31:if(s.memoizedState!==null){if(ur(s),s.alternate===null)throw Error(i(340));zo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 13:if(ur(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));zo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ie(Ft),null;case 4:return Ee(),null;case 10:return Ki(s.type),null;case 22:case 23:return ur(s),hp(),r!==null&&ie(Fo),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Ki(Qt),null;case 25:return null;default:return null}}function Ob(r,s){switch(Wm(s),s.tag){case 3:Ki(Qt),Ee();break;case 26:case 27:case 5:De(s);break;case 4:Ee();break;case 31:s.memoizedState!==null&&ur(s);break;case 13:ur(s);break;case 19:ie(Ft);break;case 10:Ki(s.type);break;case 22:case 23:ur(s),hp(),r!==null&&ie(Fo);break;case 24:Ki(Qt)}}function zc(r,s){try{var a=s.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var p=u.next;a=p;do{if((a.tag&r)===r){u=void 0;var y=a.create,E=a.inst;u=y(),E.destroy=u}a=a.next}while(a!==p)}}catch(D){mt(s,s.return,D)}}function Us(r,s,a){try{var u=s.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&r)===r){var E=u.inst,D=E.destroy;if(D!==void 0){E.destroy=void 0,p=s;var q=a,Z=D;try{Z()}catch(se){mt(p,q,se)}}}u=u.next}while(u!==y)}}catch(se){mt(s,s.return,se)}}function Pb(r){var s=r.updateQueue;if(s!==null){var a=r.stateNode;try{T0(s,a)}catch(u){mt(r,r.return,u)}}}function kb(r,s,a){a.props=Ko(r.type,r.memoizedProps),a.state=r.memoizedState;try{a.componentWillUnmount()}catch(u){mt(r,s,u)}}function jc(r,s){try{var a=r.ref;if(a!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof a=="function"?r.refCleanup=a(u):a.current=u}}catch(p){mt(r,s,p)}}function wi(r,s){var a=r.ref,u=r.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(p){mt(r,s,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(p){mt(r,s,p)}else a.current=null}function Lb(r){var s=r.type,a=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(p){mt(r,r.return,p)}}function qp(r,s,a){try{var u=r.stateNode;s2(u,r.type,a,s),u[hn]=s}catch(p){mt(r,r.return,p)}}function Vb(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Gs(r.type)||r.tag===4}function Gp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Vb(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Gs(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function $p(r,s,a){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(r,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(r),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Br));else if(u!==4&&(u===27&&Gs(r.type)&&(a=r.stateNode,s=null),r=r.child,r!==null))for($p(r,s,a),r=r.sibling;r!==null;)$p(r,s,a),r=r.sibling}function Qf(r,s,a){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(u!==4&&(u===27&&Gs(r.type)&&(a=r.stateNode),r=r.child,r!==null))for(Qf(r,s,a),r=r.sibling;r!==null;)Qf(r,s,a),r=r.sibling}function Ub(r){var s=r.stateNode,a=r.memoizedProps;try{for(var u=r.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);Tn(s,u,a),s[Kt]=r,s[hn]=a}catch(y){mt(r,r.return,y)}}var Zi=!1,Jt=!1,Kp=!1,zb=typeof WeakSet=="function"?WeakSet:Set,mn=null;function UI(r,s){if(r=r.containerInfo,mg=yh,r=W_(r),jm(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var p=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var E=0,D=-1,q=-1,Z=0,se=0,ue=r,ee=null;t:for(;;){for(var re;ue!==a||p!==0&&ue.nodeType!==3||(D=E+p),ue!==y||u!==0&&ue.nodeType!==3||(q=E+u),ue.nodeType===3&&(E+=ue.nodeValue.length),(re=ue.firstChild)!==null;)ee=ue,ue=re;for(;;){if(ue===r)break t;if(ee===a&&++Z===p&&(D=E),ee===y&&++se===u&&(q=E),(re=ue.nextSibling)!==null)break;ue=ee,ee=ue.parentNode}ue=re}a=D===-1||q===-1?null:{start:D,end:q}}else a=null}a=a||{start:0,end:0}}else a=null;for(pg={focusedElem:r,selectionRange:a},yh=!1,mn=s;mn!==null;)if(s=mn,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,mn=r;else for(;mn!==null;){switch(s=mn,y=s.alternate,r=s.flags,s.tag){case 0:if((r&4)!==0&&(r=s.updateQueue,r=r!==null?r.events:null,r!==null))for(a=0;a<r.length;a++)p=r[a],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,a=s,p=y.memoizedProps,y=y.memoizedState,u=a.stateNode;try{var Te=Ko(a.type,p);r=u.getSnapshotBeforeUpdate(Te,y),u.__reactInternalSnapshotBeforeUpdate=r}catch(Pe){mt(a,a.return,Pe)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,a=r.nodeType,a===9)vg(r);else if(a===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":vg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,mn=r;break}mn=s.return}}function jb(r,s,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:es(r,a),u&4&&zc(5,a);break;case 1:if(es(r,a),u&4)if(r=a.stateNode,s===null)try{r.componentDidMount()}catch(E){mt(a,a.return,E)}else{var p=Ko(a.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(p,s,r.__reactInternalSnapshotBeforeUpdate)}catch(E){mt(a,a.return,E)}}u&64&&Pb(a),u&512&&jc(a,a.return);break;case 3:if(es(r,a),u&64&&(r=a.updateQueue,r!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{T0(r,s)}catch(E){mt(a,a.return,E)}}break;case 27:s===null&&u&4&&Ub(a);case 26:case 5:es(r,a),s===null&&u&4&&Lb(a),u&512&&jc(a,a.return);break;case 12:es(r,a);break;case 31:es(r,a),u&4&&Hb(r,a);break;case 13:es(r,a),u&4&&qb(r,a),u&64&&(r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(a=KI.bind(null,a),d2(r,a))));break;case 22:if(u=a.memoizedState!==null||Zi,!u){s=s!==null&&s.memoizedState!==null||Jt,p=Zi;var y=Jt;Zi=u,(Jt=s)&&!y?ts(r,a,(a.subtreeFlags&8772)!==0):es(r,a),Zi=p,Jt=y}break;case 30:break;default:es(r,a)}}function Bb(r){var s=r.alternate;s!==null&&(r.alternate=null,Bb(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Ca(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Pt=null,Yn=!1;function Ji(r,s,a){for(a=a.child;a!==null;)Fb(r,s,a),a=a.sibling}function Fb(r,s,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Dn,a)}catch{}switch(a.tag){case 26:Jt||wi(a,s),Ji(r,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Jt||wi(a,s);var u=Pt,p=Yn;Gs(a.type)&&(Pt=a.stateNode,Yn=!1),Ji(r,s,a),Xc(a.stateNode),Pt=u,Yn=p;break;case 5:Jt||wi(a,s);case 6:if(u=Pt,p=Yn,Pt=null,Ji(r,s,a),Pt=u,Yn=p,Pt!==null)if(Yn)try{(Pt.nodeType===9?Pt.body:Pt.nodeName==="HTML"?Pt.ownerDocument.body:Pt).removeChild(a.stateNode)}catch(y){mt(a,s,y)}else try{Pt.removeChild(a.stateNode)}catch(y){mt(a,s,y)}break;case 18:Pt!==null&&(Yn?(r=Pt,Pw(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,a.stateNode),hl(r)):Pw(Pt,a.stateNode));break;case 4:u=Pt,p=Yn,Pt=a.stateNode.containerInfo,Yn=!0,Ji(r,s,a),Pt=u,Yn=p;break;case 0:case 11:case 14:case 15:Us(2,a,s),Jt||Us(4,a,s),Ji(r,s,a);break;case 1:Jt||(wi(a,s),u=a.stateNode,typeof u.componentWillUnmount=="function"&&kb(a,s,u)),Ji(r,s,a);break;case 21:Ji(r,s,a);break;case 22:Jt=(u=Jt)||a.memoizedState!==null,Ji(r,s,a),Jt=u;break;default:Ji(r,s,a)}}function Hb(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{hl(r)}catch(a){mt(s,s.return,a)}}}function qb(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{hl(r)}catch(a){mt(s,s.return,a)}}function zI(r){switch(r.tag){case 31:case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new zb),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new zb),s;default:throw Error(i(435,r.tag))}}function Wf(r,s){var a=zI(r);s.forEach(function(u){if(!a.has(u)){a.add(u);var p=YI.bind(null,r,u);u.then(p,p)}})}function Xn(r,s){var a=s.deletions;if(a!==null)for(var u=0;u<a.length;u++){var p=a[u],y=r,E=s,D=E;e:for(;D!==null;){switch(D.tag){case 27:if(Gs(D.type)){Pt=D.stateNode,Yn=!1;break e}break;case 5:Pt=D.stateNode,Yn=!1;break e;case 3:case 4:Pt=D.stateNode.containerInfo,Yn=!0;break e}D=D.return}if(Pt===null)throw Error(i(160));Fb(y,E,p),Pt=null,Yn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Gb(s,r),s=s.sibling}var Kr=null;function Gb(r,s){var a=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Xn(s,r),Qn(r),u&4&&(Us(3,r,r.return),zc(3,r),Us(5,r,r.return));break;case 1:Xn(s,r),Qn(r),u&512&&(Jt||a===null||wi(a,a.return)),u&64&&Zi&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(a=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var p=Kr;if(Xn(s,r),Qn(r),u&512&&(Jt||a===null||wi(a,a.return)),u&4){var y=a!==null?a.memoizedState:null;if(u=r.memoizedState,a===null)if(u===null)if(r.stateNode===null){e:{u=r.type,a=r.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":y=p.getElementsByTagName("title")[0],(!y||y[ai]||y[Kt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(u),p.head.insertBefore(y,p.querySelector("head > title"))),Tn(y,u,a),y[Kt]=r,Yt(y),u=y;break e;case"link":var E=Gw("link","href",p).get(u+(a.href||""));if(E){for(var D=0;D<E.length;D++)if(y=E[D],y.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&y.getAttribute("rel")===(a.rel==null?null:a.rel)&&y.getAttribute("title")===(a.title==null?null:a.title)&&y.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(D,1);break t}}y=p.createElement(u),Tn(y,u,a),p.head.appendChild(y);break;case"meta":if(E=Gw("meta","content",p).get(u+(a.content||""))){for(D=0;D<E.length;D++)if(y=E[D],y.getAttribute("content")===(a.content==null?null:""+a.content)&&y.getAttribute("name")===(a.name==null?null:a.name)&&y.getAttribute("property")===(a.property==null?null:a.property)&&y.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&y.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(D,1);break t}}y=p.createElement(u),Tn(y,u,a),p.head.appendChild(y);break;default:throw Error(i(468,u))}y[Kt]=r,Yt(y),u=y}r.stateNode=u}else $w(p,r.type,r.stateNode);else r.stateNode=qw(p,u,r.memoizedProps);else y!==u?(y===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):y.count--,u===null?$w(p,r.type,r.stateNode):qw(p,u,r.memoizedProps)):u===null&&r.stateNode!==null&&qp(r,r.memoizedProps,a.memoizedProps)}break;case 27:Xn(s,r),Qn(r),u&512&&(Jt||a===null||wi(a,a.return)),a!==null&&u&4&&qp(r,r.memoizedProps,a.memoizedProps);break;case 5:if(Xn(s,r),Qn(r),u&512&&(Jt||a===null||wi(a,a.return)),r.flags&32){p=r.stateNode;try{Kn(p,"")}catch(Te){mt(r,r.return,Te)}}u&4&&r.stateNode!=null&&(p=r.memoizedProps,qp(r,p,a!==null?a.memoizedProps:p)),u&1024&&(Kp=!0);break;case 6:if(Xn(s,r),Qn(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,a=r.stateNode;try{a.nodeValue=u}catch(Te){mt(r,r.return,Te)}}break;case 3:if(dh=null,p=Kr,Kr=fh(s.containerInfo),Xn(s,r),Kr=p,Qn(r),u&4&&a!==null&&a.memoizedState.isDehydrated)try{hl(s.containerInfo)}catch(Te){mt(r,r.return,Te)}Kp&&(Kp=!1,$b(r));break;case 4:u=Kr,Kr=fh(r.stateNode.containerInfo),Xn(s,r),Qn(r),Kr=u;break;case 12:Xn(s,r),Qn(r);break;case 31:Xn(s,r),Qn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Wf(r,u)));break;case 13:Xn(s,r),Qn(r),r.child.flags&8192&&r.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Jf=qe()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Wf(r,u)));break;case 22:p=r.memoizedState!==null;var q=a!==null&&a.memoizedState!==null,Z=Zi,se=Jt;if(Zi=Z||p,Jt=se||q,Xn(s,r),Jt=se,Zi=Z,Qn(r),u&8192)e:for(s=r.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(a===null||q||Zi||Jt||Yo(r)),a=null,s=r;;){if(s.tag===5||s.tag===26){if(a===null){q=a=s;try{if(y=q.stateNode,p)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{D=q.stateNode;var ue=q.memoizedProps.style,ee=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;D.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(Te){mt(q,q.return,Te)}}}else if(s.tag===6){if(a===null){q=s;try{q.stateNode.nodeValue=p?"":q.memoizedProps}catch(Te){mt(q,q.return,Te)}}}else if(s.tag===18){if(a===null){q=s;try{var re=q.stateNode;p?kw(re,!0):kw(q.stateNode,!1)}catch(Te){mt(q,q.return,Te)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Wf(r,a))));break;case 19:Xn(s,r),Qn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Wf(r,u)));break;case 30:break;case 21:break;default:Xn(s,r),Qn(r)}}function Qn(r){var s=r.flags;if(s&2){try{for(var a,u=r.return;u!==null;){if(Vb(u)){a=u;break}u=u.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var p=a.stateNode,y=Gp(r);Qf(r,y,p);break;case 5:var E=a.stateNode;a.flags&32&&(Kn(E,""),a.flags&=-33);var D=Gp(r);Qf(r,D,E);break;case 3:case 4:var q=a.stateNode.containerInfo,Z=Gp(r);$p(r,Z,q);break;default:throw Error(i(161))}}catch(se){mt(r,r.return,se)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function $b(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;$b(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function es(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)jb(r,s.alternate,s),s=s.sibling}function Yo(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Us(4,s,s.return),Yo(s);break;case 1:wi(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&kb(s,s.return,a),Yo(s);break;case 27:Xc(s.stateNode);case 26:case 5:wi(s,s.return),Yo(s);break;case 22:s.memoizedState===null&&Yo(s);break;case 30:Yo(s);break;default:Yo(s)}r=r.sibling}}function ts(r,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,p=r,y=s,E=y.flags;switch(y.tag){case 0:case 11:case 15:ts(p,y,a),zc(4,y);break;case 1:if(ts(p,y,a),u=y,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Z){mt(u,u.return,Z)}if(u=y,p=u.updateQueue,p!==null){var D=u.stateNode;try{var q=p.shared.hiddenCallbacks;if(q!==null)for(p.shared.hiddenCallbacks=null,p=0;p<q.length;p++)S0(q[p],D)}catch(Z){mt(u,u.return,Z)}}a&&E&64&&Pb(y),jc(y,y.return);break;case 27:Ub(y);case 26:case 5:ts(p,y,a),a&&u===null&&E&4&&Lb(y),jc(y,y.return);break;case 12:ts(p,y,a);break;case 31:ts(p,y,a),a&&E&4&&Hb(p,y);break;case 13:ts(p,y,a),a&&E&4&&qb(p,y);break;case 22:y.memoizedState===null&&ts(p,y,a),jc(y,y.return);break;case 30:break;default:ts(p,y,a)}s=s.sibling}}function Yp(r,s){var a=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==a&&(r!=null&&r.refCount++,a!=null&&xc(a))}function Xp(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&xc(r))}function Yr(r,s,a,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Kb(r,s,a,u),s=s.sibling}function Kb(r,s,a,u){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Yr(r,s,a,u),p&2048&&zc(9,s);break;case 1:Yr(r,s,a,u);break;case 3:Yr(r,s,a,u),p&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&xc(r)));break;case 12:if(p&2048){Yr(r,s,a,u),r=s.stateNode;try{var y=s.memoizedProps,E=y.id,D=y.onPostCommit;typeof D=="function"&&D(E,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(q){mt(s,s.return,q)}}else Yr(r,s,a,u);break;case 31:Yr(r,s,a,u);break;case 13:Yr(r,s,a,u);break;case 23:break;case 22:y=s.stateNode,E=s.alternate,s.memoizedState!==null?y._visibility&2?Yr(r,s,a,u):Bc(r,s):y._visibility&2?Yr(r,s,a,u):(y._visibility|=2,tl(r,s,a,u,(s.subtreeFlags&10256)!==0||!1)),p&2048&&Yp(E,s);break;case 24:Yr(r,s,a,u),p&2048&&Xp(s.alternate,s);break;default:Yr(r,s,a,u)}}function tl(r,s,a,u,p){for(p=p&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var y=r,E=s,D=a,q=u,Z=E.flags;switch(E.tag){case 0:case 11:case 15:tl(y,E,D,q,p),zc(8,E);break;case 23:break;case 22:var se=E.stateNode;E.memoizedState!==null?se._visibility&2?tl(y,E,D,q,p):Bc(y,E):(se._visibility|=2,tl(y,E,D,q,p)),p&&Z&2048&&Yp(E.alternate,E);break;case 24:tl(y,E,D,q,p),p&&Z&2048&&Xp(E.alternate,E);break;default:tl(y,E,D,q,p)}s=s.sibling}}function Bc(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=r,u=s,p=u.flags;switch(u.tag){case 22:Bc(a,u),p&2048&&Yp(u.alternate,u);break;case 24:Bc(a,u),p&2048&&Xp(u.alternate,u);break;default:Bc(a,u)}s=s.sibling}}var Fc=8192;function nl(r,s,a){if(r.subtreeFlags&Fc)for(r=r.child;r!==null;)Yb(r,s,a),r=r.sibling}function Yb(r,s,a){switch(r.tag){case 26:nl(r,s,a),r.flags&Fc&&r.memoizedState!==null&&A2(a,Kr,r.memoizedState,r.memoizedProps);break;case 5:nl(r,s,a);break;case 3:case 4:var u=Kr;Kr=fh(r.stateNode.containerInfo),nl(r,s,a),Kr=u;break;case 22:r.memoizedState===null&&(u=r.alternate,u!==null&&u.memoizedState!==null?(u=Fc,Fc=16777216,nl(r,s,a),Fc=u):nl(r,s,a));break;default:nl(r,s,a)}}function Xb(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Hc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var u=s[a];mn=u,Wb(u,r)}Xb(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Qb(r),r=r.sibling}function Qb(r){switch(r.tag){case 0:case 11:case 15:Hc(r),r.flags&2048&&Us(9,r,r.return);break;case 3:Hc(r);break;case 12:Hc(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Zf(r)):Hc(r);break;default:Hc(r)}}function Zf(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var u=s[a];mn=u,Wb(u,r)}Xb(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Us(8,s,s.return),Zf(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Zf(s));break;default:Zf(s)}r=r.sibling}}function Wb(r,s){for(;mn!==null;){var a=mn;switch(a.tag){case 0:case 11:case 15:Us(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:xc(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,mn=u;else e:for(a=r;mn!==null;){u=mn;var p=u.sibling,y=u.return;if(Bb(u),u===a){mn=null;break e}if(p!==null){p.return=y,mn=p;break e}mn=y}}}var jI={getCacheForType:function(r){var s=En(Qt),a=s.data.get(r);return a===void 0&&(a=r(),s.data.set(r,a)),a},cacheSignal:function(){return En(Qt).controller.signal}},BI=typeof WeakMap=="function"?WeakMap:Map,at=0,wt=null,Ke=null,Xe=0,dt=0,fr=null,zs=!1,rl=!1,Qp=!1,ns=0,zt=0,js=0,Xo=0,Wp=0,hr=0,il=0,qc=null,Wn=null,Zp=!1,Jf=0,Zb=0,eh=1/0,th=null,Bs=null,an=0,Fs=null,sl=null,rs=0,Jp=0,eg=null,Jb=null,Gc=0,tg=null;function dr(){return(at&2)!==0&&Xe!==0?Xe&-Xe:H.T!==null?ag():ic()}function ew(){if(hr===0)if((Xe&536870912)===0||et){var r=wr;wr<<=1,(wr&3932160)===0&&(wr=262144),hr=r}else hr=536870912;return r=cr.current,r!==null&&(r.flags|=32),hr}function Zn(r,s,a){(r===wt&&(dt===2||dt===9)||r.cancelPendingCommit!==null)&&(ol(r,0),Hs(r,Xe,hr,!1)),It(r,a),((at&2)===0||r!==wt)&&(r===wt&&((at&2)===0&&(Xo|=a),zt===4&&Hs(r,Xe,hr,!1)),Ei(r))}function tw(r,s,a){if((at&6)!==0)throw Error(i(327));var u=!a&&(s&127)===0&&(s&r.expiredLanes)===0||ut(r,s),p=u?qI(r,s):rg(r,s,!0),y=u;do{if(p===0){rl&&!u&&Hs(r,s,0,!1);break}else{if(a=r.current.alternate,y&&!FI(a)){p=rg(r,s,!1),y=!1;continue}if(p===2){if(y=s,r.errorRecoveryDisabledLanes&y)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var D=r;p=qc;var q=D.current.memoizedState.isDehydrated;if(q&&(ol(D,E).flags|=256),E=rg(D,E,!1),E!==2){if(Qp&&!q){D.errorRecoveryDisabledLanes|=y,Xo|=y,p=4;break e}y=Wn,Wn=p,y!==null&&(Wn===null?Wn=y:Wn.push.apply(Wn,y))}p=E}if(y=!1,p!==2)continue}}if(p===1){ol(r,0),Hs(r,s,0,!0);break}e:{switch(u=r,y=p,y){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Hs(u,s,hr,!zs);break e;case 2:Wn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(p=Jf+300-qe(),10<p)){if(Hs(u,s,hr,!zs),Oe(u,0,!0)!==0)break e;rs=s,u.timeoutHandle=Dw(nw.bind(null,u,a,Wn,th,Zp,s,hr,Xo,il,zs,y,"Throttled",-0,0),p);break e}nw(u,a,Wn,th,Zp,s,hr,Xo,il,zs,y,null,-0,0)}}break}while(!0);Ei(r)}function nw(r,s,a,u,p,y,E,D,q,Z,se,ue,ee,re){if(r.timeoutHandle=-1,ue=s.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Br},Yb(s,y,ue);var Te=(y&62914560)===y?Jf-qe():(y&4194048)===y?Zb-qe():0;if(Te=x2(ue,Te),Te!==null){rs=y,r.cancelPendingCommit=Te(uw.bind(null,r,s,y,a,u,p,E,D,q,se,ue,null,ee,re)),Hs(r,y,E,!Z);return}}uw(r,s,y,a,u,p,E,D,q)}function FI(r){for(var s=r;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var p=a[u],y=p.getSnapshot;p=p.value;try{if(!ar(y(),p))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Hs(r,s,a,u){s&=~Wp,s&=~Xo,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var p=s;0<p;){var y=31-Tt(p),E=1<<y;u[y]=-1,p&=~E}a!==0&&Er(r,a,s)}function nh(){return(at&6)===0?($c(0),!1):!0}function ng(){if(Ke!==null){if(dt===0)var r=Ke.return;else r=Ke,$i=jo=null,vp(r),Qa=null,Cc=0,r=Ke;for(;r!==null;)Ob(r.alternate,r),r=r.return;Ke=null}}function ol(r,s){var a=r.timeoutHandle;a!==-1&&(r.timeoutHandle=-1,l2(a)),a=r.cancelPendingCommit,a!==null&&(r.cancelPendingCommit=null,a()),rs=0,ng(),wt=r,Ke=a=qi(r.current,null),Xe=s,dt=0,fr=null,zs=!1,rl=ut(r,s),Qp=!1,il=hr=Wp=Xo=js=zt=0,Wn=qc=null,Zp=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var p=31-Tt(u),y=1<<p;s|=r[p],u&=~y}return ns=s,Sf(),a}function rw(r,s){He=null,H.H=Lc,s===Xa||s===Mf?(s=_0(),dt=3):s===op?(s=_0(),dt=4):dt=s===Pp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,fr=s,Ke===null&&(zt=1,Gf(r,Cr(s,r.current)))}function iw(){var r=cr.current;return r===null?!0:(Xe&4194048)===Xe?Dr===null:(Xe&62914560)===Xe||(Xe&536870912)!==0?r===Dr:!1}function sw(){var r=H.H;return H.H=Lc,r===null?Lc:r}function ow(){var r=H.A;return H.A=jI,r}function rh(){zt=4,zs||(Xe&4194048)!==Xe&&cr.current!==null||(rl=!0),(js&134217727)===0&&(Xo&134217727)===0||wt===null||Hs(wt,Xe,hr,!1)}function rg(r,s,a){var u=at;at|=2;var p=sw(),y=ow();(wt!==r||Xe!==s)&&(th=null,ol(r,s)),s=!1;var E=zt;e:do try{if(dt!==0&&Ke!==null){var D=Ke,q=fr;switch(dt){case 8:ng(),E=6;break e;case 3:case 2:case 9:case 6:cr.current===null&&(s=!0);var Z=dt;if(dt=0,fr=null,al(r,D,q,Z),a&&rl){E=0;break e}break;default:Z=dt,dt=0,fr=null,al(r,D,q,Z)}}HI(),E=zt;break}catch(se){rw(r,se)}while(!0);return s&&r.shellSuspendCounter++,$i=jo=null,at=u,H.H=p,H.A=y,Ke===null&&(wt=null,Xe=0,Sf()),E}function HI(){for(;Ke!==null;)aw(Ke)}function qI(r,s){var a=at;at|=2;var u=sw(),p=ow();wt!==r||Xe!==s?(th=null,eh=qe()+500,ol(r,s)):rl=ut(r,s);e:do try{if(dt!==0&&Ke!==null){s=Ke;var y=fr;t:switch(dt){case 1:dt=0,fr=null,al(r,s,y,1);break;case 2:case 9:if(y0(y)){dt=0,fr=null,lw(s);break}s=function(){dt!==2&&dt!==9||wt!==r||(dt=7),Ei(r)},y.then(s,s);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:y0(y)?(dt=0,fr=null,lw(s)):(dt=0,fr=null,al(r,s,y,7));break;case 5:var E=null;switch(Ke.tag){case 26:E=Ke.memoizedState;case 5:case 27:var D=Ke;if(E?Kw(E):D.stateNode.complete){dt=0,fr=null;var q=D.sibling;if(q!==null)Ke=q;else{var Z=D.return;Z!==null?(Ke=Z,ih(Z)):Ke=null}break t}}dt=0,fr=null,al(r,s,y,5);break;case 6:dt=0,fr=null,al(r,s,y,6);break;case 8:ng(),zt=6;break e;default:throw Error(i(462))}}GI();break}catch(se){rw(r,se)}while(!0);return $i=jo=null,H.H=u,H.A=p,at=a,Ke!==null?0:(wt=null,Xe=0,Sf(),zt)}function GI(){for(;Ke!==null&&!Dt();)aw(Ke)}function aw(r){var s=Mb(r.alternate,r,ns);r.memoizedProps=r.pendingProps,s===null?ih(r):Ke=s}function lw(r){var s=r,a=s.alternate;switch(s.tag){case 15:case 0:s=Ab(a,s,s.pendingProps,s.type,void 0,Xe);break;case 11:s=Ab(a,s,s.pendingProps,s.type.render,s.ref,Xe);break;case 5:vp(s);default:Ob(a,s),s=Ke=o0(s,ns),s=Mb(a,s,ns)}r.memoizedProps=r.pendingProps,s===null?ih(r):Ke=s}function al(r,s,a,u){$i=jo=null,vp(s),Qa=null,Cc=0;var p=s.return;try{if(OI(r,p,s,a,Xe)){zt=1,Gf(r,Cr(a,r.current)),Ke=null;return}}catch(y){if(p!==null)throw Ke=p,y;zt=1,Gf(r,Cr(a,r.current)),Ke=null;return}s.flags&32768?(et||u===1?r=!0:rl||(Xe&536870912)!==0?r=!1:(zs=r=!0,(u===2||u===9||u===3||u===6)&&(u=cr.current,u!==null&&u.tag===13&&(u.flags|=16384))),cw(s,r)):ih(s)}function ih(r){var s=r;do{if((s.flags&32768)!==0){cw(s,zs);return}r=s.return;var a=LI(s.alternate,s,ns);if(a!==null){Ke=a;return}if(s=s.sibling,s!==null){Ke=s;return}Ke=s=r}while(s!==null);zt===0&&(zt=5)}function cw(r,s){do{var a=VI(r.alternate,r);if(a!==null){a.flags&=32767,Ke=a;return}if(a=r.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(r=r.sibling,r!==null)){Ke=r;return}Ke=r=a}while(r!==null);zt=6,Ke=null}function uw(r,s,a,u,p,y,E,D,q){r.cancelPendingCommit=null;do sh();while(an!==0);if((at&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(y=s.lanes|s.childLanes,y|=Gm,Pn(r,a,y,E,D,q),r===wt&&(Ke=wt=null,Xe=0),sl=s,Fs=r,rs=a,Jp=y,eg=p,Jb=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,XI(In,function(){return pw(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=H.T,H.T=null,p=J.p,J.p=2,E=at,at|=4;try{UI(r,s,a)}finally{at=E,J.p=p,H.T=u}}an=1,fw(),hw(),dw()}}function fw(){if(an===1){an=0;var r=Fs,s=sl,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var u=J.p;J.p=2;var p=at;at|=4;try{Gb(s,r);var y=pg,E=W_(r.containerInfo),D=y.focusedElem,q=y.selectionRange;if(E!==D&&D&&D.ownerDocument&&Q_(D.ownerDocument.documentElement,D)){if(q!==null&&jm(D)){var Z=q.start,se=q.end;if(se===void 0&&(se=Z),"selectionStart"in D)D.selectionStart=Z,D.selectionEnd=Math.min(se,D.value.length);else{var ue=D.ownerDocument||document,ee=ue&&ue.defaultView||window;if(ee.getSelection){var re=ee.getSelection(),Te=D.textContent.length,Pe=Math.min(q.start,Te),_t=q.end===void 0?Pe:Math.min(q.end,Te);!re.extend&&Pe>_t&&(E=_t,_t=Pe,Pe=E);var Y=X_(D,Pe),K=X_(D,_t);if(Y&&K&&(re.rangeCount!==1||re.anchorNode!==Y.node||re.anchorOffset!==Y.offset||re.focusNode!==K.node||re.focusOffset!==K.offset)){var W=ue.createRange();W.setStart(Y.node,Y.offset),re.removeAllRanges(),Pe>_t?(re.addRange(W),re.extend(K.node,K.offset)):(W.setEnd(K.node,K.offset),re.addRange(W))}}}}for(ue=[],re=D;re=re.parentNode;)re.nodeType===1&&ue.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<ue.length;D++){var le=ue[D];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}yh=!!mg,pg=mg=null}finally{at=p,J.p=u,H.T=a}}r.current=s,an=2}}function hw(){if(an===2){an=0;var r=Fs,s=sl,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var u=J.p;J.p=2;var p=at;at|=4;try{jb(r,s.alternate,s)}finally{at=p,J.p=u,H.T=a}}an=3}}function dw(){if(an===4||an===3){an=0,ze();var r=Fs,s=sl,a=rs,u=Jb;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?an=5:(an=0,sl=Fs=null,mw(r,r.pendingLanes));var p=r.pendingLanes;if(p===0&&(Bs=null),_n(a),s=s.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Dn,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=H.T,p=J.p,J.p=2,H.T=null;try{for(var y=r.onRecoverableError,E=0;E<u.length;E++){var D=u[E];y(D.value,{componentStack:D.stack})}}finally{H.T=s,J.p=p}}(rs&3)!==0&&sh(),Ei(r),p=r.pendingLanes,(a&261930)!==0&&(p&42)!==0?r===tg?Gc++:(Gc=0,tg=r):Gc=0,$c(0)}}function mw(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,xc(s)))}function sh(){return fw(),hw(),dw(),pw()}function pw(){if(an!==5)return!1;var r=Fs,s=Jp;Jp=0;var a=_n(rs),u=H.T,p=J.p;try{J.p=32>a?32:a,H.T=null,a=eg,eg=null;var y=Fs,E=rs;if(an=0,sl=Fs=null,rs=0,(at&6)!==0)throw Error(i(331));var D=at;if(at|=4,Qb(y.current),Kb(y,y.current,E,a),at=D,$c(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Dn,y)}catch{}return!0}finally{J.p=p,H.T=u,mw(r,s)}}function gw(r,s,a){s=Cr(a,s),s=Op(r.stateNode,s,2),r=ks(r,s,2),r!==null&&(It(r,2),Ei(r))}function mt(r,s,a){if(r.tag===3)gw(r,r,a);else for(;s!==null;){if(s.tag===3){gw(s,r,a);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Bs===null||!Bs.has(u))){r=Cr(a,r),a=yb(2),u=ks(s,a,2),u!==null&&(vb(a,u,s,r),It(u,2),Ei(u));break}}s=s.return}}function ig(r,s,a){var u=r.pingCache;if(u===null){u=r.pingCache=new BI;var p=new Set;u.set(s,p)}else p=u.get(s),p===void 0&&(p=new Set,u.set(s,p));p.has(a)||(Qp=!0,p.add(a),r=$I.bind(null,r,s,a),s.then(r,r))}function $I(r,s,a){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&a,r.warmLanes&=~a,wt===r&&(Xe&a)===a&&(zt===4||zt===3&&(Xe&62914560)===Xe&&300>qe()-Jf?(at&2)===0&&ol(r,0):Wp|=a,il===Xe&&(il=0)),Ei(r)}function yw(r,s){s===0&&(s=fn()),r=Vo(r,s),r!==null&&(It(r,s),Ei(r))}function KI(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),yw(r,a)}function YI(r,s){var a=0;switch(r.tag){case 31:case 13:var u=r.stateNode,p=r.memoizedState;p!==null&&(a=p.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),yw(r,a)}function XI(r,s){return ct(r,s)}var oh=null,ll=null,sg=!1,ah=!1,og=!1,qs=0;function Ei(r){r!==ll&&r.next===null&&(ll===null?oh=ll=r:ll=ll.next=r),ah=!0,sg||(sg=!0,WI())}function $c(r,s){if(!og&&ah){og=!0;do for(var a=!1,u=oh;u!==null;){if(r!==0){var p=u.pendingLanes;if(p===0)var y=0;else{var E=u.suspendedLanes,D=u.pingedLanes;y=(1<<31-Tt(42|r)+1)-1,y&=p&~(E&~D),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(a=!0,ww(u,y))}else y=Xe,y=Oe(u,u===wt?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||ut(u,y)||(a=!0,ww(u,y));u=u.next}while(a);og=!1}}function QI(){vw()}function vw(){ah=sg=!1;var r=0;qs!==0&&a2()&&(r=qs);for(var s=qe(),a=null,u=oh;u!==null;){var p=u.next,y=_w(u,s);y===0?(u.next=null,a===null?oh=p:a.next=p,p===null&&(ll=a)):(a=u,(r!==0||(y&3)!==0)&&(ah=!0)),u=p}an!==0&&an!==5||$c(r),qs!==0&&(qs=0)}function _w(r,s){for(var a=r.suspendedLanes,u=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var E=31-Tt(y),D=1<<E,q=p[E];q===-1?((D&a)===0||(D&u)!==0)&&(p[E]=$t(D,s)):q<=s&&(r.expiredLanes|=D),y&=~D}if(s=wt,a=Xe,a=Oe(r,r===s?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,a===0||r===s&&(dt===2||dt===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&gn(u),r.callbackNode=null,r.callbackPriority=0;if((a&3)===0||ut(r,a)){if(s=a&-a,s===r.callbackPriority)return s;switch(u!==null&&gn(u),_n(a)){case 2:case 8:a=rr;break;case 32:a=In;break;case 268435456:a=Nn;break;default:a=In}return u=bw.bind(null,r),a=ct(a,u),r.callbackPriority=s,r.callbackNode=a,s}return u!==null&&u!==null&&gn(u),r.callbackPriority=2,r.callbackNode=null,2}function bw(r,s){if(an!==0&&an!==5)return r.callbackNode=null,r.callbackPriority=0,null;var a=r.callbackNode;if(sh()&&r.callbackNode!==a)return null;var u=Xe;return u=Oe(r,r===wt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(tw(r,u,s),_w(r,qe()),r.callbackNode!=null&&r.callbackNode===a?bw.bind(null,r):null)}function ww(r,s){if(sh())return null;tw(r,s,!0)}function WI(){c2(function(){(at&6)!==0?ct(on,QI):vw()})}function ag(){if(qs===0){var r=Ka;r===0&&(r=Gn,Gn<<=1,(Gn&261888)===0&&(Gn=256)),qs=r}return qs}function Ew(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Da(""+r)}function Sw(r,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,r.id&&a.setAttribute("form",r.id),s.parentNode.insertBefore(a,s),r=new FormData(r),a.parentNode.removeChild(a),r}function ZI(r,s,a,u,p){if(s==="submit"&&a&&a.stateNode===p){var y=Ew((p[hn]||null).action),E=u.submitter;E&&(s=(s=E[hn]||null)?Ew(s.formAction):E.getAttribute("formAction"),s!==null&&(y=s,E=null));var D=new pi("action","action",null,u,p);r.push({event:D,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(qs!==0){var q=E?Sw(p,E):new FormData(p);Rp(a,{pending:!0,data:q,method:p.method,action:y},null,q)}}else typeof y=="function"&&(D.preventDefault(),q=E?Sw(p,E):new FormData(p),Rp(a,{pending:!0,data:q,method:p.method,action:y},y,q))},currentTarget:p}]})}}for(var lg=0;lg<qm.length;lg++){var cg=qm[lg],JI=cg.toLowerCase(),e2=cg[0].toUpperCase()+cg.slice(1);$r(JI,"on"+e2)}$r(e0,"onAnimationEnd"),$r(t0,"onAnimationIteration"),$r(n0,"onAnimationStart"),$r("dblclick","onDoubleClick"),$r("focusin","onFocus"),$r("focusout","onBlur"),$r(gI,"onTransitionRun"),$r(yI,"onTransitionStart"),$r(vI,"onTransitionCancel"),$r(r0,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kc));function Tw(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var u=r[a],p=u.event;u=u.listeners;e:{var y=void 0;if(s)for(var E=u.length-1;0<=E;E--){var D=u[E],q=D.instance,Z=D.currentTarget;if(D=D.listener,q!==y&&p.isPropagationStopped())break e;y=D,p.currentTarget=Z;try{y(p)}catch(se){Ef(se)}p.currentTarget=null,y=q}else for(E=0;E<u.length;E++){if(D=u[E],q=D.instance,Z=D.currentTarget,D=D.listener,q!==y&&p.isPropagationStopped())break e;y=D,p.currentTarget=Z;try{y(p)}catch(se){Ef(se)}p.currentTarget=null,y=q}}}}function Ye(r,s){var a=s[Ra];a===void 0&&(a=s[Ra]=new Set);var u=r+"__bubble";a.has(u)||(Aw(s,r,2,!1),a.add(u))}function ug(r,s,a){var u=0;s&&(u|=4),Aw(a,r,u,s)}var lh="_reactListening"+Math.random().toString(36).slice(2);function fg(r){if(!r[lh]){r[lh]=!0,sc.forEach(function(a){a!=="selectionchange"&&(t2.has(a)||ug(a,!1,r),ug(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[lh]||(s[lh]=!0,ug("selectionchange",!1,s))}}function Aw(r,s,a,u){switch(eE(s)){case 2:var p=I2;break;case 8:p=N2;break;default:p=xg}a=p.bind(null,s,a,r),p=void 0,!Io||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),u?p!==void 0?r.addEventListener(s,a,{capture:!0,passive:p}):r.addEventListener(s,a,!0):p!==void 0?r.addEventListener(s,a,{passive:p}):r.addEventListener(s,a,!1)}function hg(r,s,a,u,p){var y=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var D=u.stateNode.containerInfo;if(D===p)break;if(E===4)for(E=u.return;E!==null;){var q=E.tag;if((q===3||q===4)&&E.stateNode.containerInfo===p)return;E=E.return}for(;D!==null;){if(E=li(D),E===null)return;if(q=E.tag,q===5||q===6||q===26||q===27){u=y=E;continue e}D=D.parentNode}}u=u.return}As(function(){var Z=y,se=Tr(a),ue=[];e:{var ee=i0.get(r);if(ee!==void 0){var re=pi,Te=r;switch(r){case"keypress":if(Mo(a)===0)break e;case"keydown":case"keyup":re=_f;break;case"focusin":Te="focus",re=Oo;break;case"focusout":Te="blur",re=Oo;break;case"beforeblur":case"afterblur":re=Oo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=vc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=uf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=b;break;case e0:case t0:case n0:re=hf;break;case r0:re=V;break;case"scroll":case"scrollend":re=yc;break;case"wheel":re=te;break;case"copy":case"cut":case"paste":re=df;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=Hi;break;case"toggle":case"beforetoggle":re=Fe}var Pe=(s&4)!==0,_t=!Pe&&(r==="scroll"||r==="scrollend"),Y=Pe?ee!==null?ee+"Capture":null:ee;Pe=[];for(var K=Z,W;K!==null;){var le=K;if(W=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||W===null||Y===null||(le=Fr(K,Y),le!=null&&Pe.push(Yc(K,le,W))),_t)break;K=K.return}0<Pe.length&&(ee=new re(ee,Te,null,a,se),ue.push({event:ee,listeners:Pe}))}}if((s&7)===0){e:{if(ee=r==="mouseover"||r==="pointerover",re=r==="mouseout"||r==="pointerout",ee&&a!==mc&&(Te=a.relatedTarget||a.fromElement)&&(li(Te)||Te[oi]))break e;if((re||ee)&&(ee=se.window===se?se:(ee=se.ownerDocument)?ee.defaultView||ee.parentWindow:window,re?(Te=a.relatedTarget||a.toElement,re=Z,Te=Te?li(Te):null,Te!==null&&(_t=l(Te),Pe=Te.tag,Te!==_t||Pe!==5&&Pe!==27&&Pe!==6)&&(Te=null)):(re=null,Te=Z),re!==Te)){if(Pe=vc,le="onMouseLeave",Y="onMouseEnter",K="mouse",(r==="pointerout"||r==="pointerover")&&(Pe=Hi,le="onPointerLeave",Y="onPointerEnter",K="pointer"),_t=re==null?ee:sr(re),W=Te==null?ee:sr(Te),ee=new Pe(le,K+"leave",re,a,se),ee.target=_t,ee.relatedTarget=W,le=null,li(se)===Z&&(Pe=new Pe(Y,K+"enter",Te,a,se),Pe.target=W,Pe.relatedTarget=_t,le=Pe),_t=le,re&&Te)t:{for(Pe=n2,Y=re,K=Te,W=0,le=Y;le;le=Pe(le))W++;le=0;for(var Ne=K;Ne;Ne=Pe(Ne))le++;for(;0<W-le;)Y=Pe(Y),W--;for(;0<le-W;)K=Pe(K),le--;for(;W--;){if(Y===K||K!==null&&Y===K.alternate){Pe=Y;break t}Y=Pe(Y),K=Pe(K)}Pe=null}else Pe=null;re!==null&&xw(ue,ee,re,Pe,!1),Te!==null&&_t!==null&&xw(ue,_t,Te,Pe,!0)}}e:{if(ee=Z?sr(Z):window,re=ee.nodeName&&ee.nodeName.toLowerCase(),re==="select"||re==="input"&&ee.type==="file")var rt=H_;else if(B_(ee))if(q_)rt=dI;else{rt=fI;var Ce=uI}else re=ee.nodeName,!re||re.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&Ma(Z.elementType)&&(rt=H_):rt=hI;if(rt&&(rt=rt(r,Z))){F_(ue,rt,a,se);break e}Ce&&Ce(r,ee,Z),r==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&fc(ee,"number",ee.value)}switch(Ce=Z?sr(Z):window,r){case"focusin":(B_(Ce)||Ce.contentEditable==="true")&&(za=Ce,Bm=Z,Sc=null);break;case"focusout":Sc=Bm=za=null;break;case"mousedown":Fm=!0;break;case"contextmenu":case"mouseup":case"dragend":Fm=!1,Z_(ue,a,se);break;case"selectionchange":if(pI)break;case"keydown":case"keyup":Z_(ue,a,se)}var Ge;if(ot)e:{switch(r){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else Ua?Po(r,a)&&(Qe="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Qe="onCompositionStart");Qe&&(vi&&a.locale!=="ko"&&(Ua||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&Ua&&(Ge=gc()):(mi=se,pc="value"in mi?mi.value:mi.textContent,Ua=!0)),Ce=ch(Z,Qe),0<Ce.length&&(Qe=new yi(Qe,r,null,a,se),ue.push({event:Qe,listeners:Ce}),Ge?Qe.data=Ge:(Ge=Va(a),Ge!==null&&(Qe.data=Ge)))),(Ge=xr?oI(r,a):aI(r,a))&&(Qe=ch(Z,"onBeforeInput"),0<Qe.length&&(Ce=new yi("onBeforeInput","beforeinput",null,a,se),ue.push({event:Ce,listeners:Qe}),Ce.data=Ge)),ZI(ue,r,Z,a,se)}Tw(ue,s)})}function Yc(r,s,a){return{instance:r,listener:s,currentTarget:a}}function ch(r,s){for(var a=s+"Capture",u=[];r!==null;){var p=r,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Fr(r,a),p!=null&&u.unshift(Yc(r,p,y)),p=Fr(r,s),p!=null&&u.push(Yc(r,p,y))),r.tag===3)return u;r=r.return}return[]}function n2(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function xw(r,s,a,u,p){for(var y=s._reactName,E=[];a!==null&&a!==u;){var D=a,q=D.alternate,Z=D.stateNode;if(D=D.tag,q!==null&&q===u)break;D!==5&&D!==26&&D!==27||Z===null||(q=Z,p?(Z=Fr(a,y),Z!=null&&E.unshift(Yc(a,Z,q))):p||(Z=Fr(a,y),Z!=null&&E.push(Yc(a,Z,q)))),a=a.return}E.length!==0&&r.push({event:s,listeners:E})}var r2=/\r\n?/g,i2=/\u0000|\uFFFD/g;function Rw(r){return(typeof r=="string"?r:""+r).replace(r2,`
`).replace(i2,"")}function Cw(r,s){return s=Rw(s),Rw(r)===s}function vt(r,s,a,u,p,y){switch(a){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Kn(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Kn(r,""+u);break;case"className":or(r,"class",u);break;case"tabIndex":or(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":or(r,a,u);break;case"style":dc(r,u,y);break;case"data":if(s!=="object"){or(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||a!=="href")){r.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(a);break}u=Da(""+u),r.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(a==="formAction"?(s!=="input"&&vt(r,s,"name",p.name,p,null),vt(r,s,"formEncType",p.formEncType,p,null),vt(r,s,"formMethod",p.formMethod,p,null),vt(r,s,"formTarget",p.formTarget,p,null)):(vt(r,s,"encType",p.encType,p,null),vt(r,s,"method",p.method,p,null),vt(r,s,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(a);break}u=Da(""+u),r.setAttribute(a,u);break;case"onClick":u!=null&&(r.onclick=Br);break;case"onScroll":u!=null&&Ye("scroll",r);break;case"onScrollEnd":u!=null&&Ye("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(a=u.__html,a!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=a}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}a=Da(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(a,""+u):r.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(a,""):r.removeAttribute(a);break;case"capture":case"download":u===!0?r.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(a,u):r.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(a,u):r.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(a):r.setAttribute(a,u);break;case"popover":Ye("beforetoggle",r),Ye("toggle",r),Ia(r,"popover",u);break;case"xlinkActuate":Xt(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Xt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Xt(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Xt(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Xt(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Xt(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Xt(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Xt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Xt(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ia(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=cf.get(a)||a,Ia(r,a,u))}}function dg(r,s,a,u,p,y){switch(a){case"style":dc(r,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(a=u.__html,a!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=a}}break;case"children":typeof u=="string"?Kn(r,u):(typeof u=="number"||typeof u=="bigint")&&Kn(r,""+u);break;case"onScroll":u!=null&&Ye("scroll",r);break;case"onScrollEnd":u!=null&&Ye("scrollend",r);break;case"onClick":u!=null&&(r.onclick=Br);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(p=a.endsWith("Capture"),s=a.slice(2,p?a.length-7:void 0),y=r[hn]||null,y=y!=null?y[a]:null,typeof y=="function"&&r.removeEventListener(s,y,p),typeof u=="function")){typeof y!="function"&&y!==null&&(a in r?r[a]=null:r.hasAttribute(a)&&r.removeAttribute(a)),r.addEventListener(s,u,p);break e}a in r?r[a]=u:u===!0?r.setAttribute(a,""):Ia(r,a,u)}}}function Tn(r,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",r),Ye("load",r);var u=!1,p=!1,y;for(y in a)if(a.hasOwnProperty(y)){var E=a[y];if(E!=null)switch(y){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:vt(r,s,y,E,a,null)}}p&&vt(r,s,"srcSet",a.srcSet,a,null),u&&vt(r,s,"src",a.src,a,null);return;case"input":Ye("invalid",r);var D=y=E=p=null,q=null,Z=null;for(u in a)if(a.hasOwnProperty(u)){var se=a[u];if(se!=null)switch(u){case"name":p=se;break;case"type":E=se;break;case"checked":q=se;break;case"defaultChecked":Z=se;break;case"value":y=se;break;case"defaultValue":D=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(i(137,s));break;default:vt(r,s,u,se,a,null)}}of(r,y,D,q,Z,E,p,!1);return;case"select":Ye("invalid",r),u=E=y=null;for(p in a)if(a.hasOwnProperty(p)&&(D=a[p],D!=null))switch(p){case"value":y=D;break;case"defaultValue":E=D;break;case"multiple":u=D;default:vt(r,s,p,D,a,null)}s=y,a=E,r.multiple=!!u,s!=null?ws(r,!!u,s,!1):a!=null&&ws(r,!!u,a,!0);return;case"textarea":Ye("invalid",r),y=p=u=null;for(E in a)if(a.hasOwnProperty(E)&&(D=a[E],D!=null))switch(E){case"value":u=D;break;case"defaultValue":p=D;break;case"children":y=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(i(91));break;default:vt(r,s,E,D,a,null)}Es(r,u,p,y);return;case"option":for(q in a)if(a.hasOwnProperty(q)&&(u=a[q],u!=null))switch(q){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:vt(r,s,q,u,a,null)}return;case"dialog":Ye("beforetoggle",r),Ye("toggle",r),Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":Ye("load",r);break;case"video":case"audio":for(u=0;u<Kc.length;u++)Ye(Kc[u],r);break;case"image":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"embed":case"source":case"link":Ye("error",r),Ye("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in a)if(a.hasOwnProperty(Z)&&(u=a[Z],u!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:vt(r,s,Z,u,a,null)}return;default:if(Ma(s)){for(se in a)a.hasOwnProperty(se)&&(u=a[se],u!==void 0&&dg(r,s,se,u,a,void 0));return}}for(D in a)a.hasOwnProperty(D)&&(u=a[D],u!=null&&vt(r,s,D,u,a,null))}function s2(r,s,a,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,E=null,D=null,q=null,Z=null,se=null;for(re in a){var ue=a[re];if(a.hasOwnProperty(re)&&ue!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":q=ue;default:u.hasOwnProperty(re)||vt(r,s,re,null,u,ue)}}for(var ee in u){var re=u[ee];if(ue=a[ee],u.hasOwnProperty(ee)&&(re!=null||ue!=null))switch(ee){case"type":y=re;break;case"name":p=re;break;case"checked":Z=re;break;case"defaultChecked":se=re;break;case"value":E=re;break;case"defaultValue":D=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,s));break;default:re!==ue&&vt(r,s,ee,re,u,ue)}}Na(r,E,D,q,Z,se,y,p);return;case"select":re=E=D=ee=null;for(y in a)if(q=a[y],a.hasOwnProperty(y)&&q!=null)switch(y){case"value":break;case"multiple":re=q;default:u.hasOwnProperty(y)||vt(r,s,y,null,u,q)}for(p in u)if(y=u[p],q=a[p],u.hasOwnProperty(p)&&(y!=null||q!=null))switch(p){case"value":ee=y;break;case"defaultValue":D=y;break;case"multiple":E=y;default:y!==q&&vt(r,s,p,y,u,q)}s=D,a=E,u=re,ee!=null?ws(r,!!a,ee,!1):!!u!=!!a&&(s!=null?ws(r,!!a,s,!0):ws(r,!!a,a?[]:"",!1));return;case"textarea":re=ee=null;for(D in a)if(p=a[D],a.hasOwnProperty(D)&&p!=null&&!u.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:vt(r,s,D,null,u,p)}for(E in u)if(p=u[E],y=a[E],u.hasOwnProperty(E)&&(p!=null||y!=null))switch(E){case"value":ee=p;break;case"defaultValue":re=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==y&&vt(r,s,E,p,u,y)}af(r,ee,re);return;case"option":for(var Te in a)if(ee=a[Te],a.hasOwnProperty(Te)&&ee!=null&&!u.hasOwnProperty(Te))switch(Te){case"selected":r.selected=!1;break;default:vt(r,s,Te,null,u,ee)}for(q in u)if(ee=u[q],re=a[q],u.hasOwnProperty(q)&&ee!==re&&(ee!=null||re!=null))switch(q){case"selected":r.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:vt(r,s,q,ee,u,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in a)ee=a[Pe],a.hasOwnProperty(Pe)&&ee!=null&&!u.hasOwnProperty(Pe)&&vt(r,s,Pe,null,u,ee);for(Z in u)if(ee=u[Z],re=a[Z],u.hasOwnProperty(Z)&&ee!==re&&(ee!=null||re!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,s));break;default:vt(r,s,Z,ee,u,re)}return;default:if(Ma(s)){for(var _t in a)ee=a[_t],a.hasOwnProperty(_t)&&ee!==void 0&&!u.hasOwnProperty(_t)&&dg(r,s,_t,void 0,u,ee);for(se in u)ee=u[se],re=a[se],!u.hasOwnProperty(se)||ee===re||ee===void 0&&re===void 0||dg(r,s,se,ee,u,re);return}}for(var Y in a)ee=a[Y],a.hasOwnProperty(Y)&&ee!=null&&!u.hasOwnProperty(Y)&&vt(r,s,Y,null,u,ee);for(ue in u)ee=u[ue],re=a[ue],!u.hasOwnProperty(ue)||ee===re||ee==null&&re==null||vt(r,s,ue,ee,u,re)}function Iw(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function o2(){if(typeof performance.getEntriesByType=="function"){for(var r=0,s=0,a=performance.getEntriesByType("resource"),u=0;u<a.length;u++){var p=a[u],y=p.transferSize,E=p.initiatorType,D=p.duration;if(y&&D&&Iw(E)){for(E=0,D=p.responseEnd,u+=1;u<a.length;u++){var q=a[u],Z=q.startTime;if(Z>D)break;var se=q.transferSize,ue=q.initiatorType;se&&Iw(ue)&&(q=q.responseEnd,E+=se*(q<D?1:(D-Z)/(q-Z)))}if(--u,s+=8*(y+E)/(p.duration/1e3),r++,10<r)break}}if(0<r)return s/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var mg=null,pg=null;function uh(r){return r.nodeType===9?r:r.ownerDocument}function Nw(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mw(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function gg(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var yg=null;function a2(){var r=window.event;return r&&r.type==="popstate"?r===yg?!1:(yg=r,!0):(yg=null,!1)}var Dw=typeof setTimeout=="function"?setTimeout:void 0,l2=typeof clearTimeout=="function"?clearTimeout:void 0,Ow=typeof Promise=="function"?Promise:void 0,c2=typeof queueMicrotask=="function"?queueMicrotask:typeof Ow<"u"?function(r){return Ow.resolve(null).then(r).catch(u2)}:Dw;function u2(r){setTimeout(function(){throw r})}function Gs(r){return r==="head"}function Pw(r,s){var a=s,u=0;do{var p=a.nextSibling;if(r.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"||a==="/&"){if(u===0){r.removeChild(p),hl(s);return}u--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")u++;else if(a==="html")Xc(r.ownerDocument.documentElement);else if(a==="head"){a=r.ownerDocument.head,Xc(a);for(var y=a.firstChild;y;){var E=y.nextSibling,D=y.nodeName;y[ai]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=E}}else a==="body"&&Xc(r.ownerDocument.body);a=p}while(a);hl(s)}function kw(r,s){var a=r;r=0;do{var u=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(r===0)break;r--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||r++;a=u}while(a)}function vg(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":vg(a),Ca(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}r.removeChild(a)}}function f2(r,s,a,u){for(;r.nodeType===1;){var p=a;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[ai])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==p.rel||r.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=Or(r.nextSibling),r===null)break}return null}function h2(r,s,a){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=Or(r.nextSibling),r===null))return null;return r}function Lw(r,s){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=Or(r.nextSibling),r===null))return null;return r}function _g(r){return r.data==="$?"||r.data==="$~"}function bg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function d2(r,s){var a=r.ownerDocument;if(r.data==="$~")r._reactRetry=s;else if(r.data!=="$?"||a.readyState!=="loading")s();else{var u=function(){s(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function Or(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return r}var wg=null;function Vw(r){r=r.nextSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"||a==="/&"){if(s===0)return Or(r.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}r=r.nextSibling}return null}function Uw(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return r;s--}else a!=="/$"&&a!=="/&"||s++}r=r.previousSibling}return null}function zw(r,s,a){switch(s=uh(a),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Xc(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Ca(r)}var Pr=new Map,jw=new Set;function fh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var is=J.d;J.d={f:m2,r:p2,D:g2,C:y2,L:v2,m:_2,X:w2,S:b2,M:E2};function m2(){var r=is.f(),s=nh();return r||s}function p2(r){var s=Sr(r);s!==null&&s.tag===5&&s.type==="form"?rb(s):is.r(r)}var cl=typeof document>"u"?null:document;function Bw(r,s,a){var u=cl;if(u&&typeof s=="string"&&s){var p=$n(s);p='link[rel="'+r+'"][href="'+p+'"]',typeof a=="string"&&(p+='[crossorigin="'+a+'"]'),jw.has(p)||(jw.add(p),r={rel:r,crossOrigin:a,href:s},u.querySelector(p)===null&&(s=u.createElement("link"),Tn(s,"link",r),Yt(s),u.head.appendChild(s)))}}function g2(r){is.D(r),Bw("dns-prefetch",r,null)}function y2(r,s){is.C(r,s),Bw("preconnect",r,s)}function v2(r,s,a){is.L(r,s,a);var u=cl;if(u&&r&&s){var p='link[rel="preload"][as="'+$n(s)+'"]';s==="image"&&a&&a.imageSrcSet?(p+='[imagesrcset="'+$n(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(p+='[imagesizes="'+$n(a.imageSizes)+'"]')):p+='[href="'+$n(r)+'"]';var y=p;switch(s){case"style":y=ul(r);break;case"script":y=fl(r)}Pr.has(y)||(r=g({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:r,as:s},a),Pr.set(y,r),u.querySelector(p)!==null||s==="style"&&u.querySelector(Qc(y))||s==="script"&&u.querySelector(Wc(y))||(s=u.createElement("link"),Tn(s,"link",r),Yt(s),u.head.appendChild(s)))}}function _2(r,s){is.m(r,s);var a=cl;if(a&&r){var u=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+$n(u)+'"][href="'+$n(r)+'"]',y=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=fl(r)}if(!Pr.has(y)&&(r=g({rel:"modulepreload",href:r},s),Pr.set(y,r),a.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Wc(y)))return}u=a.createElement("link"),Tn(u,"link",r),Yt(u),a.head.appendChild(u)}}}function b2(r,s,a){is.S(r,s,a);var u=cl;if(u&&r){var p=ci(u).hoistableStyles,y=ul(r);s=s||"default";var E=p.get(y);if(!E){var D={loading:0,preload:null};if(E=u.querySelector(Qc(y)))D.loading=5;else{r=g({rel:"stylesheet",href:r,"data-precedence":s},a),(a=Pr.get(y))&&Eg(r,a);var q=E=u.createElement("link");Yt(q),Tn(q,"link",r),q._p=new Promise(function(Z,se){q.onload=Z,q.onerror=se}),q.addEventListener("load",function(){D.loading|=1}),q.addEventListener("error",function(){D.loading|=2}),D.loading|=4,hh(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:D},p.set(y,E)}}}function w2(r,s){is.X(r,s);var a=cl;if(a&&r){var u=ci(a).hoistableScripts,p=fl(r),y=u.get(p);y||(y=a.querySelector(Wc(p)),y||(r=g({src:r,async:!0},s),(s=Pr.get(p))&&Sg(r,s),y=a.createElement("script"),Yt(y),Tn(y,"link",r),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function E2(r,s){is.M(r,s);var a=cl;if(a&&r){var u=ci(a).hoistableScripts,p=fl(r),y=u.get(p);y||(y=a.querySelector(Wc(p)),y||(r=g({src:r,async:!0,type:"module"},s),(s=Pr.get(p))&&Sg(r,s),y=a.createElement("script"),Yt(y),Tn(y,"link",r),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function Fw(r,s,a,u){var p=(p=_e.current)?fh(p):null;if(!p)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=ul(a.href),a=ci(p).hoistableStyles,u=a.get(s),u||(u={type:"style",instance:null,count:0,state:null},a.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){r=ul(a.href);var y=ci(p).hoistableStyles,E=y.get(r);if(E||(p=p.ownerDocument||p,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,E),(y=p.querySelector(Qc(r)))&&!y._p&&(E.instance=y,E.state.loading=5),Pr.has(r)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pr.set(r,a),y||S2(p,r,a,E.state))),s&&u===null)throw Error(i(528,""));return E}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=fl(a),a=ci(p).hoistableScripts,u=a.get(s),u||(u={type:"script",instance:null,count:0,state:null},a.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function ul(r){return'href="'+$n(r)+'"'}function Qc(r){return'link[rel="stylesheet"]['+r+"]"}function Hw(r){return g({},r,{"data-precedence":r.precedence,precedence:null})}function S2(r,s,a,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Tn(s,"link",a),Yt(s),r.head.appendChild(s))}function fl(r){return'[src="'+$n(r)+'"]'}function Wc(r){return"script[async]"+r}function qw(r,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+$n(a.href)+'"]');if(u)return s.instance=u,Yt(u),u;var p=g({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Yt(u),Tn(u,"style",p),hh(u,a.precedence,r),s.instance=u;case"stylesheet":p=ul(a.href);var y=r.querySelector(Qc(p));if(y)return s.state.loading|=4,s.instance=y,Yt(y),y;u=Hw(a),(p=Pr.get(p))&&Eg(u,p),y=(r.ownerDocument||r).createElement("link"),Yt(y);var E=y;return E._p=new Promise(function(D,q){E.onload=D,E.onerror=q}),Tn(y,"link",u),s.state.loading|=4,hh(y,a.precedence,r),s.instance=y;case"script":return y=fl(a.src),(p=r.querySelector(Wc(y)))?(s.instance=p,Yt(p),p):(u=a,(p=Pr.get(y))&&(u=g({},a),Sg(u,p)),r=r.ownerDocument||r,p=r.createElement("script"),Yt(p),Tn(p,"link",u),r.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,hh(u,a.precedence,r));return s.instance}function hh(r,s,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,y=p,E=0;E<u.length;E++){var D=u[E];if(D.dataset.precedence===s)y=D;else if(y!==p)break}y?y.parentNode.insertBefore(r,y.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(r,s.firstChild))}function Eg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Sg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var dh=null;function Gw(r,s,a){if(dh===null){var u=new Map,p=dh=new Map;p.set(a,u)}else p=dh,u=p.get(a),u||(u=new Map,p.set(a,u));if(u.has(r))return u;for(u.set(r,null),a=a.getElementsByTagName(r),p=0;p<a.length;p++){var y=a[p];if(!(y[ai]||y[Kt]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(s)||"";E=r+E;var D=u.get(E);D?D.push(y):u.set(E,[y])}}return u}function $w(r,s,a){r=r.ownerDocument||r,r.head.insertBefore(a,s==="title"?r.querySelector("head > title"):null)}function T2(r,s,a){if(a===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Kw(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function A2(r,s,a,u){if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=ul(u.href),y=s.querySelector(Qc(p));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(r.count++,r=mh.bind(r),s.then(r,r)),a.state.loading|=4,a.instance=y,Yt(y);return}y=s.ownerDocument||s,u=Hw(u),(p=Pr.get(p))&&Eg(u,p),y=y.createElement("link"),Yt(y);var E=y;E._p=new Promise(function(D,q){E.onload=D,E.onerror=q}),Tn(y,"link",u),a.instance=y}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(r.count++,a=mh.bind(r),s.addEventListener("load",a),s.addEventListener("error",a))}}var Tg=0;function x2(r,s){return r.stylesheets&&r.count===0&&gh(r,r.stylesheets),0<r.count||0<r.imgCount?function(a){var u=setTimeout(function(){if(r.stylesheets&&gh(r,r.stylesheets),r.unsuspend){var y=r.unsuspend;r.unsuspend=null,y()}},6e4+s);0<r.imgBytes&&Tg===0&&(Tg=62500*o2());var p=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&gh(r,r.stylesheets),r.unsuspend)){var y=r.unsuspend;r.unsuspend=null,y()}},(r.imgBytes>Tg?50:800)+s);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function mh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gh(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var ph=null;function gh(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,ph=new Map,s.forEach(R2,r),ph=null,mh.call(r))}function R2(r,s){if(!(s.state.loading&4)){var a=ph.get(r);if(a)var u=a.get(null);else{a=new Map,ph.set(r,a);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var E=p[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),u=E)}u&&a.set(null,u)}p=s.instance,E=p.getAttribute("data-precedence"),y=a.get(E)||u,y===u&&a.set(null,p),a.set(E,p),this.count++,u=mh.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),y?y.parentNode.insertBefore(p,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),s.state.loading|=4}}var Zc={$$typeof:z,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function C2(r,s,a,u,p,y,E,D,q){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fn(0),this.hiddenUpdates=Fn(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function Yw(r,s,a,u,p,y,E,D,q,Z,se,ue){return r=new C2(r,s,a,E,q,Z,se,ue,D),s=1,y===!0&&(s|=24),y=lr(3,null,null,s),r.current=y,y.stateNode=r,s=rp(),s.refCount++,r.pooledCache=s,s.refCount++,y.memoizedState={element:u,isDehydrated:a,cache:s},ap(y),r}function Xw(r){return r?(r=Fa,r):Fa}function Qw(r,s,a,u,p,y){p=Xw(p),u.context===null?u.context=p:u.pendingContext=p,u=Ps(s),u.payload={element:a},y=y===void 0?null:y,y!==null&&(u.callback=y),a=ks(r,u,s),a!==null&&(Zn(a,r,s),Nc(a,r,s))}function Ww(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Ag(r,s){Ww(r,s),(r=r.alternate)&&Ww(r,s)}function Zw(r){if(r.tag===13||r.tag===31){var s=Vo(r,67108864);s!==null&&Zn(s,r,67108864),Ag(r,67108864)}}function Jw(r){if(r.tag===13||r.tag===31){var s=dr();s=si(s);var a=Vo(r,s);a!==null&&Zn(a,r,s),Ag(r,s)}}var yh=!0;function I2(r,s,a,u){var p=H.T;H.T=null;var y=J.p;try{J.p=2,xg(r,s,a,u)}finally{J.p=y,H.T=p}}function N2(r,s,a,u){var p=H.T;H.T=null;var y=J.p;try{J.p=8,xg(r,s,a,u)}finally{J.p=y,H.T=p}}function xg(r,s,a,u){if(yh){var p=Rg(u);if(p===null)hg(r,s,u,vh,a),tE(r,u);else if(D2(p,r,s,a,u))u.stopPropagation();else if(tE(r,u),s&4&&-1<M2.indexOf(r)){for(;p!==null;){var y=Sr(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=ir(y.pendingLanes);if(E!==0){var D=y;for(D.pendingLanes|=2,D.entangledLanes|=2;E;){var q=1<<31-Tt(E);D.entanglements[1]|=q,E&=~q}Ei(y),(at&6)===0&&(eh=qe()+500,$c(0))}}break;case 31:case 13:D=Vo(y,2),D!==null&&Zn(D,y,2),nh(),Ag(y,2)}if(y=Rg(u),y===null&&hg(r,s,u,vh,a),y===p)break;p=y}p!==null&&u.stopPropagation()}else hg(r,s,u,null,a)}}function Rg(r){return r=Tr(r),Cg(r)}var vh=null;function Cg(r){if(vh=null,r=li(r),r!==null){var s=l(r);if(s===null)r=null;else{var a=s.tag;if(a===13){if(r=c(s),r!==null)return r;r=null}else if(a===31){if(r=f(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return vh=r,null}function eE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bt()){case on:return 2;case rr:return 8;case In:case vr:return 32;case Nn:return 268435456;default:return 32}default:return 32}}var Ig=!1,$s=null,Ks=null,Ys=null,Jc=new Map,eu=new Map,Xs=[],M2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tE(r,s){switch(r){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":Jc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":eu.delete(s.pointerId)}}function tu(r,s,a,u,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:a,eventSystemFlags:u,nativeEvent:y,targetContainers:[p]},s!==null&&(s=Sr(s),s!==null&&Zw(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function D2(r,s,a,u,p){switch(s){case"focusin":return $s=tu($s,r,s,a,u,p),!0;case"dragenter":return Ks=tu(Ks,r,s,a,u,p),!0;case"mouseover":return Ys=tu(Ys,r,s,a,u,p),!0;case"pointerover":var y=p.pointerId;return Jc.set(y,tu(Jc.get(y)||null,r,s,a,u,p)),!0;case"gotpointercapture":return y=p.pointerId,eu.set(y,tu(eu.get(y)||null,r,s,a,u,p)),!0}return!1}function nE(r){var s=li(r.target);if(s!==null){var a=l(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){r.blockedOn=s,zr(r.priority,function(){Jw(a)});return}}else if(s===31){if(s=f(a),s!==null){r.blockedOn=s,zr(r.priority,function(){Jw(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function _h(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=Rg(r.nativeEvent);if(a===null){a=r.nativeEvent;var u=new a.constructor(a.type,a);mc=u,a.target.dispatchEvent(u),mc=null}else return s=Sr(a),s!==null&&Zw(s),r.blockedOn=a,!1;s.shift()}return!0}function rE(r,s,a){_h(r)&&a.delete(s)}function O2(){Ig=!1,$s!==null&&_h($s)&&($s=null),Ks!==null&&_h(Ks)&&(Ks=null),Ys!==null&&_h(Ys)&&(Ys=null),Jc.forEach(rE),eu.forEach(rE)}function bh(r,s){r.blockedOn===s&&(r.blockedOn=null,Ig||(Ig=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,O2)))}var wh=null;function iE(r){wh!==r&&(wh=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){wh===r&&(wh=null);for(var s=0;s<r.length;s+=3){var a=r[s],u=r[s+1],p=r[s+2];if(typeof u!="function"){if(Cg(u||a)===null)continue;break}var y=Sr(a);y!==null&&(r.splice(s,3),s-=3,Rp(y,{pending:!0,data:p,method:a.method,action:u},u,p))}}))}function hl(r){function s(q){return bh(q,r)}$s!==null&&bh($s,r),Ks!==null&&bh(Ks,r),Ys!==null&&bh(Ys,r),Jc.forEach(s),eu.forEach(s);for(var a=0;a<Xs.length;a++){var u=Xs[a];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Xs.length&&(a=Xs[0],a.blockedOn===null);)nE(a),a.blockedOn===null&&Xs.shift();if(a=(r.ownerDocument||r).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var p=a[u],y=a[u+1],E=p[hn]||null;if(typeof y=="function")E||iE(a);else if(E){var D=null;if(y&&y.hasAttribute("formAction")){if(p=y,E=y[hn]||null)D=E.formAction;else if(Cg(p)!==null)continue}else D=E.action;typeof D=="function"?a[u+1]=D:(a.splice(u,3),u-=3),iE(a)}}}function sE(){function r(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(E){return p=E})},focusReset:"manual",scroll:"manual"})}function s(){p!==null&&(p(),p=null),u||setTimeout(a,20)}function a(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){u=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),p!==null&&(p(),p=null)}}}function Ng(r){this._internalRoot=r}Eh.prototype.render=Ng.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,u=dr();Qw(a,u,r,s,null,null)},Eh.prototype.unmount=Ng.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Qw(r.current,2,null,r,null,null),nh(),s[oi]=null}};function Eh(r){this._internalRoot=r}Eh.prototype.unstable_scheduleHydration=function(r){if(r){var s=ic();r={blockedOn:null,target:r,priority:s};for(var a=0;a<Xs.length&&s!==0&&s<Xs[a].priority;a++);Xs.splice(a,0,r),a===0&&nE(r)}};var oE=e.version;if(oE!=="19.2.3")throw Error(i(527,oE,"19.2.3"));J.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=d(s),r=r!==null?v(r):null,r=r===null?null:r.stateNode,r};var P2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sh.isDisabled&&Sh.supportsFiber)try{Dn=Sh.inject(P2),jt=Sh}catch{}}return ou.createRoot=function(r,s){if(!o(r))throw Error(i(299));var a=!1,u="",p=db,y=mb,E=pb;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError)),s=Yw(r,1,!1,null,null,a,u,null,p,y,E,sE),r[oi]=s.current,fg(r),new Ng(s)},ou.hydrateRoot=function(r,s,a){if(!o(r))throw Error(i(299));var u=!1,p="",y=db,E=mb,D=pb,q=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(D=a.onRecoverableError),a.formState!==void 0&&(q=a.formState)),s=Yw(r,1,!0,s,a??null,u,p,q,y,E,D,sE),s.context=Xw(null),a=s.current,u=dr(),u=si(u),p=Ps(u),p.callback=null,ks(a,p,u),a=u,s.current.lanes=a,It(s,a),Ei(s),r[oi]=s.current,fg(r),new Eh(s)},ou.version="19.2.3",ou}var kE;function IM(){if(kE)return Kg.exports;kE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Kg.exports=CM(),Kg.exports}var NM=IM(),Qg={},au={},LE;function MM(){if(LE)return au;LE=1,Object.defineProperty(au,"__esModule",{value:!0}),au.makeNoise2D=void 0;var n=(3-Math.sqrt(3))/6,e=[[1,1],[-1,1],[1,-1],[-1,-1],[1,0],[-1,0],[1,0],[-1,0],[0,1],[0,-1],[0,1],[0,-1]];function t(i){i===void 0&&(i=Math.random);for(var o=new Uint8Array(256),l=0;l<256;l++)o[l]=l;for(var c,f,l=255;l>0;l--)c=Math.floor((l+1)*i()),f=o[l],o[l]=o[c],o[c]=f;for(var h=new Uint8Array(512),d=new Uint8Array(512),l=0;l<512;l++)h[l]=o[l&255],d[l]=h[l]%12;return function(v,g){var _=(v+g)*.5*(Math.sqrt(3)-1),w=Math.floor(v+_),T=Math.floor(g+_),R=(w+T)*n,C=w-R,k=T-R,U=v-C,z=g-k,B=U>z?1:0,$=U>z?0:1,F=U-B+n,x=z-$+n,A=U-1+2*n,M=z-1+2*n,P=w&255,O=T&255,j=e[d[P+h[O]]],L=e[d[P+B+h[O+$]]],he=e[d[P+1+h[O+1]]],pe=.5-U*U-z*z,H=pe<0?0:Math.pow(pe,4)*(j[0]*U+j[1]*z),J=.5-F*F-x*x,X=J<0?0:Math.pow(J,4)*(L[0]*F+L[1]*x),ge=.5-A*A-M*M,we=ge<0?0:Math.pow(ge,4)*(he[0]*A+he[1]*M);return 70.14805770653952*(H+X+we)}}return au.makeNoise2D=t,au}var lu={},VE;function DM(){if(VE)return lu;VE=1,Object.defineProperty(lu,"__esModule",{value:!0}),lu.makeNoise3D=void 0;var n=1/6,e=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,-1],[0,1,-1],[0,-1,-1]];function t(i){i===void 0&&(i=Math.random);for(var o=new Uint8Array(256),l=0;l<256;l++)o[l]=l;for(var c,f,l=255;l>0;l--)c=Math.floor((l+1)*i()),f=o[l],o[l]=o[c],o[c]=f;for(var h=new Uint8Array(512),d=new Uint8Array(512),l=0;l<512;l++)h[l]=o[l&255],d[l]=h[l]%12;return function(v,g,_){var w=(v+g+_)/3,T=Math.floor(v+w),R=Math.floor(g+w),C=Math.floor(_+w),k=(T+R+C)*n,U=T-k,z=R-k,B=C-k,$=v-U,F=g-z,x=_-B,A,M,P,O,j,L;$>=F?F>=x?(A=O=j=1,M=P=L=0):$>=x?(A=O=L=1,M=P=j=0):(P=O=L=1,A=M=j=0):F<x?(P=j=L=1,A=M=O=0):$<x?(M=j=L=1,A=P=O=0):(M=O=j=1,A=P=L=0);var he=$-A+n,pe=F-M+n,H=x-P+n,J=$-O+2*n,X=F-j+2*n,ge=x-L+2*n,we=$-1+3*n,G=F-1+3*n,ie=x-1+3*n,ne=T&255,oe=R&255,de=C&255,_e=e[d[ne+h[oe+h[de]]]],ae=e[d[ne+A+h[oe+M+h[de+P]]]],ye=e[d[ne+O+h[oe+j+h[de+L]]]],Ee=e[d[ne+1+h[oe+1+h[de+1]]]],Ie=.5-$*$-F*F-x*x,De=Ie<0?0:Math.pow(Ie,4)*(_e[0]*$+_e[1]*F+_e[2]*x),Re=.5-he*he-pe*pe-H*H,lt=Re<0?0:Math.pow(Re,4)*(ae[0]*he+ae[1]*pe+ae[2]*H),tt=.5-J*J-X*X-ge*ge,Vt=tt<0?0:Math.pow(tt,4)*(ye[0]*J+ye[1]*X+ye[2]*ge),xt=.5-we*we-G*G-ie*ie,Rt=xt<0?0:Math.pow(xt,4)*(Ee[0]*we+Ee[1]*G+Ee[2]*ie);return 94.68493150681972*(De+lt+Vt+Rt)}}return lu.makeNoise3D=t,lu}var cu={},UE;function OM(){if(UE)return cu;UE=1,Object.defineProperty(cu,"__esModule",{value:!0}),cu.makeNoise4D=void 0;var n=(5-Math.sqrt(5))/20,e=[[0,1,1,1],[0,1,1,-1],[0,1,-1,1],[0,1,-1,-1],[0,-1,1,1],[0,-1,1,-1],[0,-1,-1,1],[0,-1,-1,-1],[1,0,1,1],[1,0,1,-1],[1,0,-1,1],[1,0,-1,-1],[-1,0,1,1],[-1,0,1,-1],[-1,0,-1,1],[-1,0,-1,-1],[1,1,0,1],[1,1,0,-1],[1,-1,0,1],[1,-1,0,-1],[-1,1,0,1],[-1,1,0,-1],[-1,-1,0,1],[-1,-1,0,-1],[1,1,1,0],[1,1,-1,0],[1,-1,1,0],[1,-1,-1,0],[-1,1,1,0],[-1,1,-1,0],[-1,-1,1,0],[-1,-1,-1,0]];function t(i){i===void 0&&(i=Math.random);for(var o=new Uint8Array(256),l=0;l<256;l++)o[l]=l;for(var c,f,l=255;l>0;l--)c=Math.floor((l+1)*i()),f=o[l],o[l]=o[c],o[c]=f;for(var h=new Uint8Array(512),d=new Uint8Array(512),l=0;l<512;l++)h[l]=o[l&255],d[l]=h[l]%12;return function(v,g,_,w){var T=(v+g+_+w)*(Math.sqrt(5)-1)/4,R=Math.floor(v+T),C=Math.floor(g+T),k=Math.floor(_+T),U=Math.floor(w+T),z=(R+C+k+U)*n,B=R-z,$=C-z,F=k-z,x=U-z,A=v-B,M=g-$,P=_-F,O=w-x,j=0,L=0,he=0,pe=0;A>M?j++:L++,A>P?j++:he++,A>O?j++:pe++,M>P?L++:he++,M>O?L++:pe++,P>O?he++:pe++;var H=j>=3?1:0,J=L>=3?1:0,X=he>=3?1:0,ge=pe>=3?1:0,we=j>=2?1:0,G=L>=2?1:0,ie=he>=2?1:0,ne=pe>=2?1:0,oe=j>=1?1:0,de=L>=1?1:0,_e=he>=1?1:0,ae=pe>=1?1:0,ye=A-H+n,Ee=M-J+n,Ie=P-X+n,De=O-ge+n,Re=A-we+2*n,lt=M-G+2*n,tt=P-ie+2*n,Vt=O-ne+2*n,xt=A-oe+3*n,Rt=M-de+3*n,Cn=P-_e+3*n,Ue=O-ae+3*n,ct=A-1+4*n,gn=M-1+4*n,Dt=P-1+4*n,ze=O-1+4*n,qe=R&255,bt=C&255,on=k&255,rr=U&255,In=e[h[qe+h[bt+h[on+h[rr]]]]%32],vr=e[h[qe+H+h[bt+J+h[on+X+h[rr+ge]]]]%32],Nn=e[h[qe+we+h[bt+G+h[on+ie+h[rr+ne]]]]%32],_r=e[h[qe+oe+h[bt+de+h[on+_e+h[rr+ae]]]]%32],Mn=e[h[qe+1+h[bt+1+h[on+1+h[rr+1]]]]%32],Dn=.5-A*A-M*M-P*P-O*O,jt=Dn<0?0:Math.pow(Dn,4)*(In[0]*A+In[1]*M+In[2]*P+In[3]*O),un=.5-ye*ye-Ee*Ee-Ie*Ie-De*De,Tt=un<0?0:Math.pow(un,4)*(vr[0]*ye+vr[1]*Ee+vr[2]*Ie+vr[3]*De),ji=.5-Re*Re-lt*lt-tt*tt-Vt*Vt,br=ji<0?0:Math.pow(ji,4)*(Nn[0]*Re+Nn[1]*lt+Nn[2]*tt+Nn[3]*Vt),On=.5-xt*xt-Rt*Rt-Cn*Cn-Ue*Ue,Gn=On<0?0:Math.pow(On,4)*(_r[0]*xt+_r[1]*Rt+_r[2]*Cn+_r[3]*Ue),wr=.5-ct*ct-gn*gn-Dt*Dt-ze*ze,Ct=wr<0?0:Math.pow(wr,4)*(Mn[0]*ct+Mn[1]*gn+Mn[2]*Dt+Mn[3]*ze);return 72.37855765153665*(jt+Tt+br+Gn+Ct)}}return cu.makeNoise4D=t,cu}var zE;function PM(){return zE||(zE=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.makeNoise4D=n.makeNoise3D=n.makeNoise2D=void 0;var e=MM();Object.defineProperty(n,"makeNoise2D",{enumerable:!0,get:function(){return e.makeNoise2D}});var t=DM();Object.defineProperty(n,"makeNoise3D",{enumerable:!0,get:function(){return t.makeNoise3D}});var i=OM();Object.defineProperty(n,"makeNoise4D",{enumerable:!0,get:function(){return i.makeNoise4D}})})(Qg)),Qg}var kM=PM();const MT=I.createContext(void 0),Tv=()=>{const n=I.use(MT);if(!n)throw new Error("useSettings must be used within a SettingsProvider");return n},Ih={},Sl={loadImages(n){for(const e in Ih)delete Ih[e];for(const[e,t]of Object.entries(n)){const i=new Image;i.src=t,Ih[e]=i}},get(n){return Ih[n]??null}};function LM(){const{settings:n}=Tv(),e=I.useRef(null),t=I.useRef(kM.makeNoise2D(()=>Math.random())),i=64;return I.useEffect(()=>{const o=e.current;if(!o)return;const l=o.getContext("2d");if(!l)return;const c=()=>{o.width=window.innerWidth,o.height=window.innerHeight};window.addEventListener("resize",c),c();let f;const h=()=>{l.resetTransform(),l.fillStyle="#4AC0FD",l.fillRect(0,0,o.width,o.height);const d=performance.now()/1e3;if(n.classicBackground){const v=Math.floor(d*i)%i,g=Math.floor(d*i)%i,_=Math.ceil(o.width/i)+2,w=Math.ceil(o.height/i)+2;for(let T=0;T<_;T++)for(let R=0;R<w;R++)l.fillStyle=(T+R)%2===0?"#AAD650":"#A2D048",l.fillRect(T*i-v,R*i-g,i,i)}else{l.scale(i,i),l.translate(-d,0);for(let v=Math.floor(d);v<d+Math.ceil(o.width/i);v++){const _=(t.current(v/15,0)*.5+.5)*5;for(let w=1;w<=_+1;w++)l.fillStyle=(v+w)%2===0?"#AAD650":"#A2D048",l.fillRect(v,o.height/i-w,1.01,1);if(t.current(v,v*3.32)<-.6){const w=Sl.get("flag_floor");if(w){const T=o.height/i-Math.floor(_)-2;l.drawImage(w,v,T,1,1)}}}}f=requestAnimationFrame(h)};return h(),()=>{window.removeEventListener("resize",c),cancelAnimationFrame(f)}},[n.classicBackground]),N.jsx("canvas",{ref:e,className:"absolute inset-0 -z-10"})}/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UM=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),jE=n=>{const e=UM(n);return e.charAt(0).toUpperCase()+e.slice(1)},DT=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),zM=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=I.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:c,...f},h)=>I.createElement("svg",{ref:h,...jM,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:DT("lucide",o),...!l&&!zM(f)&&{"aria-hidden":"true"},...f},[...c.map(([d,v])=>I.createElement(d,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=(n,e)=>{const t=I.forwardRef(({className:i,...o},l)=>I.createElement(BM,{ref:l,iconNode:e,className:DT(`lucide-${VM(jE(n))}`,`lucide-${n}`,i),...o}));return t.displayName=jE(n),t};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],OT=Bn("check",FM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],PT=Bn("chevron-down",HM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],GM=Bn("chevron-up",qM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],KM=Bn("circle-check",$M);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],XM=Bn("copy",YM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],WM=Bn("house",QM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],JM=Bn("info",ZM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],tD=Bn("loader-circle",eD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],rD=Bn("log-in",nD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],sD=Bn("log-out",iD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M2.586 16.726A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2h6.624a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586z",key:"2d38gg"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],aD=Bn("octagon-x",oD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],cD=Bn("save",lD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],fD=Bn("triangle-alert",uD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],dD=Bn("x",hD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],pD=Bn("zoom-in",mD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],yD=Bn("zoom-out",gD);var vD=(n,e,t,i,o,l,c,f)=>{let h=document.documentElement,d=["light","dark"];function v(w){(Array.isArray(n)?n:[n]).forEach(T=>{let R=T==="class",C=R&&l?o.map(k=>l[k]||k):o;R?(h.classList.remove(...C),h.classList.add(l&&l[w]?l[w]:w)):h.setAttribute(T,w)}),g(w)}function g(w){f&&d.includes(w)&&(h.style.colorScheme=w)}function _(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(i)v(i);else try{let w=localStorage.getItem(e)||t,T=c&&w==="system"?_():w;v(T)}catch{}},_D=I.createContext(void 0),bD={setTheme:n=>{},themes:[]},wD=()=>{var n;return(n=I.useContext(_D))!=null?n:bD};I.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:i,enableColorScheme:o,defaultTheme:l,value:c,themes:f,nonce:h,scriptProps:d})=>{let v=JSON.stringify([t,e,l,n,f,c,i,o]).slice(1,-1);return I.createElement("script",{...d,suppressHydrationWarning:!0,nonce:typeof window>"u"?h:"",dangerouslySetInnerHTML:{__html:`(${vD.toString()})(${v})`}})});function ED(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}const SD=n=>{switch(n){case"success":return xD;case"info":return CD;case"warning":return RD;case"error":return ID;default:return null}},TD=Array(12).fill(0),AD=({visible:n,className:e})=>me.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},me.createElement("div",{className:"sonner-spinner"},TD.map((t,i)=>me.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),xD=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),RD=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),CD=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ID=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),ND=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},me.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),me.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),MD=()=>{const[n,e]=me.useState(document.hidden);return me.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n};let Ry=1;class DD{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:i,...o}=e,l=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Ry++,c=this.toasts.find(h=>h.id===l),f=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),c?this.toasts=this.toasts.map(h=>h.id===l?(this.publish({...h,...e,id:l,title:i}),{...h,...e,id:l,dismissible:f,title:i}):h):this.addToast({title:i,...o,dismissible:f,id:l}),l},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(i=>i({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let i;t.loading!==void 0&&(i=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const o=Promise.resolve(e instanceof Function?e():e);let l=i!==void 0,c;const f=o.then(async d=>{if(c=["resolve",d],me.isValidElement(d))l=!1,this.create({id:i,type:"default",message:d});else if(PD(d)&&!d.ok){l=!1;const g=typeof t.error=="function"?await t.error(`HTTP error! status: ${d.status}`):t.error,_=typeof t.description=="function"?await t.description(`HTTP error! status: ${d.status}`):t.description,T=typeof g=="object"&&!me.isValidElement(g)?g:{message:g};this.create({id:i,type:"error",description:_,...T})}else if(d instanceof Error){l=!1;const g=typeof t.error=="function"?await t.error(d):t.error,_=typeof t.description=="function"?await t.description(d):t.description,T=typeof g=="object"&&!me.isValidElement(g)?g:{message:g};this.create({id:i,type:"error",description:_,...T})}else if(t.success!==void 0){l=!1;const g=typeof t.success=="function"?await t.success(d):t.success,_=typeof t.description=="function"?await t.description(d):t.description,T=typeof g=="object"&&!me.isValidElement(g)?g:{message:g};this.create({id:i,type:"success",description:_,...T})}}).catch(async d=>{if(c=["reject",d],t.error!==void 0){l=!1;const v=typeof t.error=="function"?await t.error(d):t.error,g=typeof t.description=="function"?await t.description(d):t.description,w=typeof v=="object"&&!me.isValidElement(v)?v:{message:v};this.create({id:i,type:"error",description:g,...w})}}).finally(()=>{l&&(this.dismiss(i),i=void 0),t.finally==null||t.finally.call(t)}),h=()=>new Promise((d,v)=>f.then(()=>c[0]==="reject"?v(c[1]):d(c[1])).catch(v));return typeof i!="string"&&typeof i!="number"?{unwrap:h}:Object.assign(i,{unwrap:h})},this.custom=(e,t)=>{const i=(t==null?void 0:t.id)||Ry++;return this.create({jsx:e(i),id:i,...t}),i},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Jn=new DD,OD=(n,e)=>{const t=(e==null?void 0:e.id)||Ry++;return Jn.addToast({title:n,...e,id:t}),t},PD=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",kD=OD,LD=()=>Jn.toasts,VD=()=>Jn.getActiveToasts(),as=Object.assign(kD,{success:Jn.success,info:Jn.info,warning:Jn.warning,error:Jn.error,custom:Jn.custom,message:Jn.message,promise:Jn.promise,dismiss:Jn.dismiss,loading:Jn.loading},{getHistory:LD,getToasts:VD});ED("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Nh(n){return n.label!==void 0}const UD=3,zD="24px",jD="16px",BE=4e3,BD=356,FD=14,HD=45,qD=200;function Si(...n){return n.filter(Boolean).join(" ")}function GD(n){const[e,t]=n.split("-"),i=[];return e&&i.push(e),t&&i.push(t),i}const $D=n=>{var e,t,i,o,l,c,f,h,d;const{invert:v,toast:g,unstyled:_,interacting:w,setHeights:T,visibleToasts:R,heights:C,index:k,toasts:U,expanded:z,removeToast:B,defaultRichColors:$,closeButton:F,style:x,cancelButtonStyle:A,actionButtonStyle:M,className:P="",descriptionClassName:O="",duration:j,position:L,gap:he,expandByDefault:pe,classNames:H,icons:J,closeButtonAriaLabel:X="Close toast"}=n,[ge,we]=me.useState(null),[G,ie]=me.useState(null),[ne,oe]=me.useState(!1),[de,_e]=me.useState(!1),[ae,ye]=me.useState(!1),[Ee,Ie]=me.useState(!1),[De,Re]=me.useState(!1),[lt,tt]=me.useState(0),[Vt,xt]=me.useState(0),Rt=me.useRef(g.duration||j||BE),Cn=me.useRef(null),Ue=me.useRef(null),ct=k===0,gn=k+1<=R,Dt=g.type,ze=g.dismissible!==!1,qe=g.className||"",bt=g.descriptionClassName||"",on=me.useMemo(()=>C.findIndex(Oe=>Oe.toastId===g.id)||0,[C,g.id]),rr=me.useMemo(()=>{var Oe;return(Oe=g.closeButton)!=null?Oe:F},[g.closeButton,F]),In=me.useMemo(()=>g.duration||j||BE,[g.duration,j]),vr=me.useRef(0),Nn=me.useRef(0),_r=me.useRef(0),Mn=me.useRef(null),[Dn,jt]=L.split("-"),un=me.useMemo(()=>C.reduce((Oe,ut,$t)=>$t>=on?Oe:Oe+ut.height,0),[C,on]),Tt=MD(),ji=g.invert||v,br=Dt==="loading";Nn.current=me.useMemo(()=>on*he+un,[on,un]),me.useEffect(()=>{Rt.current=In},[In]),me.useEffect(()=>{oe(!0)},[]),me.useEffect(()=>{const Oe=Ue.current;if(Oe){const ut=Oe.getBoundingClientRect().height;return xt(ut),T($t=>[{toastId:g.id,height:ut,position:g.position},...$t]),()=>T($t=>$t.filter(fn=>fn.toastId!==g.id))}},[T,g.id]),me.useLayoutEffect(()=>{if(!ne)return;const Oe=Ue.current,ut=Oe.style.height;Oe.style.height="auto";const $t=Oe.getBoundingClientRect().height;Oe.style.height=ut,xt($t),T(fn=>fn.find(It=>It.toastId===g.id)?fn.map(It=>It.toastId===g.id?{...It,height:$t}:It):[{toastId:g.id,height:$t,position:g.position},...fn])},[ne,g.title,g.description,T,g.id,g.jsx,g.action,g.cancel]);const On=me.useCallback(()=>{_e(!0),tt(Nn.current),T(Oe=>Oe.filter(ut=>ut.toastId!==g.id)),setTimeout(()=>{B(g)},qD)},[g,B,T,Nn]);me.useEffect(()=>{if(g.promise&&Dt==="loading"||g.duration===1/0||g.type==="loading")return;let Oe;return z||w||Tt?(()=>{if(_r.current<vr.current){const fn=new Date().getTime()-vr.current;Rt.current=Rt.current-fn}_r.current=new Date().getTime()})():(()=>{Rt.current!==1/0&&(vr.current=new Date().getTime(),Oe=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),On()},Rt.current))})(),()=>clearTimeout(Oe)},[z,w,g,Dt,Tt,On]),me.useEffect(()=>{g.delete&&(On(),g.onDismiss==null||g.onDismiss.call(g,g))},[On,g.delete]);function Gn(){var Oe;if(J!=null&&J.loading){var ut;return me.createElement("div",{className:Si(H==null?void 0:H.loader,g==null||(ut=g.classNames)==null?void 0:ut.loader,"sonner-loader"),"data-visible":Dt==="loading"},J.loading)}return me.createElement(AD,{className:Si(H==null?void 0:H.loader,g==null||(Oe=g.classNames)==null?void 0:Oe.loader),visible:Dt==="loading"})}const wr=g.icon||(J==null?void 0:J[Dt])||SD(Dt);var Ct,ir;return me.createElement("li",{tabIndex:0,ref:Ue,className:Si(P,qe,H==null?void 0:H.toast,g==null||(e=g.classNames)==null?void 0:e.toast,H==null?void 0:H.default,H==null?void 0:H[Dt],g==null||(t=g.classNames)==null?void 0:t[Dt]),"data-sonner-toast":"","data-rich-colors":(Ct=g.richColors)!=null?Ct:$,"data-styled":!(g.jsx||g.unstyled||_),"data-mounted":ne,"data-promise":!!g.promise,"data-swiped":De,"data-removed":de,"data-visible":gn,"data-y-position":Dn,"data-x-position":jt,"data-index":k,"data-front":ct,"data-swiping":ae,"data-dismissible":ze,"data-type":Dt,"data-invert":ji,"data-swipe-out":Ee,"data-swipe-direction":G,"data-expanded":!!(z||pe&&ne),"data-testid":g.testId,style:{"--index":k,"--toasts-before":k,"--z-index":U.length-k,"--offset":`${de?lt:Nn.current}px`,"--initial-height":pe?"auto":`${Vt}px`,...x,...g.style},onDragEnd:()=>{ye(!1),we(null),Mn.current=null},onPointerDown:Oe=>{Oe.button!==2&&(br||!ze||(Cn.current=new Date,tt(Nn.current),Oe.target.setPointerCapture(Oe.pointerId),Oe.target.tagName!=="BUTTON"&&(ye(!0),Mn.current={x:Oe.clientX,y:Oe.clientY})))},onPointerUp:()=>{var Oe,ut,$t;if(Ee||!ze)return;Mn.current=null;const fn=Number(((Oe=Ue.current)==null?void 0:Oe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Fn=Number(((ut=Ue.current)==null?void 0:ut.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),It=new Date().getTime()-(($t=Cn.current)==null?void 0:$t.getTime()),Pn=ge==="x"?fn:Fn,Er=Math.abs(Pn)/It;if(Math.abs(Pn)>=HD||Er>.11){tt(Nn.current),g.onDismiss==null||g.onDismiss.call(g,g),ie(ge==="x"?fn>0?"right":"left":Fn>0?"down":"up"),On(),Ie(!0);return}else{var yn,vn;(yn=Ue.current)==null||yn.style.setProperty("--swipe-amount-x","0px"),(vn=Ue.current)==null||vn.style.setProperty("--swipe-amount-y","0px")}Re(!1),ye(!1),we(null)},onPointerMove:Oe=>{var ut,$t,fn;if(!Mn.current||!ze||((ut=window.getSelection())==null?void 0:ut.toString().length)>0)return;const It=Oe.clientY-Mn.current.y,Pn=Oe.clientX-Mn.current.x;var Er;const yn=(Er=n.swipeDirections)!=null?Er:GD(L);!ge&&(Math.abs(Pn)>1||Math.abs(It)>1)&&we(Math.abs(Pn)>Math.abs(It)?"x":"y");let vn={x:0,y:0};const si=_n=>1/(1.5+Math.abs(_n)/20);if(ge==="y"){if(yn.includes("top")||yn.includes("bottom"))if(yn.includes("top")&&It<0||yn.includes("bottom")&&It>0)vn.y=It;else{const _n=It*si(It);vn.y=Math.abs(_n)<Math.abs(It)?_n:It}}else if(ge==="x"&&(yn.includes("left")||yn.includes("right")))if(yn.includes("left")&&Pn<0||yn.includes("right")&&Pn>0)vn.x=Pn;else{const _n=Pn*si(Pn);vn.x=Math.abs(_n)<Math.abs(Pn)?_n:Pn}(Math.abs(vn.x)>0||Math.abs(vn.y)>0)&&Re(!0),($t=Ue.current)==null||$t.style.setProperty("--swipe-amount-x",`${vn.x}px`),(fn=Ue.current)==null||fn.style.setProperty("--swipe-amount-y",`${vn.y}px`)}},rr&&!g.jsx&&Dt!=="loading"?me.createElement("button",{"aria-label":X,"data-disabled":br,"data-close-button":!0,onClick:br||!ze?()=>{}:()=>{On(),g.onDismiss==null||g.onDismiss.call(g,g)},className:Si(H==null?void 0:H.closeButton,g==null||(i=g.classNames)==null?void 0:i.closeButton)},(ir=J==null?void 0:J.close)!=null?ir:ND):null,(Dt||g.icon||g.promise)&&g.icon!==null&&((J==null?void 0:J[Dt])!==null||g.icon)?me.createElement("div",{"data-icon":"",className:Si(H==null?void 0:H.icon,g==null||(o=g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Gn():null,g.type!=="loading"?wr:null):null,me.createElement("div",{"data-content":"",className:Si(H==null?void 0:H.content,g==null||(l=g.classNames)==null?void 0:l.content)},me.createElement("div",{"data-title":"",className:Si(H==null?void 0:H.title,g==null||(c=g.classNames)==null?void 0:c.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?me.createElement("div",{"data-description":"",className:Si(O,bt,H==null?void 0:H.description,g==null||(f=g.classNames)==null?void 0:f.description)},typeof g.description=="function"?g.description():g.description):null),me.isValidElement(g.cancel)?g.cancel:g.cancel&&Nh(g.cancel)?me.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||A,onClick:Oe=>{Nh(g.cancel)&&ze&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,Oe),On())},className:Si(H==null?void 0:H.cancelButton,g==null||(h=g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,me.isValidElement(g.action)?g.action:g.action&&Nh(g.action)?me.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||M,onClick:Oe=>{Nh(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,Oe),!Oe.defaultPrevented&&On())},className:Si(H==null?void 0:H.actionButton,g==null||(d=g.classNames)==null?void 0:d.actionButton)},g.action.label):null)};function FE(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function KD(n,e){const t={};return[n,e].forEach((i,o)=>{const l=o===1,c=l?"--mobile-offset":"--offset",f=l?jD:zD;function h(d){["top","right","bottom","left"].forEach(v=>{t[`${c}-${v}`]=typeof d=="number"?`${d}px`:d})}typeof i=="number"||typeof i=="string"?h(i):typeof i=="object"?["top","right","bottom","left"].forEach(d=>{i[d]===void 0?t[`${c}-${d}`]=f:t[`${c}-${d}`]=typeof i[d]=="number"?`${i[d]}px`:i[d]}):h(f)}),t}const YD=me.forwardRef(function(e,t){const{id:i,invert:o,position:l="bottom-right",hotkey:c=["altKey","KeyT"],expand:f,closeButton:h,className:d,offset:v,mobileOffset:g,theme:_="light",richColors:w,duration:T,style:R,visibleToasts:C=UD,toastOptions:k,dir:U=FE(),gap:z=FD,icons:B,containerAriaLabel:$="Notifications"}=e,[F,x]=me.useState([]),A=me.useMemo(()=>i?F.filter(ne=>ne.toasterId===i):F.filter(ne=>!ne.toasterId),[F,i]),M=me.useMemo(()=>Array.from(new Set([l].concat(A.filter(ne=>ne.position).map(ne=>ne.position)))),[A,l]),[P,O]=me.useState([]),[j,L]=me.useState(!1),[he,pe]=me.useState(!1),[H,J]=me.useState(_!=="system"?_:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),X=me.useRef(null),ge=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),we=me.useRef(null),G=me.useRef(!1),ie=me.useCallback(ne=>{x(oe=>{var de;return(de=oe.find(_e=>_e.id===ne.id))!=null&&de.delete||Jn.dismiss(ne.id),oe.filter(({id:_e})=>_e!==ne.id)})},[]);return me.useEffect(()=>Jn.subscribe(ne=>{if(ne.dismiss){requestAnimationFrame(()=>{x(oe=>oe.map(de=>de.id===ne.id?{...de,delete:!0}:de))});return}setTimeout(()=>{RT.flushSync(()=>{x(oe=>{const de=oe.findIndex(_e=>_e.id===ne.id);return de!==-1?[...oe.slice(0,de),{...oe[de],...ne},...oe.slice(de+1)]:[ne,...oe]})})})}),[F]),me.useEffect(()=>{if(_!=="system"){J(_);return}if(_==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window>"u")return;const ne=window.matchMedia("(prefers-color-scheme: dark)");try{ne.addEventListener("change",({matches:oe})=>{J(oe?"dark":"light")})}catch{ne.addListener(({matches:de})=>{try{J(de?"dark":"light")}catch(_e){console.error(_e)}})}},[_]),me.useEffect(()=>{F.length<=1&&L(!1)},[F]),me.useEffect(()=>{const ne=oe=>{var de;if(c.every(ye=>oe[ye]||oe.code===ye)){var ae;L(!0),(ae=X.current)==null||ae.focus()}oe.code==="Escape"&&(document.activeElement===X.current||(de=X.current)!=null&&de.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",ne),()=>document.removeEventListener("keydown",ne)},[c]),me.useEffect(()=>{if(X.current)return()=>{we.current&&(we.current.focus({preventScroll:!0}),we.current=null,G.current=!1)}},[X.current]),me.createElement("section",{ref:t,"aria-label":`${$} ${ge}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},M.map((ne,oe)=>{var de;const[_e,ae]=ne.split("-");return A.length?me.createElement("ol",{key:ne,dir:U==="auto"?FE():U,tabIndex:-1,ref:X,className:d,"data-sonner-toaster":!0,"data-sonner-theme":H,"data-y-position":_e,"data-x-position":ae,style:{"--front-toast-height":`${((de=P[0])==null?void 0:de.height)||0}px`,"--width":`${BD}px`,"--gap":`${z}px`,...R,...KD(v,g)},onBlur:ye=>{G.current&&!ye.currentTarget.contains(ye.relatedTarget)&&(G.current=!1,we.current&&(we.current.focus({preventScroll:!0}),we.current=null))},onFocus:ye=>{ye.target instanceof HTMLElement&&ye.target.dataset.dismissible==="false"||G.current||(G.current=!0,we.current=ye.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{he||L(!1)},onDragEnd:()=>L(!1),onPointerDown:ye=>{ye.target instanceof HTMLElement&&ye.target.dataset.dismissible==="false"||pe(!0)},onPointerUp:()=>pe(!1)},A.filter(ye=>!ye.position&&oe===0||ye.position===ne).map((ye,Ee)=>{var Ie,De;return me.createElement($D,{key:ye.id,icons:B,index:Ee,toast:ye,defaultRichColors:w,duration:(Ie=k==null?void 0:k.duration)!=null?Ie:T,className:k==null?void 0:k.className,descriptionClassName:k==null?void 0:k.descriptionClassName,invert:o,visibleToasts:C,closeButton:(De=k==null?void 0:k.closeButton)!=null?De:h,interacting:he,position:ne,style:k==null?void 0:k.style,unstyled:k==null?void 0:k.unstyled,classNames:k==null?void 0:k.classNames,cancelButtonStyle:k==null?void 0:k.cancelButtonStyle,actionButtonStyle:k==null?void 0:k.actionButtonStyle,closeButtonAriaLabel:k==null?void 0:k.closeButtonAriaLabel,removeToast:ie,toasts:A.filter(Re=>Re.position==ye.position),heights:P.filter(Re=>Re.position==ye.position),setHeights:O,expandByDefault:f,gap:z,expanded:j,swipeDirections:e.swipeDirections})})):null}))}),XD=({...n})=>{const{theme:e="system"}=wD();return N.jsx(YD,{theme:e,className:"toaster group",icons:{success:N.jsx(KM,{className:"size-4"}),info:N.jsx(JM,{className:"size-4"}),warning:N.jsx(fD,{className:"size-4"}),error:N.jsx(aD,{className:"size-4"}),loading:N.jsx(tD,{className:"size-4 animate-spin"})},style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)","--border-radius":"var(--radius)"},...n})};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=()=>{};var HE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},WD=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],f=n[t++],h=((o&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},LT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,f=c?n[o+1]:0,h=o+2<n.length,d=h?n[o+2]:0,v=l>>2,g=(l&3)<<4|f>>4;let _=(f&15)<<2|d>>6,w=d&63;h||(w=64,c||(_=64)),i.push(t[v],t[g],t[_],t[w])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(kT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):WD(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const d=o<n.length?t[n.charAt(o)]:64;++o;const g=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||f==null||d==null||g==null)throw new ZD;const _=l<<2|f>>4;if(i.push(_),d!==64){const w=f<<4&240|d>>2;if(i.push(w),g!==64){const T=d<<6&192|g;i.push(T)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ZD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JD=function(n){const e=kT(n);return LT.encodeByteArray(e,!0)},Ad=function(n){return JD(n).replace(/\./g,"")},VT=function(n){try{return LT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=()=>eO().__FIREBASE_DEFAULTS__,nO=()=>{if(typeof process>"u"||typeof HE>"u")return;const n=HE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},rO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&VT(n[1]);return e&&JSON.parse(e)},om=()=>{try{return QD()||tO()||nO()||rO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},UT=n=>{var e,t;return(t=(e=om())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},iO=n=>{const e=UT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},zT=()=>{var n;return(n=om())==null?void 0:n.config},jT=n=>{var e;return(e=om())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function BT(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Ad(JSON.stringify(t)),Ad(JSON.stringify(c)),""].join(".")}const bu={};function aO(){const n={prod:[],emulator:[]};for(const e of Object.keys(bu))bu[e]?n.emulator.push(e):n.prod.push(e);return n}function lO(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let qE=!1;function FT(n,e){if(typeof window>"u"||typeof document>"u"||!ql(window.location.host)||bu[n]===e||bu[n]||qE)return;bu[n]=e;function t(_){return`__firebase__banner__${_}`}const i="__firebase__banner",l=aO().prod.length>0;function c(){const _=document.getElementById(i);_&&_.remove()}function f(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function h(_,w){_.setAttribute("width","24"),_.setAttribute("id",w),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function d(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{qE=!0,c()},_}function v(_,w){_.setAttribute("id",w),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function g(){const _=lO(i),w=t("text"),T=document.getElementById(w)||document.createElement("span"),R=t("learnmore"),C=document.getElementById(R)||document.createElement("a"),k=t("preprendIcon"),U=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const z=_.element;f(z),v(C,R);const B=d();h(U,k),z.append(U,T,C,B),document.body.appendChild(z)}l?(T.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zn())}function uO(){var e;const n=(e=om())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hO(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function dO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mO(){const n=zn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function pO(){return!uO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gO(){try{return typeof indexedDB=="object"}catch{return!1}}function yO(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)==null?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO="FirebaseError";class _s extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=vO,Object.setPrototypeOf(this,_s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bu.prototype.create)}}class Bu{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?_O(l,i):"Error",f=`${this.serviceName}: ${c} (${o}).`;return new _s(o,f,i)}}function _O(n,e){return n.replace(bO,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const bO=/\{\$([^}]+)}/g;function wO(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ha(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],c=e[o];if(GE(l)&&GE(c)){if(!ha(l,c))return!1}else if(l!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function GE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function EO(n,e){const t=new SO(n,e);return t.subscribe.bind(t)}class SO{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");TO(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Wg),o.error===void 0&&(o.error=Wg),o.complete===void 0&&(o.complete=Wg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TO(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Wg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(n){return n&&n._delegate?n._delegate:n}class da{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new sO;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RO(e))try{this.getOrInitializeService({instanceIdentifier:Wo})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=Wo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wo){return this.instances.has(e)}getOptions(e=Wo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(o)}return o}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:xO(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Wo){return this.component?this.component.multipleInstances?e:Wo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xO(n){return n===Wo?void 0:n}function RO(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new AO(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(We||(We={}));const IO={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},NO=We.INFO,MO={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},DO=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=MO[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Av{constructor(e){this.name=e,this._logLevel=NO,this._logHandler=DO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const OO=(n,e)=>e.some(t=>n instanceof t);let $E,KE;function PO(){return $E||($E=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kO(){return KE||(KE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const HT=new WeakMap,Cy=new WeakMap,qT=new WeakMap,Zg=new WeakMap,xv=new WeakMap;function LO(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(lo(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&HT.set(t,n)}).catch(()=>{}),xv.set(e,n),e}function VO(n){if(Cy.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Cy.set(n,e)}let Iy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Cy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||qT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return lo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function UO(n){Iy=n(Iy)}function zO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Jg(this),e,...t);return qT.set(i,e.sort?e.sort():[e]),lo(i)}:kO().includes(n)?function(...e){return n.apply(Jg(this),e),lo(HT.get(this))}:function(...e){return lo(n.apply(Jg(this),e))}}function jO(n){return typeof n=="function"?zO(n):(n instanceof IDBTransaction&&VO(n),OO(n,PO())?new Proxy(n,Iy):n)}function lo(n){if(n instanceof IDBRequest)return LO(n);if(Zg.has(n))return Zg.get(n);const e=jO(n);return e!==n&&(Zg.set(n,e),xv.set(e,n)),e}const Jg=n=>xv.get(n);function BO(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),f=lo(c);return i&&c.addEventListener("upgradeneeded",h=>{i(lo(c.result),h.oldVersion,h.newVersion,lo(c.transaction),h)}),t&&c.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),f.then(h=>{l&&h.addEventListener("close",()=>l()),o&&h.addEventListener("versionchange",d=>o(d.oldVersion,d.newVersion,d))}).catch(()=>{}),f}const FO=["get","getKey","getAll","getAllKeys","count"],HO=["put","add","delete","clear"],ey=new Map;function YE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ey.get(e))return ey.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=HO.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||FO.includes(t)))return;const l=async function(c,...f){const h=this.transaction(c,o?"readwrite":"readonly");let d=h.store;return i&&(d=d.index(f.shift())),(await Promise.all([d[t](...f),o&&h.done]))[0]};return ey.set(e,l),l}UO(n=>({...n,get:(e,t,i)=>YE(e,t)||n.get(e,t,i),has:(e,t)=>!!YE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(GO(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function GO(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ny="@firebase/app",XE="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new Av("@firebase/app"),$O="@firebase/app-compat",KO="@firebase/analytics-compat",YO="@firebase/analytics",XO="@firebase/app-check-compat",QO="@firebase/app-check",WO="@firebase/auth",ZO="@firebase/auth-compat",JO="@firebase/database",eP="@firebase/data-connect",tP="@firebase/database-compat",nP="@firebase/functions",rP="@firebase/functions-compat",iP="@firebase/installations",sP="@firebase/installations-compat",oP="@firebase/messaging",aP="@firebase/messaging-compat",lP="@firebase/performance",cP="@firebase/performance-compat",uP="@firebase/remote-config",fP="@firebase/remote-config-compat",hP="@firebase/storage",dP="@firebase/storage-compat",mP="@firebase/firestore",pP="@firebase/ai",gP="@firebase/firestore-compat",yP="firebase",vP="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My="[DEFAULT]",_P={[Ny]:"fire-core",[$O]:"fire-core-compat",[YO]:"fire-analytics",[KO]:"fire-analytics-compat",[QO]:"fire-app-check",[XO]:"fire-app-check-compat",[WO]:"fire-auth",[ZO]:"fire-auth-compat",[JO]:"fire-rtdb",[eP]:"fire-data-connect",[tP]:"fire-rtdb-compat",[nP]:"fire-fn",[rP]:"fire-fn-compat",[iP]:"fire-iid",[sP]:"fire-iid-compat",[oP]:"fire-fcm",[aP]:"fire-fcm-compat",[lP]:"fire-perf",[cP]:"fire-perf-compat",[uP]:"fire-rc",[fP]:"fire-rc-compat",[hP]:"fire-gcs",[dP]:"fire-gcs-compat",[mP]:"fire-fst",[gP]:"fire-fst-compat",[pP]:"fire-vertex","fire-js":"fire-js",[yP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd=new Map,bP=new Map,Dy=new Map;function QE(n,e){try{n.container.addComponent(e)}catch(t){ds.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Pl(n){const e=n.name;if(Dy.has(e))return ds.debug(`There were multiple attempts to register component ${e}.`),!1;Dy.set(e,n);for(const t of xd.values())QE(t,n);for(const t of bP.values())QE(t,n);return!0}function Rv(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Qr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},co=new Bu("app","Firebase",wP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw co.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl=vP;function GT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:My,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw co.create("bad-app-name",{appName:String(o)});if(t||(t=zT()),!t)throw co.create("no-options");const l=xd.get(o);if(l){if(ha(t,l.options)&&ha(i,l.config))return l;throw co.create("duplicate-app",{appName:o})}const c=new CO(o);for(const h of Dy.values())c.addComponent(h);const f=new EP(t,i,c);return xd.set(o,f),f}function $T(n=My){const e=xd.get(n);if(!e&&n===My&&zT())return GT();if(!e)throw co.create("no-app",{appName:n});return e}function uo(n,e,t){let i=_P[n]??n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ds.warn(c.join(" "));return}Pl(new da(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP="firebase-heartbeat-database",TP=1,Cu="firebase-heartbeat-store";let ty=null;function KT(){return ty||(ty=BO(SP,TP,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Cu)}catch(t){console.warn(t)}}}}).catch(n=>{throw co.create("idb-open",{originalErrorMessage:n.message})})),ty}async function AP(n){try{const t=(await KT()).transaction(Cu),i=await t.objectStore(Cu).get(YT(n));return await t.done,i}catch(e){if(e instanceof _s)ds.warn(e.message);else{const t=co.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ds.warn(t.message)}}}async function WE(n,e){try{const i=(await KT()).transaction(Cu,"readwrite");await i.objectStore(Cu).put(e,YT(n)),await i.done}catch(t){if(t instanceof _s)ds.warn(t.message);else{const i=co.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ds.warn(i.message)}}}function YT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP=1024,RP=30;class CP{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new NP(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=ZE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>RP){const c=MP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ds.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ZE(),{heartbeatsToSend:i,unsentEntries:o}=IP(this._heartbeatsCache.heartbeats),l=Ad(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ds.warn(t),""}}}function ZE(){return new Date().toISOString().substring(0,10)}function IP(n,e=xP){const t=[];let i=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),JE(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),JE(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class NP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gO()?yO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await AP(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return WE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return WE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function JE(n){return Ad(JSON.stringify({version:2,heartbeats:n})).length}function MP(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(n){Pl(new da("platform-logger",e=>new qO(e),"PRIVATE")),Pl(new da("heartbeat",e=>new CP(e),"PRIVATE")),uo(Ny,XE,n),uo(Ny,XE,"esm2020"),uo("fire-js","")}DP("");function XT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OP=XT,QT=new Bu("auth","Firebase",XT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd=new Av("@firebase/auth");function PP(n,...e){Rd.logLevel<=We.WARN&&Rd.warn(`Auth (${Gl}): ${n}`,...e)}function Qh(n,...e){Rd.logLevel<=We.ERROR&&Rd.error(`Auth (${Gl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(n,...e){throw Iv(n,...e)}function ei(n,...e){return Iv(n,...e)}function Cv(n,e,t){const i={...OP(),[e]:t};return new Bu("auth","Firebase",i).create(e,{appName:n.name})}function aa(n){return Cv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kP(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&ki(n,"argument-error"),Cv(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Iv(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return QT.create(n,...e)}function Le(n,e,...t){if(!n)throw Iv(e,...t)}function ls(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Qh(e),new Error(e)}function ms(n,e){n||ls(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function LP(){return eS()==="http:"||eS()==="https:"}function eS(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LP()||hO()||"connection"in navigator)?navigator.onLine:!0}function UP(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,t){this.shortDelay=e,this.longDelay=t,ms(t>e,"Short delay should be less than long delay!"),this.isMobile=cO()||dO()}get(){return VP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(n,e){ms(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],BP=new Hu(3e4,6e4);function Mv(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function $l(n,e,t,i,o={}){return ZT(n,o,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const f=Fu({key:n.config.apiKey,...c}).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const d={method:e,headers:h,...l};return fO()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&ql(n.emulatorConfig.host)&&(d.credentials="include"),WT.fetch()(await JT(n,n.config.apiHost,t,f),d)})}async function ZT(n,e,t){n._canInitEmulator=!1;const i={...zP,...e};try{const o=new HP(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Mh(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[h,d]=f.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mh(n,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw Mh(n,"email-already-in-use",c);if(h==="USER_DISABLED")throw Mh(n,"user-disabled",c);const v=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Cv(n,v,d);ki(n,v)}}catch(o){if(o instanceof _s)throw o;ki(n,"network-request-failed",{message:String(o)})}}async function FP(n,e,t,i,o={}){const l=await $l(n,e,t,i,o);return"mfaPendingCredential"in l&&ki(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function JT(n,e,t,i){const o=`${e}${t}?${i}`,l=n,c=l.config.emulator?Nv(n.config,o):`${n.config.apiScheme}://${o}`;return jP.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class HP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ei(this.auth,"network-request-failed")),BP.get())})}}function Mh(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=ei(n,e,i);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qP(n,e){return $l(n,"POST","/v1/accounts:delete",e)}async function Cd(n,e){return $l(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GP(n,e=!1){const t=nr(n),i=await t.getIdToken(e),o=Dv(i);Le(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:wu(ny(o.auth_time)),issuedAtTime:wu(ny(o.iat)),expirationTime:wu(ny(o.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function ny(n){return Number(n)*1e3}function Dv(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Qh("JWT malformed, contained fewer than 3 sections"),null;try{const o=VT(t);return o?JSON.parse(o):(Qh("Failed to decode base64 JWT payload"),null)}catch(o){return Qh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function tS(n){const e=Dv(n);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iu(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof _s&&$P(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function $P({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wu(this.lastLoginAt),this.creationTime=wu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Id(n){var g;const e=n.auth,t=await n.getIdToken(),i=await Iu(n,Cd(e,{idToken:t}));Le(i==null?void 0:i.users.length,e,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const l=(g=o.providerUserInfo)!=null&&g.length?eA(o.providerUserInfo):[],c=XP(n.providerData,l),f=n.isAnonymous,h=!(n.email&&o.passwordHash)&&!(c!=null&&c.length),d=f?h:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Py(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(n,v)}async function YP(n){const e=nr(n);await Id(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function XP(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function eA(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QP(n,e){const t=await ZT(n,{},async()=>{const i=Fu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,c=await JT(n,o,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:f,body:i};return n.emulatorConfig&&ql(n.emulatorConfig.host)&&(h.credentials="include"),WT.fetch()(c,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function WP(n,e){return $l(n,"POST","/v2/accounts:revokeToken",Mv(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const t=tS(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await QP(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,c=new Tl;return i&&(Le(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Le(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(Le(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Tl,this.toJSON())}_performRefresh(){return ls("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(n,e){Le(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Zr{constructor({uid:e,auth:t,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new KP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Py(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Iu(this,this.stsTokenManager.getToken(this.auth,e));return Le(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return GP(this,e)}reload(){return YP(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Zr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Id(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qr(this.auth.app))return Promise.reject(aa(this.auth));const e=await this.getIdToken();return await Iu(this,qP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,f=t.tenantId??void 0,h=t._redirectEventId??void 0,d=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:g,emailVerified:_,isAnonymous:w,providerData:T,stsTokenManager:R}=t;Le(g&&R,e,"internal-error");const C=Tl.fromJSON(this.name,R);Le(typeof g=="string",e,"internal-error"),Ws(i,e.name),Ws(o,e.name),Le(typeof _=="boolean",e,"internal-error"),Le(typeof w=="boolean",e,"internal-error"),Ws(l,e.name),Ws(c,e.name),Ws(f,e.name),Ws(h,e.name),Ws(d,e.name),Ws(v,e.name);const k=new Zr({uid:g,auth:e,email:o,emailVerified:_,displayName:i,isAnonymous:w,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:C,createdAt:d,lastLoginAt:v});return T&&Array.isArray(T)&&(k.providerData=T.map(U=>({...U}))),h&&(k._redirectEventId=h),k}static async _fromIdTokenResponse(e,t,i=!1){const o=new Tl;o.updateFromServerResponse(t);const l=new Zr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Id(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Le(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?eA(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),f=new Tl;f.updateFromIdToken(i);const h=new Zr({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:c}),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Py(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(h,d),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=new Map;function cs(n){ms(n instanceof Function,"Expected a class definition");let e=nS.get(n);return e?(ms(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,nS.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}tA.type="NONE";const rS=tA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(n,e,t){return`firebase:${n}:${e}:${t}`}class Al{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=Wh(this.userKey,o.apiKey,l),this.fullPersistenceKey=Wh("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Cd(this.auth,{idToken:e}).catch(()=>{});return t?Zr._fromGetAccountInfoResponse(this.auth,t,e):null}return Zr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Al(cs(rS),e,i);const o=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let l=o[0]||cs(rS);const c=Wh(i,e.config.apiKey,e.name);let f=null;for(const d of t)try{const v=await d._get(c);if(v){let g;if(typeof v=="string"){const _=await Cd(e,{idToken:v}).catch(()=>{});if(!_)break;g=await Zr._fromGetAccountInfoResponse(e,_,v)}else g=Zr._fromJSON(e,v);d!==l&&(f=g),l=d;break}}catch{}const h=o.filter(d=>d._shouldAllowMigration);return!l._shouldAllowMigration||!h.length?new Al(l,e,i):(l=h[0],f&&await l._set(c,f.toJSON()),await Promise.all(t.map(async d=>{if(d!==l)try{await d._remove(c)}catch{}})),new Al(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aA(e))return"Blackberry";if(lA(e))return"Webos";if(rA(e))return"Safari";if((e.includes("chrome/")||iA(e))&&!e.includes("edge/"))return"Chrome";if(oA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function nA(n=zn()){return/firefox\//i.test(n)}function rA(n=zn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iA(n=zn()){return/crios\//i.test(n)}function sA(n=zn()){return/iemobile/i.test(n)}function oA(n=zn()){return/android/i.test(n)}function aA(n=zn()){return/blackberry/i.test(n)}function lA(n=zn()){return/webos/i.test(n)}function Ov(n=zn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function ZP(n=zn()){var e;return Ov(n)&&!!((e=window.navigator)!=null&&e.standalone)}function JP(){return mO()&&document.documentMode===10}function cA(n=zn()){return Ov(n)||oA(n)||lA(n)||aA(n)||/windows phone/i.test(n)||sA(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(n,e=[]){let t;switch(n){case"Browser":t=iS(zn());break;case"Worker":t=`${iS(zn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Gl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,f)=>{try{const h=e(l);c(h)}catch(h){f(h)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tk(n,e={}){return $l(n,"GET","/v2/passwordPolicy",Mv(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=6;class rk{constructor(e){var i;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??nk,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sS(this),this.idTokenSubscription=new sS(this),this.beforeStateQueue=new ek(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=cs(t)),this._initializationPromise=this.queue(async()=>{var i,o,l;if(!this._deleted&&(this.persistenceManager=await Al.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Cd(this,{idToken:e}),i=await Zr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(Qr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,f=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!c||c===f)&&(h!=null&&h.user)&&(i=h.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Id(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=UP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qr(this.app))return Promise.reject(aa(this));const t=e?nr(e):null;return t&&Le(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qr(this.app)?Promise.reject(aa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qr(this.app)?Promise.reject(aa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tk(this),t=new rk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Bu("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await WP(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&cs(e)||this._popupRedirectResolver;Le(t,this,"argument-error"),this.redirectPersistenceManager=await Al.create(this,[cs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,i,o);return()=>{c=!0,h()}}else{const h=e.addObserver(t);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var t;if(Qr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&PP(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function am(n){return nr(n)}class sS{constructor(e){this.auth=e,this.observer=null,this.addObserver=EO(t=>this.observer=t)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sk(n){Pv=n}function ok(n){return Pv.loadJS(n)}function ak(){return Pv.gapiScript}function lk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(n,e){const t=Rv(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(ha(l,e??{}))return o;ki(o,"already-initialized")}return t.initialize({options:e})}function uk(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(cs);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function fk(n,e,t){const i=am(n);Le(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=fA(e),{host:c,port:f}=hk(e),h=f===null?"":`:${f}`,d={url:`${l}//${c}${h}/`},v=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Le(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Le(ha(d,i.config.emulator)&&ha(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,ql(c)?(BT(`${l}//${c}${h}`),FT("Auth",!0)):dk()}function fA(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function hk(n){const e=fA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:oS(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:oS(c)}}}function oS(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function dk(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ls("not implemented")}_getIdTokenResponse(e){return ls("not implemented")}_linkToIdToken(e,t){return ls("not implemented")}_getReauthenticationResolver(e){return ls("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(n,e){return FP(n,"POST","/v1/accounts:signInWithIdp",Mv(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk="http://localhost";class ma extends hA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ma(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ki("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...l}=t;if(!i||!o)return null;const c=new ma(i,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return xl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,xl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,xl(e,t)}buildRequest(){const e={requestUri:mk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Fu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu extends kv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo extends qu{constructor(){super("facebook.com")}static credential(e){return ma._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return eo.credentialFromTaggedObject(e)}static credentialFromError(e){return eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return eo.credential(e.oauthAccessToken)}catch{return null}}}eo.FACEBOOK_SIGN_IN_METHOD="facebook.com";eo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends qu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ma._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return os.credential(t,i)}catch{return null}}}os.GOOGLE_SIGN_IN_METHOD="google.com";os.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends qu{constructor(){super("github.com")}static credential(e){return ma._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return to.credential(e.oauthAccessToken)}catch{return null}}}to.GITHUB_SIGN_IN_METHOD="github.com";to.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends qu{constructor(){super("twitter.com")}static credential(e,t){return ma._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return no.credential(t,i)}catch{return null}}}no.TWITTER_SIGN_IN_METHOD="twitter.com";no.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await Zr._fromIdTokenResponse(e,i,o),c=aS(i);return new kl({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=aS(i);return new kl({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function aS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd extends _s{constructor(e,t,i,o){super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Nd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Nd(e,t,i,o)}}function dA(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Nd._fromErrorAndOperation(n,l,e,i):l})}async function pk(n,e,t=!1){const i=await Iu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return kl._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gk(n,e,t=!1){const{auth:i}=n;if(Qr(i.app))return Promise.reject(aa(i));const o="reauthenticate";try{const l=await Iu(n,dA(i,o,e,n),t);Le(l.idToken,i,"internal-error");const c=Dv(l.idToken);Le(c,i,"internal-error");const{sub:f}=c;return Le(n.uid===f,i,"user-mismatch"),kl._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ki(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yk(n,e,t=!1){if(Qr(n.app))return Promise.reject(aa(n));const i="signIn",o=await dA(n,i,e),l=await kl._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(l.user),l}function vk(n,e,t,i){return nr(n).onIdTokenChanged(e,t,i)}function _k(n,e,t){return nr(n).beforeAuthStateChanged(e,t)}function bk(n,e,t,i){return nr(n).onAuthStateChanged(e,t,i)}function wk(n){return nr(n).signOut()}const Md="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Md,"1"),this.storage.removeItem(Md),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek=1e3,Sk=10;class pA extends mA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,h)=>{this.notifyListeners(c,h)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);JP()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Sk):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},Ek)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}pA.type="LOCAL";const Tk=pA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA extends mA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}gA.type="SESSION";const yA=gA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new lm(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const f=Array.from(c).map(async d=>d(t.origin,l)),h=await Ak(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((f,h)=>{const d=Lv("",20);o.port1.start();const v=setTimeout(()=>{h(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(g){const _=g;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(_.data.response);break;default:clearTimeout(v),clearTimeout(l),h(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(){return window}function Rk(n){Ci().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function Ck(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ik(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function Nk(){return vA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="firebaseLocalStorageDb",Mk=1,Dd="firebaseLocalStorage",bA="fbase_key";class Gu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function cm(n,e){return n.transaction([Dd],e?"readwrite":"readonly").objectStore(Dd)}function Dk(){const n=indexedDB.deleteDatabase(_A);return new Gu(n).toPromise()}function ky(){const n=indexedDB.open(_A,Mk);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Dd,{keyPath:bA})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Dd)?e(i):(i.close(),await Dk(),e(await ky()))})})}async function lS(n,e,t){const i=cm(n,!0).put({[bA]:e,value:t});return new Gu(i).toPromise()}async function Ok(n,e){const t=cm(n,!1).get(e),i=await new Gu(t).toPromise();return i===void 0?null:i.value}function cS(n,e){const t=cm(n,!0).delete(e);return new Gu(t).toPromise()}const Pk=800,kk=3;class wA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ky(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>kk)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lm._getInstance(Nk()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await Ck(),!this.activeServiceWorker)return;this.sender=new xk(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Ik()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ky();return await lS(e,Md,"1"),await cS(e,Md),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>lS(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>Ok(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>cS(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=cm(o,!1).getAll();return new Gu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Pk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wA.type="LOCAL";const Lk=wA;new Hu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(n,e){return e?cs(e):(Le(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv extends hA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return xl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return xl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Vk(n){return yk(n.auth,new Vv(n),n.bypassAuthState)}function Uk(n){const{auth:e,user:t}=n;return Le(t,e,"internal-error"),gk(t,new Vv(n),n.bypassAuthState)}async function zk(n){const{auth:e,user:t}=n;return Le(t,e,"internal-error"),pk(t,new Vv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(h))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Vk;case"linkViaPopup":case"linkViaRedirect":return zk;case"reauthViaPopup":case"reauthViaRedirect":return Uk;default:ki(this.auth,"internal-error")}}resolve(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=new Hu(2e3,1e4);async function Bk(n,e,t){if(Qr(n.app))return Promise.reject(ei(n,"operation-not-supported-in-this-environment"));const i=am(n);kP(n,e,kv);const o=EA(i,t);return new ea(i,"signInViaPopup",e,o).executeNotNull()}class ea extends SA{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,ea.currentPopupAction&&ea.currentPopupAction.cancel(),ea.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){ms(this.filter.length===1,"Popup operations only handle one event");const e=Lv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if((i=(t=this.authWindow)==null?void 0:t.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jk.get())};e()}}ea.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk="pendingRedirect",Zh=new Map;class Hk extends SA{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Zh.get(this.auth._key());if(!e){try{const i=await qk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Zh.set(this.auth._key(),e)}return this.bypassAuthState||Zh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qk(n,e){const t=Kk(e),i=$k(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function Gk(n,e){Zh.set(n._key(),e)}function $k(n){return cs(n._redirectPersistence)}function Kk(n){return Wh(Fk,n.config.apiKey,n.name)}async function Yk(n,e,t=!1){if(Qr(n.app))return Promise.reject(aa(n));const i=am(n),o=EA(i,e),c=await new Hk(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=600*1e3;class Qk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Wk(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!TA(e)){const o=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";t.onError(ei(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Xk&&this.cachedEventUids.clear(),this.cachedEventUids.has(uS(e))}saveEventToCache(e){this.cachedEventUids.add(uS(e)),this.lastProcessedEventTime=Date.now()}}function uS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function TA({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Wk(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TA(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zk(n,e={}){return $l(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eL=/^https?/;async function tL(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Zk(n);for(const t of e)try{if(nL(t))return}catch{}ki(n,"unauthorized-domain")}function nL(n){const e=Oy(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!eL.test(t))return!1;if(Jk.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL=new Hu(3e4,6e4);function fS(){const n=Ci().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function iL(n){return new Promise((e,t)=>{var o,l,c;function i(){fS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{fS(),t(ei(n,"network-request-failed"))},timeout:rL.get()})}if((l=(o=Ci().gapi)==null?void 0:o.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=Ci().gapi)!=null&&c.load)i();else{const f=lk("iframefcb");return Ci()[f]=()=>{gapi.load?i():t(ei(n,"network-request-failed"))},ok(`${ak()}?onload=${f}`).catch(h=>t(h))}}).catch(e=>{throw Jh=null,e})}let Jh=null;function sL(n){return Jh=Jh||iL(n),Jh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL=new Hu(5e3,15e3),aL="__/auth/iframe",lL="emulator/auth/iframe",cL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fL(n){const e=n.config;Le(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Nv(e,lL):`https://${n.config.authDomain}/${aL}`,i={apiKey:e.apiKey,appName:n.name,v:Gl},o=uL.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Fu(i).slice(1)}`}async function hL(n){const e=await sL(n),t=Ci().gapi;return Le(t,n,"internal-error"),e.open({where:document.body,url:fL(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cL,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const c=ei(n,"network-request-failed"),f=Ci().setTimeout(()=>{l(c)},oL.get());function h(){Ci().clearTimeout(f),o(i)}i.ping(h).then(h,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mL=500,pL=600,gL="_blank",yL="http://localhost";class hS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vL(n,e,t,i=mL,o=pL){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const h={...dL,width:i.toString(),height:o.toString(),top:l,left:c},d=zn().toLowerCase();t&&(f=iA(d)?gL:t),nA(d)&&(e=e||yL,h.scrollbars="yes");const v=Object.entries(h).reduce((_,[w,T])=>`${_}${w}=${T},`,"");if(ZP(d)&&f!=="_self")return _L(e||"",f),new hS(null);const g=window.open(e||"",f,v);Le(g,n,"popup-blocked");try{g.focus()}catch{}return new hS(g)}function _L(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL="__/auth/handler",wL="emulator/auth/handler",EL=encodeURIComponent("fac");async function dS(n,e,t,i,o,l){Le(n.config.authDomain,n,"auth-domain-config-required"),Le(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Gl,eventId:o};if(e instanceof kv){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",wO(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,g]of Object.entries({}))c[v]=g}if(e instanceof qu){const v=e.getScopes().filter(g=>g!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const h=await n._getAppCheckToken(),d=h?`#${EL}=${encodeURIComponent(h)}`:"";return`${SL(n)}?${Fu(f).slice(1)}${d}`}function SL({config:n}){return n.emulator?Nv(n,wL):`https://${n.authDomain}/${bL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry="webStorageSupport";class TL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yA,this._completeRedirectFn=Yk,this._overrideRedirectResult=Gk}async _openPopup(e,t,i,o){var c;ms((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await dS(e,t,i,Oy(),o);return vL(e,l,Lv())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await dS(e,t,i,Oy(),o);return Rk(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(ms(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await hL(e),i=new Qk(e);return t.register("authEvent",o=>(Le(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ry,{type:ry},o=>{var c;const l=(c=o==null?void 0:o[0])==null?void 0:c[ry];l!==void 0&&t(!!l),ki(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=tL(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return cA()||rA()||Ov()}}const AL=TL;var mS="@firebase/auth",pS="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CL(n){Pl(new da("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=i.options;Le(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uA(n)},d=new ik(i,o,l,h);return uk(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Pl(new da("auth-internal",e=>{const t=am(e.getProvider("auth").getImmediate());return(i=>new xL(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),uo(mS,pS,RL(n)),uo(mS,pS,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL=300,NL=jT("authIdTokenMaxAge")||IL;let gS=null;const ML=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>NL)return;const o=t==null?void 0:t.token;gS!==o&&(gS=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function DL(n=$T()){const e=Rv(n,"auth");if(e.isInitialized())return e.getImmediate();const t=ck(n,{popupRedirectResolver:AL,persistence:[Lk,Tk,yA]}),i=jT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=ML(l.toString());_k(t,c,()=>c(t.currentUser)),vk(t,f=>c(f))}}const o=UT("auth");return o&&fk(t,`http://${o}`),t}function OL(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}sk({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const l=ei("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",OL().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CL("Browser");var yS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fo,AA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,A){function M(){}M.prototype=A.prototype,x.F=A.prototype,x.prototype=new M,x.prototype.constructor=x,x.D=function(P,O,j){for(var L=Array(arguments.length-2),he=2;he<arguments.length;he++)L[he-2]=arguments[he];return A.prototype[O].apply(P,L)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,A,M){M||(M=0);const P=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)P[O]=A.charCodeAt(M++)|A.charCodeAt(M++)<<8|A.charCodeAt(M++)<<16|A.charCodeAt(M++)<<24;else for(O=0;O<16;++O)P[O]=A[M++]|A[M++]<<8|A[M++]<<16|A[M++]<<24;A=x.g[0],M=x.g[1],O=x.g[2];let j=x.g[3],L;L=A+(j^M&(O^j))+P[0]+3614090360&4294967295,A=M+(L<<7&4294967295|L>>>25),L=j+(O^A&(M^O))+P[1]+3905402710&4294967295,j=A+(L<<12&4294967295|L>>>20),L=O+(M^j&(A^M))+P[2]+606105819&4294967295,O=j+(L<<17&4294967295|L>>>15),L=M+(A^O&(j^A))+P[3]+3250441966&4294967295,M=O+(L<<22&4294967295|L>>>10),L=A+(j^M&(O^j))+P[4]+4118548399&4294967295,A=M+(L<<7&4294967295|L>>>25),L=j+(O^A&(M^O))+P[5]+1200080426&4294967295,j=A+(L<<12&4294967295|L>>>20),L=O+(M^j&(A^M))+P[6]+2821735955&4294967295,O=j+(L<<17&4294967295|L>>>15),L=M+(A^O&(j^A))+P[7]+4249261313&4294967295,M=O+(L<<22&4294967295|L>>>10),L=A+(j^M&(O^j))+P[8]+1770035416&4294967295,A=M+(L<<7&4294967295|L>>>25),L=j+(O^A&(M^O))+P[9]+2336552879&4294967295,j=A+(L<<12&4294967295|L>>>20),L=O+(M^j&(A^M))+P[10]+4294925233&4294967295,O=j+(L<<17&4294967295|L>>>15),L=M+(A^O&(j^A))+P[11]+2304563134&4294967295,M=O+(L<<22&4294967295|L>>>10),L=A+(j^M&(O^j))+P[12]+1804603682&4294967295,A=M+(L<<7&4294967295|L>>>25),L=j+(O^A&(M^O))+P[13]+4254626195&4294967295,j=A+(L<<12&4294967295|L>>>20),L=O+(M^j&(A^M))+P[14]+2792965006&4294967295,O=j+(L<<17&4294967295|L>>>15),L=M+(A^O&(j^A))+P[15]+1236535329&4294967295,M=O+(L<<22&4294967295|L>>>10),L=A+(O^j&(M^O))+P[1]+4129170786&4294967295,A=M+(L<<5&4294967295|L>>>27),L=j+(M^O&(A^M))+P[6]+3225465664&4294967295,j=A+(L<<9&4294967295|L>>>23),L=O+(A^M&(j^A))+P[11]+643717713&4294967295,O=j+(L<<14&4294967295|L>>>18),L=M+(j^A&(O^j))+P[0]+3921069994&4294967295,M=O+(L<<20&4294967295|L>>>12),L=A+(O^j&(M^O))+P[5]+3593408605&4294967295,A=M+(L<<5&4294967295|L>>>27),L=j+(M^O&(A^M))+P[10]+38016083&4294967295,j=A+(L<<9&4294967295|L>>>23),L=O+(A^M&(j^A))+P[15]+3634488961&4294967295,O=j+(L<<14&4294967295|L>>>18),L=M+(j^A&(O^j))+P[4]+3889429448&4294967295,M=O+(L<<20&4294967295|L>>>12),L=A+(O^j&(M^O))+P[9]+568446438&4294967295,A=M+(L<<5&4294967295|L>>>27),L=j+(M^O&(A^M))+P[14]+3275163606&4294967295,j=A+(L<<9&4294967295|L>>>23),L=O+(A^M&(j^A))+P[3]+4107603335&4294967295,O=j+(L<<14&4294967295|L>>>18),L=M+(j^A&(O^j))+P[8]+1163531501&4294967295,M=O+(L<<20&4294967295|L>>>12),L=A+(O^j&(M^O))+P[13]+2850285829&4294967295,A=M+(L<<5&4294967295|L>>>27),L=j+(M^O&(A^M))+P[2]+4243563512&4294967295,j=A+(L<<9&4294967295|L>>>23),L=O+(A^M&(j^A))+P[7]+1735328473&4294967295,O=j+(L<<14&4294967295|L>>>18),L=M+(j^A&(O^j))+P[12]+2368359562&4294967295,M=O+(L<<20&4294967295|L>>>12),L=A+(M^O^j)+P[5]+4294588738&4294967295,A=M+(L<<4&4294967295|L>>>28),L=j+(A^M^O)+P[8]+2272392833&4294967295,j=A+(L<<11&4294967295|L>>>21),L=O+(j^A^M)+P[11]+1839030562&4294967295,O=j+(L<<16&4294967295|L>>>16),L=M+(O^j^A)+P[14]+4259657740&4294967295,M=O+(L<<23&4294967295|L>>>9),L=A+(M^O^j)+P[1]+2763975236&4294967295,A=M+(L<<4&4294967295|L>>>28),L=j+(A^M^O)+P[4]+1272893353&4294967295,j=A+(L<<11&4294967295|L>>>21),L=O+(j^A^M)+P[7]+4139469664&4294967295,O=j+(L<<16&4294967295|L>>>16),L=M+(O^j^A)+P[10]+3200236656&4294967295,M=O+(L<<23&4294967295|L>>>9),L=A+(M^O^j)+P[13]+681279174&4294967295,A=M+(L<<4&4294967295|L>>>28),L=j+(A^M^O)+P[0]+3936430074&4294967295,j=A+(L<<11&4294967295|L>>>21),L=O+(j^A^M)+P[3]+3572445317&4294967295,O=j+(L<<16&4294967295|L>>>16),L=M+(O^j^A)+P[6]+76029189&4294967295,M=O+(L<<23&4294967295|L>>>9),L=A+(M^O^j)+P[9]+3654602809&4294967295,A=M+(L<<4&4294967295|L>>>28),L=j+(A^M^O)+P[12]+3873151461&4294967295,j=A+(L<<11&4294967295|L>>>21),L=O+(j^A^M)+P[15]+530742520&4294967295,O=j+(L<<16&4294967295|L>>>16),L=M+(O^j^A)+P[2]+3299628645&4294967295,M=O+(L<<23&4294967295|L>>>9),L=A+(O^(M|~j))+P[0]+4096336452&4294967295,A=M+(L<<6&4294967295|L>>>26),L=j+(M^(A|~O))+P[7]+1126891415&4294967295,j=A+(L<<10&4294967295|L>>>22),L=O+(A^(j|~M))+P[14]+2878612391&4294967295,O=j+(L<<15&4294967295|L>>>17),L=M+(j^(O|~A))+P[5]+4237533241&4294967295,M=O+(L<<21&4294967295|L>>>11),L=A+(O^(M|~j))+P[12]+1700485571&4294967295,A=M+(L<<6&4294967295|L>>>26),L=j+(M^(A|~O))+P[3]+2399980690&4294967295,j=A+(L<<10&4294967295|L>>>22),L=O+(A^(j|~M))+P[10]+4293915773&4294967295,O=j+(L<<15&4294967295|L>>>17),L=M+(j^(O|~A))+P[1]+2240044497&4294967295,M=O+(L<<21&4294967295|L>>>11),L=A+(O^(M|~j))+P[8]+1873313359&4294967295,A=M+(L<<6&4294967295|L>>>26),L=j+(M^(A|~O))+P[15]+4264355552&4294967295,j=A+(L<<10&4294967295|L>>>22),L=O+(A^(j|~M))+P[6]+2734768916&4294967295,O=j+(L<<15&4294967295|L>>>17),L=M+(j^(O|~A))+P[13]+1309151649&4294967295,M=O+(L<<21&4294967295|L>>>11),L=A+(O^(M|~j))+P[4]+4149444226&4294967295,A=M+(L<<6&4294967295|L>>>26),L=j+(M^(A|~O))+P[11]+3174756917&4294967295,j=A+(L<<10&4294967295|L>>>22),L=O+(A^(j|~M))+P[2]+718787259&4294967295,O=j+(L<<15&4294967295|L>>>17),L=M+(j^(O|~A))+P[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(O+(L<<21&4294967295|L>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+j&4294967295}i.prototype.v=function(x,A){A===void 0&&(A=x.length);const M=A-this.blockSize,P=this.C;let O=this.h,j=0;for(;j<A;){if(O==0)for(;j<=M;)o(this,x,j),j+=this.blockSize;if(typeof x=="string"){for(;j<A;)if(P[O++]=x.charCodeAt(j++),O==this.blockSize){o(this,P),O=0;break}}else for(;j<A;)if(P[O++]=x[j++],O==this.blockSize){o(this,P),O=0;break}}this.h=O,this.o+=A},i.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;A=this.o*8;for(var M=x.length-8;M<x.length;++M)x[M]=A&255,A/=256;for(this.v(x),x=Array(16),A=0,M=0;M<4;++M)for(let P=0;P<32;P+=8)x[A++]=this.g[M]>>>P&255;return x};function l(x,A){var M=f;return Object.prototype.hasOwnProperty.call(M,x)?M[x]:M[x]=A(x)}function c(x,A){this.h=A;const M=[];let P=!0;for(let O=x.length-1;O>=0;O--){const j=x[O]|0;P&&j==A||(M[O]=j,P=!1)}this.g=M}var f={};function h(x){return-128<=x&&x<128?l(x,function(A){return new c([A|0],A<0?-1:0)}):new c([x|0],x<0?-1:0)}function d(x){if(isNaN(x)||!isFinite(x))return g;if(x<0)return C(d(-x));const A=[];let M=1;for(let P=0;x>=M;P++)A[P]=x/M|0,M*=4294967296;return new c(A,0)}function v(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return C(v(x.substring(1),A));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=d(Math.pow(A,8));let P=g;for(let j=0;j<x.length;j+=8){var O=Math.min(8,x.length-j);const L=parseInt(x.substring(j,j+O),A);O<8?(O=d(Math.pow(A,O)),P=P.j(O).add(d(L))):(P=P.j(M),P=P.add(d(L)))}return P}var g=h(0),_=h(1),w=h(16777216);n=c.prototype,n.m=function(){if(R(this))return-C(this).m();let x=0,A=1;for(let M=0;M<this.g.length;M++){const P=this.i(M);x+=(P>=0?P:4294967296+P)*A,A*=4294967296}return x},n.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(T(this))return"0";if(R(this))return"-"+C(this).toString(x);const A=d(Math.pow(x,6));var M=this;let P="";for(;;){const O=B(M,A).g;M=k(M,O.j(A));let j=((M.g.length>0?M.g[0]:M.h)>>>0).toString(x);if(M=O,T(M))return j+P;for(;j.length<6;)j="0"+j;P=j+P}},n.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function T(x){if(x.h!=0)return!1;for(let A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function R(x){return x.h==-1}n.l=function(x){return x=k(this,x),R(x)?-1:T(x)?0:1};function C(x){const A=x.g.length,M=[];for(let P=0;P<A;P++)M[P]=~x.g[P];return new c(M,~x.h).add(_)}n.abs=function(){return R(this)?C(this):this},n.add=function(x){const A=Math.max(this.g.length,x.g.length),M=[];let P=0;for(let O=0;O<=A;O++){let j=P+(this.i(O)&65535)+(x.i(O)&65535),L=(j>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);P=L>>>16,j&=65535,L&=65535,M[O]=L<<16|j}return new c(M,M[M.length-1]&-2147483648?-1:0)};function k(x,A){return x.add(C(A))}n.j=function(x){if(T(this)||T(x))return g;if(R(this))return R(x)?C(this).j(C(x)):C(C(this).j(x));if(R(x))return C(this.j(C(x)));if(this.l(w)<0&&x.l(w)<0)return d(this.m()*x.m());const A=this.g.length+x.g.length,M=[];for(var P=0;P<2*A;P++)M[P]=0;for(P=0;P<this.g.length;P++)for(let O=0;O<x.g.length;O++){const j=this.i(P)>>>16,L=this.i(P)&65535,he=x.i(O)>>>16,pe=x.i(O)&65535;M[2*P+2*O]+=L*pe,U(M,2*P+2*O),M[2*P+2*O+1]+=j*pe,U(M,2*P+2*O+1),M[2*P+2*O+1]+=L*he,U(M,2*P+2*O+1),M[2*P+2*O+2]+=j*he,U(M,2*P+2*O+2)}for(x=0;x<A;x++)M[x]=M[2*x+1]<<16|M[2*x];for(x=A;x<2*A;x++)M[x]=0;return new c(M,0)};function U(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function z(x,A){this.g=x,this.h=A}function B(x,A){if(T(A))throw Error("division by zero");if(T(x))return new z(g,g);if(R(x))return A=B(C(x),A),new z(C(A.g),C(A.h));if(R(A))return A=B(x,C(A)),new z(C(A.g),A.h);if(x.g.length>30){if(R(x)||R(A))throw Error("slowDivide_ only works with positive integers.");for(var M=_,P=A;P.l(x)<=0;)M=$(M),P=$(P);var O=F(M,1),j=F(P,1);for(P=F(P,2),M=F(M,2);!T(P);){var L=j.add(P);L.l(x)<=0&&(O=O.add(M),j=L),P=F(P,1),M=F(M,1)}return A=k(x,O.j(A)),new z(O,A)}for(O=g;x.l(A)>=0;){for(M=Math.max(1,Math.floor(x.m()/A.m())),P=Math.ceil(Math.log(M)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),j=d(M),L=j.j(A);R(L)||L.l(x)>0;)M-=P,j=d(M),L=j.j(A);T(j)&&(j=_),O=O.add(j),x=k(x,L)}return new z(O,x)}n.B=function(x){return B(this,x).h},n.and=function(x){const A=Math.max(this.g.length,x.g.length),M=[];for(let P=0;P<A;P++)M[P]=this.i(P)&x.i(P);return new c(M,this.h&x.h)},n.or=function(x){const A=Math.max(this.g.length,x.g.length),M=[];for(let P=0;P<A;P++)M[P]=this.i(P)|x.i(P);return new c(M,this.h|x.h)},n.xor=function(x){const A=Math.max(this.g.length,x.g.length),M=[];for(let P=0;P<A;P++)M[P]=this.i(P)^x.i(P);return new c(M,this.h^x.h)};function $(x){const A=x.g.length+1,M=[];for(let P=0;P<A;P++)M[P]=x.i(P)<<1|x.i(P-1)>>>31;return new c(M,x.h)}function F(x,A){const M=A>>5;A%=32;const P=x.g.length-M,O=[];for(let j=0;j<P;j++)O[j]=A>0?x.i(j+M)>>>A|x.i(j+M+1)<<32-A:x.i(j+M);return new c(O,x.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,AA=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=d,c.fromString=v,fo=c}).apply(typeof yS<"u"?yS:typeof self<"u"?self:typeof window<"u"?window:{});var Dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xA,hu,RA,ed,Ly,CA,IA,NA;(function(){var n,e=Object.defineProperty;function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dh=="object"&&Dh];for(var b=0;b<m.length;++b){var S=m[b];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var i=t(this);function o(m,b){if(b)e:{var S=i;m=m.split(".");for(var V=0;V<m.length-1;V++){var Q=m[V];if(!(Q in S))break e;S=S[Q]}m=m[m.length-1],V=S[m],b=b(V),b!=V&&b!=null&&e(S,m,{configurable:!0,writable:!0,value:b})}}o("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(m){return m||function(b){var S=[],V;for(V in b)Object.prototype.hasOwnProperty.call(b,V)&&S.push([V,b[V]]);return S}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(m){var b=typeof m;return b=="object"&&m!=null||b=="function"}function h(m,b,S){return m.call.apply(m.bind,arguments)}function d(m,b,S){return d=h,d.apply(null,arguments)}function v(m,b){var S=Array.prototype.slice.call(arguments,1);return function(){var V=S.slice();return V.push.apply(V,arguments),m.apply(this,V)}}function g(m,b){function S(){}S.prototype=b.prototype,m.Z=b.prototype,m.prototype=new S,m.prototype.constructor=m,m.Ob=function(V,Q,te){for(var ve=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)ve[Fe-2]=arguments[Fe];return b.prototype[Q].apply(V,ve)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function w(m){const b=m.length;if(b>0){const S=Array(b);for(let V=0;V<b;V++)S[V]=m[V];return S}return[]}function T(m,b){for(let V=1;V<arguments.length;V++){const Q=arguments[V];var S=typeof Q;if(S=S!="object"?S:Q?Array.isArray(Q)?"array":S:"null",S=="array"||S=="object"&&typeof Q.length=="number"){S=m.length||0;const te=Q.length||0;m.length=S+te;for(let ve=0;ve<te;ve++)m[S+ve]=Q[ve]}else m.push(Q)}}class R{constructor(b,S){this.i=b,this.j=S,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function C(m){c.setTimeout(()=>{throw m},0)}function k(){var m=x;let b=null;return m.g&&(b=m.g,m.g=m.g.next,m.g||(m.h=null),b.next=null),b}class U{constructor(){this.h=this.g=null}add(b,S){const V=z.get();V.set(b,S),this.h?this.h.next=V:this.g=V,this.h=V}}var z=new R(()=>new B,m=>m.reset());class B{constructor(){this.next=this.g=this.h=null}set(b,S){this.h=b,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let $,F=!1,x=new U,A=()=>{const m=Promise.resolve(void 0);$=()=>{m.then(M)}};function M(){for(var m;m=k();){try{m.h.call(m.g)}catch(S){C(S)}var b=z;b.j(m),b.h<100&&(b.h++,m.next=b.g,b.g=m)}F=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(m,b){this.type=m,this.g=this.target=b,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,b=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const S=()=>{};c.addEventListener("test",S,b),c.removeEventListener("test",S,b)}catch{}return m})();function L(m){return/^[\s\xa0]*$/.test(m)}function he(m,b){O.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,b)}g(he,O),he.prototype.init=function(m,b){const S=this.type=m.type,V=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=b,b=m.relatedTarget,b||(S=="mouseover"?b=m.fromElement:S=="mouseout"&&(b=m.toElement)),this.relatedTarget=b,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&he.Z.h.call(this)},he.prototype.h=function(){he.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var pe="closure_listenable_"+(Math.random()*1e6|0),H=0;function J(m,b,S,V,Q){this.listener=m,this.proxy=null,this.src=b,this.type=S,this.capture=!!V,this.ha=Q,this.key=++H,this.da=this.fa=!1}function X(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function ge(m,b,S){for(const V in m)b.call(S,m[V],V,m)}function we(m,b){for(const S in m)b.call(void 0,m[S],S,m)}function G(m){const b={};for(const S in m)b[S]=m[S];return b}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(m,b){let S,V;for(let Q=1;Q<arguments.length;Q++){V=arguments[Q];for(S in V)m[S]=V[S];for(let te=0;te<ie.length;te++)S=ie[te],Object.prototype.hasOwnProperty.call(V,S)&&(m[S]=V[S])}}function oe(m){this.src=m,this.g={},this.h=0}oe.prototype.add=function(m,b,S,V,Q){const te=m.toString();m=this.g[te],m||(m=this.g[te]=[],this.h++);const ve=_e(m,b,V,Q);return ve>-1?(b=m[ve],S||(b.fa=!1)):(b=new J(b,this.src,te,!!V,Q),b.fa=S,m.push(b)),b};function de(m,b){const S=b.type;if(S in m.g){var V=m.g[S],Q=Array.prototype.indexOf.call(V,b,void 0),te;(te=Q>=0)&&Array.prototype.splice.call(V,Q,1),te&&(X(b),m.g[S].length==0&&(delete m.g[S],m.h--))}}function _e(m,b,S,V){for(let Q=0;Q<m.length;++Q){const te=m[Q];if(!te.da&&te.listener==b&&te.capture==!!S&&te.ha==V)return Q}return-1}var ae="closure_lm_"+(Math.random()*1e6|0),ye={};function Ee(m,b,S,V,Q){if(Array.isArray(b)){for(let te=0;te<b.length;te++)Ee(m,b[te],S,V,Q);return null}return S=Cn(S),m&&m[pe]?m.J(b,S,f(V)?!!V.capture:!1,Q):Ie(m,b,S,!1,V,Q)}function Ie(m,b,S,V,Q,te){if(!b)throw Error("Invalid event type");const ve=f(Q)?!!Q.capture:!!Q;let Fe=xt(m);if(Fe||(m[ae]=Fe=new oe(m)),S=Fe.add(b,S,V,ve,te),S.proxy)return S;if(V=De(),S.proxy=V,V.src=m,V.listener=S,m.addEventListener)j||(Q=ve),Q===void 0&&(Q=!1),m.addEventListener(b.toString(),V,Q);else if(m.attachEvent)m.attachEvent(tt(b.toString()),V);else if(m.addListener&&m.removeListener)m.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return S}function De(){function m(S){return b.call(m.src,m.listener,S)}const b=Vt;return m}function Re(m,b,S,V,Q){if(Array.isArray(b))for(var te=0;te<b.length;te++)Re(m,b[te],S,V,Q);else V=f(V)?!!V.capture:!!V,S=Cn(S),m&&m[pe]?(m=m.i,te=String(b).toString(),te in m.g&&(b=m.g[te],S=_e(b,S,V,Q),S>-1&&(X(b[S]),Array.prototype.splice.call(b,S,1),b.length==0&&(delete m.g[te],m.h--)))):m&&(m=xt(m))&&(b=m.g[b.toString()],m=-1,b&&(m=_e(b,S,V,Q)),(S=m>-1?b[m]:null)&&lt(S))}function lt(m){if(typeof m!="number"&&m&&!m.da){var b=m.src;if(b&&b[pe])de(b.i,m);else{var S=m.type,V=m.proxy;b.removeEventListener?b.removeEventListener(S,V,m.capture):b.detachEvent?b.detachEvent(tt(S),V):b.addListener&&b.removeListener&&b.removeListener(V),(S=xt(b))?(de(S,m),S.h==0&&(S.src=null,b[ae]=null)):X(m)}}}function tt(m){return m in ye?ye[m]:ye[m]="on"+m}function Vt(m,b){if(m.da)m=!0;else{b=new he(b,this);const S=m.listener,V=m.ha||m.src;m.fa&&lt(m),m=S.call(V,b)}return m}function xt(m){return m=m[ae],m instanceof oe?m:null}var Rt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Cn(m){return typeof m=="function"?m:(m[Rt]||(m[Rt]=function(b){return m.handleEvent(b)}),m[Rt])}function Ue(){P.call(this),this.i=new oe(this),this.M=this,this.G=null}g(Ue,P),Ue.prototype[pe]=!0,Ue.prototype.removeEventListener=function(m,b,S,V){Re(this,m,b,S,V)};function ct(m,b){var S,V=m.G;if(V)for(S=[];V;V=V.G)S.push(V);if(m=m.M,V=b.type||b,typeof b=="string")b=new O(b,m);else if(b instanceof O)b.target=b.target||m;else{var Q=b;b=new O(V,m),ne(b,Q)}Q=!0;let te,ve;if(S)for(ve=S.length-1;ve>=0;ve--)te=b.g=S[ve],Q=gn(te,V,!0,b)&&Q;if(te=b.g=m,Q=gn(te,V,!0,b)&&Q,Q=gn(te,V,!1,b)&&Q,S)for(ve=0;ve<S.length;ve++)te=b.g=S[ve],Q=gn(te,V,!1,b)&&Q}Ue.prototype.N=function(){if(Ue.Z.N.call(this),this.i){var m=this.i;for(const b in m.g){const S=m.g[b];for(let V=0;V<S.length;V++)X(S[V]);delete m.g[b],m.h--}}this.G=null},Ue.prototype.J=function(m,b,S,V){return this.i.add(String(m),b,!1,S,V)},Ue.prototype.K=function(m,b,S,V){return this.i.add(String(m),b,!0,S,V)};function gn(m,b,S,V){if(b=m.i.g[String(b)],!b)return!0;b=b.concat();let Q=!0;for(let te=0;te<b.length;++te){const ve=b[te];if(ve&&!ve.da&&ve.capture==S){const Fe=ve.listener,Bt=ve.ha||ve.src;ve.fa&&de(m.i,ve),Q=Fe.call(Bt,V)!==!1&&Q}}return Q&&!V.defaultPrevented}function Dt(m,b){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=d(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:c.setTimeout(m,b||0)}function ze(m){m.g=Dt(()=>{m.g=null,m.i&&(m.i=!1,ze(m))},m.l);const b=m.h;m.h=null,m.m.apply(null,b)}class qe extends P{constructor(b,S){super(),this.m=b,this.l=S,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:ze(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bt(m){P.call(this),this.h=m,this.g={}}g(bt,P);var on=[];function rr(m){ge(m.g,function(b,S){this.g.hasOwnProperty(S)&&lt(b)},m),m.g={}}bt.prototype.N=function(){bt.Z.N.call(this),rr(this)},bt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var In=c.JSON.stringify,vr=c.JSON.parse,Nn=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function _r(){}function Mn(){}var Dn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jt(){O.call(this,"d")}g(jt,O);function un(){O.call(this,"c")}g(un,O);var Tt={},ji=null;function br(){return ji=ji||new Ue}Tt.Ia="serverreachability";function On(m){O.call(this,Tt.Ia,m)}g(On,O);function Gn(m){const b=br();ct(b,new On(b))}Tt.STAT_EVENT="statevent";function wr(m,b){O.call(this,Tt.STAT_EVENT,m),this.stat=b}g(wr,O);function Ct(m){const b=br();ct(b,new wr(b,m))}Tt.Ja="timingevent";function ir(m,b){O.call(this,Tt.Ja,m),this.size=b}g(ir,O);function Oe(m,b){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},b)}function ut(){this.g=!0}ut.prototype.ua=function(){this.g=!1};function $t(m,b,S,V,Q,te){m.info(function(){if(m.g)if(te){var ve="",Fe=te.split("&");for(let ot=0;ot<Fe.length;ot++){var Bt=Fe[ot].split("=");if(Bt.length>1){const Ot=Bt[0];Bt=Bt[1];const xr=Ot.split("_");ve=xr.length>=2&&xr[1]=="type"?ve+(Ot+"="+Bt+"&"):ve+(Ot+"=redacted&")}}}else ve=null;else ve=te;return"XMLHTTP REQ ("+V+") [attempt "+Q+"]: "+b+`
`+S+`
`+ve})}function fn(m,b,S,V,Q,te,ve){m.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+Q+"]: "+b+`
`+S+`
`+te+" "+ve})}function Fn(m,b,S,V){m.info(function(){return"XMLHTTP TEXT ("+b+"): "+Pn(m,S)+(V?" "+V:"")})}function It(m,b){m.info(function(){return"TIMEOUT: "+b})}ut.prototype.info=function(){};function Pn(m,b){if(!m.g)return b;if(!b)return null;try{const te=JSON.parse(b);if(te){for(m=0;m<te.length;m++)if(Array.isArray(te[m])){var S=te[m];if(!(S.length<2)){var V=S[1];if(Array.isArray(V)&&!(V.length<1)){var Q=V[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let ve=1;ve<V.length;ve++)V[ve]=""}}}}return In(te)}catch{return b}}var Er={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vn;function si(){}g(si,_r),si.prototype.g=function(){return new XMLHttpRequest},vn=new si;function _n(m){return encodeURIComponent(String(m))}function ic(m){var b=1;m=m.split(":");const S=[];for(;b>0&&m.length;)S.push(m.shift()),b--;return m.length&&S.push(m.join(":")),S}function zr(m,b,S,V){this.j=m,this.i=b,this.l=S,this.S=V||1,this.V=new bt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new jr}function jr(){this.i=null,this.g="",this.h=!1}var Kt={},hn={};function oi(m,b,S){m.M=1,m.A=xo(Xt(b)),m.u=S,m.R=!0,Ra(m,null)}function Ra(m,b){m.F=Date.now(),ai(m),m.B=Xt(m.A);var S=m.B,V=m.S;Array.isArray(V)||(V=[String(V)]),Ma(S.i,"t",V),m.C=0,S=m.j.L,m.h=new jr,m.g=yf(m.j,S?b:null,!m.u),m.P>0&&(m.O=new qe(d(m.Y,m,m.g),m.P)),b=m.V,S=m.g,V=m.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(on[0]=Q.toString()),Q=on);for(let te=0;te<Q.length;te++){const ve=Ee(S,Q[te],V||b.handleEvent,!1,b.h||b);if(!ve)break;b.g[ve.key]=ve}b=m.J?G(m.J):{},m.u?(m.v||(m.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,b)):(m.v="GET",m.g.ea(m.B,m.v,null,b)),Gn(),$t(m.i,m.v,m.B,m.l,m.S,m.u)}zr.prototype.ba=function(m){m=m.target;const b=this.O;b&&Hr(m)==3?b.j():this.Y(m)},zr.prototype.Y=function(m){try{if(m==this.g)e:{const Fe=Hr(this.g),Bt=this.g.ya(),ot=this.g.ca();if(!(Fe<3)&&(Fe!=3||this.g&&(this.h.h||this.g.la()||bn(this.g)))){this.K||Fe!=4||Bt==7||(Bt==8||ot<=0?Gn(3):Gn(2)),li(this);var b=this.g.ca();this.X=b;var S=Vm(this);if(this.o=b==200,fn(this.i,this.v,this.B,this.l,this.S,Fe,b),this.o){if(this.U&&!this.L){t:{if(this.g){var V,Q=this.g;if((V=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(V)){var te=V;break t}}te=null}if(m=te)Fn(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ci(this,m);else{this.o=!1,this.m=3,Ct(12),sr(this),Sr(this);break e}}if(this.R){m=!0;let Ot;for(;!this.K&&this.C<S.length;)if(Ot=rf(this,S),Ot==hn){Fe==4&&(this.m=4,Ct(14),m=!1),Fn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ot==Kt){this.m=4,Ct(15),Fn(this.i,this.l,S,"[Invalid Chunk]"),m=!1;break}else Fn(this.i,this.l,Ot,null),ci(this,Ot);if(nf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fe!=4||S.length!=0||this.h.h||(this.m=1,Ct(16),m=!1),this.o=this.o&&m,!m)Fn(this.i,this.l,S,"[Invalid Chunked Response]"),sr(this),Sr(this);else if(S.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),_c(ve),ve.P=!0,Ct(11))}}else Fn(this.i,this.l,S,null),ci(this,S);Fe==4&&sr(this),this.o&&!this.K&&(Fe==4?df(this.j,this):(this.o=!1,ai(this)))}else Fi(this.g),b==400&&S.indexOf("Unknown SID")>0?(this.m=3,Ct(12)):(this.m=0,Ct(13)),sr(this),Sr(this)}}}catch{}finally{}};function Vm(m){if(!nf(m))return m.g.la();const b=bn(m.g);if(b==="")return"";let S="";const V=b.length,Q=Hr(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return sr(m),Sr(m),"";m.h.i=new c.TextDecoder}for(let te=0;te<V;te++)m.h.h=!0,S+=m.h.i.decode(b[te],{stream:!(Q&&te==V-1)});return b.length=0,m.h.g+=S,m.C=0,m.h.g}function nf(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function rf(m,b){var S=m.C,V=b.indexOf(`
`,S);return V==-1?hn:(S=Number(b.substring(S,V)),isNaN(S)?Kt:(V+=1,V+S>b.length?hn:(b=b.slice(V,V+S),m.C=V+S,b)))}zr.prototype.cancel=function(){this.K=!0,sr(this)};function ai(m){m.T=Date.now()+m.H,Ca(m,m.H)}function Ca(m,b){if(m.D!=null)throw Error("WatchDog timer not null");m.D=Oe(d(m.aa,m),b)}function li(m){m.D&&(c.clearTimeout(m.D),m.D=null)}zr.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(It(this.i,this.B),this.M!=2&&(Gn(),Ct(17)),sr(this),this.m=2,Sr(this)):Ca(this,this.T-m)};function Sr(m){m.j.I==0||m.K||df(m.j,m)}function sr(m){li(m);var b=m.O;b&&typeof b.dispose=="function"&&b.dispose(),m.O=null,rr(m.V),m.g&&(b=m.g,m.g=null,b.abort(),b.dispose())}function ci(m,b){try{var S=m.j;if(S.I!=0&&(S.g==m||fi(S.h,m))){if(!m.L&&fi(S.h,m)&&S.I==3){try{var V=S.Ba.g.parse(b)}catch{V=null}if(Array.isArray(V)&&V.length==3){var Q=V;if(Q[0]==0){e:if(!S.v){if(S.g)if(S.g.F+3e3<m.F)La(S),Rs(S);else break e;Oo(S),Ct(18)}}else S.xa=Q[1],0<S.xa-S.K&&Q[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=Oe(d(S.Va,S),6e3));ui(S.h)<=1&&S.ta&&(S.ta=void 0)}else yi(S,11)}else if((m.L||S.g==m)&&La(S),!L(b))for(Q=S.Ba.g.parse(b),b=0;b<Q.length;b++){let ot=Q[b];const Ot=ot[0];if(!(Ot<=S.K))if(S.K=Ot,ot=ot[1],S.I==2)if(ot[0]=="c"){S.M=ot[1],S.ba=ot[2];const xr=ot[3];xr!=null&&(S.ka=xr,S.j.info("VER="+S.ka));const vi=ot[4];vi!=null&&(S.za=vi,S.j.info("SVER="+S.za));const qr=ot[5];qr!=null&&typeof qr=="number"&&qr>0&&(V=1.5*qr,S.O=V,S.j.info("backChannelRequestTimeoutMs_="+V)),V=S;const Gr=m.g;if(Gr){const Po=Gr.g?Gr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Po){var te=V.h;te.g||Po.indexOf("spdy")==-1&&Po.indexOf("quic")==-1&&Po.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(ac(te,te.h),te.h=null))}if(V.G){const Va=Gr.g?Gr.g.getResponseHeader("X-HTTP-Session-Id"):null;Va&&(V.wa=Va,ht(V.J,V.G,Va))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-m.F,S.j.info("Handshake RTT: "+S.T+"ms")),V=S;var ve=m;if(V.na=gf(V,V.L?V.ba:null,V.W),ve.L){lc(V.h,ve);var Fe=ve,Bt=V.O;Bt&&(Fe.H=Bt),Fe.D&&(li(Fe),ai(Fe)),V.g=ve}else ff(V);S.i.length>0&&gi(S)}else ot[0]!="stop"&&ot[0]!="close"||yi(S,7);else S.I==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?yi(S,7):yc(S):ot[0]!="noop"&&S.l&&S.l.qa(ot),S.A=0)}}Gn(4)}catch{}}var Yt=class{constructor(m,b){this.g=m,this.map=b}};function sc(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function oc(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function ui(m){return m.h?1:m.g?m.g.size:0}function fi(m,b){return m.h?m.h==b:m.g?m.g.has(b):!1}function ac(m,b){m.g?m.g.add(b):m.h=b}function lc(m,b){m.h&&m.h==b?m.h=null:m.g&&m.g.has(b)&&m.g.delete(b)}sc.prototype.cancel=function(){if(this.i=cc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function cc(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let b=m.i;for(const S of m.g.values())b=b.concat(S.G);return b}return w(m.i)}var sf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ia(m,b){if(m){m=m.split("&");for(let S=0;S<m.length;S++){const V=m[S].indexOf("=");let Q,te=null;V>=0?(Q=m[S].substring(0,V),te=m[S].substring(V+1)):Q=m[S],b(Q,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function or(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;m instanceof or?(this.l=m.l,dn(this,m.j),this.o=m.o,this.g=m.g,bs(this,m.u),this.h=m.h,uc(this,cf(m.i)),this.m=m.m):m&&(b=String(m).match(sf))?(this.l=!1,dn(this,b[1]||"",!0),this.o=hi(b[2]||""),this.g=hi(b[3]||"",!0),bs(this,b[4]),this.h=hi(b[5]||"",!0),uc(this,b[6]||"",!0),this.m=hi(b[7]||"")):(this.l=!1,this.i=new Es(null,this.l))}or.prototype.toString=function(){const m=[];var b=this.j;b&&m.push(Ro(b,Na,!0),":");var S=this.g;return(S||b=="file")&&(m.push("//"),(b=this.o)&&m.push(Ro(b,Na,!0),"@"),m.push(_n(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&m.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&m.push("/"),m.push(Ro(S,S.charAt(0)=="/"?fc:of,!0))),(S=this.i.toString())&&m.push("?",S),(S=this.m)&&m.push("#",Ro(S,af)),m.join("")},or.prototype.resolve=function(m){const b=Xt(this);let S=!!m.j;S?dn(b,m.j):S=!!m.o,S?b.o=m.o:S=!!m.g,S?b.g=m.g:S=m.u!=null;var V=m.h;if(S)bs(b,m.u);else if(S=!!m.h){if(V.charAt(0)!="/")if(this.g&&!this.h)V="/"+V;else{var Q=b.h.lastIndexOf("/");Q!=-1&&(V=b.h.slice(0,Q+1)+V)}if(Q=V,Q==".."||Q==".")V="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){V=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const te=[];for(let ve=0;ve<Q.length;){const Fe=Q[ve++];Fe=="."?V&&ve==Q.length&&te.push(""):Fe==".."?((te.length>1||te.length==1&&te[0]!="")&&te.pop(),V&&ve==Q.length&&te.push("")):(te.push(Fe),V=!0)}V=te.join("/")}else V=Q}return S?b.h=V:S=m.i.toString()!=="",S?uc(b,cf(m.i)):S=!!m.m,S&&(b.m=m.m),b};function Xt(m){return new or(m)}function dn(m,b,S){m.j=S?hi(b,!0):b,m.j&&(m.j=m.j.replace(/:$/,""))}function bs(m,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);m.u=b}else m.u=null}function uc(m,b,S){b instanceof Es?(m.i=b,Da(m.i,m.l)):(S||(b=Ro(b,ws)),m.i=new Es(b,m.l))}function ht(m,b,S){m.i.set(b,S)}function xo(m){return ht(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function hi(m,b){return m?b?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Ro(m,b,S){return typeof m=="string"?(m=encodeURI(m).replace(b,$n),S&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function $n(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Na=/[#\/\?@]/g,of=/[#\?:]/g,fc=/[#\?]/g,ws=/[#\?@]/g,af=/#/g;function Es(m,b){this.h=this.g=null,this.i=m||null,this.j=!!b}function Kn(m){m.g||(m.g=new Map,m.h=0,m.i&&Ia(m.i,function(b,S){m.add(decodeURIComponent(b.replace(/\+/g," ")),S)}))}n=Es.prototype,n.add=function(m,b){Kn(this),this.i=null,m=Ss(this,m);let S=this.g.get(m);return S||this.g.set(m,S=[]),S.push(b),this.h+=1,this};function lf(m,b){Kn(m),b=Ss(m,b),m.g.has(b)&&(m.i=null,m.h-=m.g.get(b).length,m.g.delete(b))}function hc(m,b){return Kn(m),b=Ss(m,b),m.g.has(b)}n.forEach=function(m,b){Kn(this),this.g.forEach(function(S,V){S.forEach(function(Q){m.call(b,Q,V,this)},this)},this)};function dc(m,b){Kn(m);let S=[];if(typeof b=="string")hc(m,b)&&(S=S.concat(m.g.get(Ss(m,b))));else for(m=Array.from(m.g.values()),b=0;b<m.length;b++)S=S.concat(m[b]);return S}n.set=function(m,b){return Kn(this),this.i=null,m=Ss(this,m),hc(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[b]),this.h+=1,this},n.get=function(m,b){return m?(m=dc(this,m),m.length>0?String(m[0]):b):b};function Ma(m,b,S){lf(m,b),S.length>0&&(m.i=null,m.g.set(Ss(m,b),w(S)),m.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],b=Array.from(this.g.keys());for(let V=0;V<b.length;V++){var S=b[V];const Q=_n(S);S=dc(this,S);for(let te=0;te<S.length;te++){let ve=Q;S[te]!==""&&(ve+="="+_n(S[te])),m.push(ve)}}return this.i=m.join("&")};function cf(m){const b=new Es;return b.i=m.i,m.g&&(b.g=new Map(m.g),b.h=m.h),b}function Ss(m,b){return b=String(b),m.j&&(b=b.toLowerCase()),b}function Da(m,b){b&&!m.j&&(Kn(m),m.i=null,m.g.forEach(function(S,V){const Q=V.toLowerCase();V!=Q&&(lf(this,V),Ma(this,Q,S))},m)),m.j=b}function Br(m,b){const S=new ut;if(c.Image){const V=new Image;V.onload=v(Tr,S,"TestLoadImage: loaded",!0,b,V),V.onerror=v(Tr,S,"TestLoadImage: error",!1,b,V),V.onabort=v(Tr,S,"TestLoadImage: abort",!1,b,V),V.ontimeout=v(Tr,S,"TestLoadImage: timeout",!1,b,V),c.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=m}else b(!1)}function mc(m,b){const S=new ut,V=new AbortController,Q=setTimeout(()=>{V.abort(),Tr(S,"TestPingServer: timeout",!1,b)},1e4);fetch(m,{signal:V.signal}).then(te=>{clearTimeout(Q),te.ok?Tr(S,"TestPingServer: ok",!0,b):Tr(S,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Q),Tr(S,"TestPingServer: error",!1,b)})}function Tr(m,b,S,V,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),V(S)}catch{}}function Ts(){this.g=new Nn}function di(m){this.i=m.Sb||null,this.h=m.ab||!1}g(di,_r),di.prototype.g=function(){return new Co(this.i,this.h)};function Co(m,b){Ue.call(this),this.H=m,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Co,Ue),n=Co.prototype,n.open=function(m,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=b,this.readyState=1,Fr(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(b.body=m),(this.H||c).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,As(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Fr(this)),this.g&&(this.readyState=3,Fr(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Oa(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function Oa(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var b=m.value?m.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!m.done}))&&(this.response=this.responseText+=b)}m.done?As(this):Fr(this),this.readyState==3&&Oa(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,As(this))},n.Na=function(m){this.g&&(this.response=m,As(this))},n.ga=function(){this.g&&As(this)};function As(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Fr(m)}n.setRequestHeader=function(m,b){this.A.append(m,b)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],b=this.h.entries();for(var S=b.next();!S.done;)S=S.value,m.push(S[0]+": "+S[1]),S=b.next();return m.join(`\r
`)};function Fr(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Co.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Ar(m){let b="";return ge(m,function(S,V){b+=V,b+=":",b+=S,b+=`\r
`}),b}function Io(m,b,S){e:{for(V in S){var V=!1;break e}V=!0}V||(S=Ar(S),typeof m=="string"?S!=null&&_n(S):ht(m,b,S))}function gt(m){Ue.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(gt,Ue);var mi=/^https?$/i,pc=["POST","PUT"];n=gt.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,b,S,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);b=b?b.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vn.g(),this.g.onreadystatechange=_(d(this.Ca,this));try{this.B=!0,this.g.open(b,String(m),!0),this.B=!1}catch(te){No(this,te);return}if(m=S||"",S=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var Q in V)S.set(Q,V[Q]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const te of V.keys())S.set(te,V.get(te));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(S.keys()).find(te=>te.toLowerCase()=="content-type"),Q=c.FormData&&m instanceof c.FormData,!(Array.prototype.indexOf.call(pc,b,void 0)>=0)||V||Q||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,ve]of S)this.g.setRequestHeader(te,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(te){No(this,te)}};function No(m,b){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=b,m.o=5,gc(m),Bi(m)}function gc(m){m.A||(m.A=!0,ct(m,"complete"),ct(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,ct(this,"complete"),ct(this,"abort"),Bi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bi(this,!0)),gt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Mo(this):this.Xa())},n.Xa=function(){Mo(this)};function Mo(m){if(m.h&&typeof l<"u"){if(m.v&&Hr(m)==4)setTimeout(m.Ca.bind(m),0);else if(ct(m,"readystatechange"),Hr(m)==4){m.h=!1;try{const te=m.ca();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var S;if(!(S=b)){var V;if(V=te===0){let ve=String(m.D).match(sf)[1]||null;!ve&&c.self&&c.self.location&&(ve=c.self.location.protocol.slice(0,-1)),V=!mi.test(ve?ve.toLowerCase():"")}S=V}if(S)ct(m,"complete"),ct(m,"success");else{m.o=6;try{var Q=Hr(m)>2?m.g.statusText:""}catch{Q=""}m.l=Q+" ["+m.ca()+"]",gc(m)}}finally{Bi(m)}}}}function Bi(m,b){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const S=m.g;m.g=null,b||ct(m,"ready");try{S.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Hr(m){return m.g?m.g.readyState:0}n.ca=function(){try{return Hr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var b=this.g.responseText;return m&&b.indexOf(m)==0&&(b=b.substring(m.length)),vr(b)}};function bn(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Fi(m){const b={};m=(m.g&&Hr(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<m.length;V++){if(L(m[V]))continue;var S=ic(m[V]);const Q=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const te=b[Q]||[];b[Q]=te,te.push(S)}we(b,function(V){return V.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function pi(m,b,S){return S&&S.internalChannelParams&&S.internalChannelParams[m]||b}function xs(m){this.za=0,this.i=[],this.j=new ut,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=pi("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=pi("baseRetryDelayMs",5e3,m),this.Za=pi("retryDelaySeedMs",1e4,m),this.Ta=pi("forwardChannelMaxRetries",2,m),this.va=pi("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new sc(m&&m.concurrentRequestLimit),this.Ba=new Ts,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=xs.prototype,n.ka=8,n.I=1,n.connect=function(m,b,S,V){Ct(0),this.W=m,this.H=b||{},S&&V!==void 0&&(this.H.OSID=S,this.H.OAID=V),this.F=this.X,this.J=gf(this,null,this.W),gi(this)};function yc(m){if(Pa(m),m.I==3){var b=m.V++,S=Xt(m.J);if(ht(S,"SID",m.M),ht(S,"RID",b),ht(S,"TYPE","terminate"),Do(m,S),b=new zr(m,m.j,b),b.M=2,b.A=xo(Xt(S)),S=!1,c.navigator&&c.navigator.sendBeacon)try{S=c.navigator.sendBeacon(b.A.toString(),"")}catch{}!S&&c.Image&&(new Image().src=b.A,S=!0),S||(b.g=yf(b.j,null),b.g.ea(b.A)),b.F=Date.now(),ai(b)}pf(m)}function Rs(m){m.g&&(_c(m),m.g.cancel(),m.g=null)}function Pa(m){Rs(m),m.v&&(c.clearTimeout(m.v),m.v=null),La(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&c.clearTimeout(m.m),m.m=null)}function gi(m){if(!oc(m.h)&&!m.m){m.m=!0;var b=m.Ea;$||A(),F||($(),F=!0),x.add(b,m),m.D=0}}function ka(m,b){return ui(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=b.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=Oe(d(m.Ea,m,b),mf(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const Q=new zr(this,this.j,m);let te=this.o;if(this.U&&(te?(te=G(te),ne(te,this.U)):te=this.U),this.u!==null||this.R||(Q.J=te,te=null),this.S)e:{for(var b=0,S=0;S<this.i.length;S++){t:{var V=this.i[S];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(b+=V,b>4096){b=S;break e}if(b===4096||S===this.i.length-1){b=S+1;break e}}b=1e3}else b=1e3;b=uf(this,Q,b),S=Xt(this.J),ht(S,"RID",m),ht(S,"CVER",22),this.G&&ht(S,"X-HTTP-Session-Id",this.G),Do(this,S),te&&(this.R?b="headers="+_n(Ar(te))+"&"+b:this.u&&Io(S,this.u,te)),ac(this.h,Q),this.Ra&&ht(S,"TYPE","init"),this.S?(ht(S,"$req",b),ht(S,"SID","null"),Q.U=!0,oi(Q,S,null)):oi(Q,S,b),this.I=2}}else this.I==3&&(m?vc(this,m):this.i.length==0||oc(this.h)||vc(this))};function vc(m,b){var S;b?S=b.l:S=m.V++;const V=Xt(m.J);ht(V,"SID",m.M),ht(V,"RID",S),ht(V,"AID",m.K),Do(m,V),m.u&&m.o&&Io(V,m.u,m.o),S=new zr(m,m.j,S,m.D+1),m.u===null&&(S.J=m.o),b&&(m.i=b.G.concat(m.i)),b=uf(m,S,1e3),S.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),ac(m.h,S),oi(S,V,b)}function Do(m,b){m.H&&ge(m.H,function(S,V){ht(b,V,S)}),m.l&&ge({},function(S,V){ht(b,V,S)})}function uf(m,b,S){S=Math.min(m.i.length,S);const V=m.l?d(m.l.Ka,m.l,m):null;e:{var Q=m.i;let Fe=-1;for(;;){const Bt=["count="+S];Fe==-1?S>0?(Fe=Q[0].g,Bt.push("ofs="+Fe)):Fe=0:Bt.push("ofs="+Fe);let ot=!0;for(let Ot=0;Ot<S;Ot++){var te=Q[Ot].g;const xr=Q[Ot].map;if(te-=Fe,te<0)Fe=Math.max(0,Q[Ot].g-100),ot=!1;else try{te="req"+te+"_"||"";try{var ve=xr instanceof Map?xr:Object.entries(xr);for(const[vi,qr]of ve){let Gr=qr;f(qr)&&(Gr=In(qr)),Bt.push(te+vi+"="+encodeURIComponent(Gr))}}catch(vi){throw Bt.push(te+"type="+encodeURIComponent("_badmap")),vi}}catch{V&&V(xr)}}if(ot){ve=Bt.join("&");break e}}ve=void 0}return m=m.i.splice(0,S),b.G=m,ve}function ff(m){if(!m.g&&!m.v){m.Y=1;var b=m.Da;$||A(),F||($(),F=!0),x.add(b,m),m.A=0}}function Oo(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=Oe(d(m.Da,m),mf(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,hf(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=Oe(d(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ct(10),Rs(this),hf(this))};function _c(m){m.B!=null&&(c.clearTimeout(m.B),m.B=null)}function hf(m){m.g=new zr(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var b=Xt(m.na);ht(b,"RID","rpc"),ht(b,"SID",m.M),ht(b,"AID",m.K),ht(b,"CI",m.F?"0":"1"),!m.F&&m.ia&&ht(b,"TO",m.ia),ht(b,"TYPE","xmlhttp"),Do(m,b),m.u&&m.o&&Io(b,m.u,m.o),m.O&&(m.g.H=m.O);var S=m.g;m=m.ba,S.M=1,S.A=xo(Xt(b)),S.u=null,S.R=!0,Ra(S,m)}n.Va=function(){this.C!=null&&(this.C=null,Rs(this),Oo(this),Ct(19))};function La(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function df(m,b){var S=null;if(m.g==b){La(m),_c(m),m.g=null;var V=2}else if(fi(m.h,b))S=b.G,lc(m.h,b),V=1;else return;if(m.I!=0){if(b.o)if(V==1){S=b.u?b.u.length:0,b=Date.now()-b.F;var Q=m.D;V=br(),ct(V,new ir(V,S)),gi(m)}else ff(m);else if(Q=b.m,Q==3||Q==0&&b.X>0||!(V==1&&ka(m,b)||V==2&&Oo(m)))switch(S&&S.length>0&&(b=m.h,b.i=b.i.concat(S)),Q){case 1:yi(m,5);break;case 4:yi(m,10);break;case 3:yi(m,6);break;default:yi(m,2)}}}function mf(m,b){let S=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(S*=2),S*b}function yi(m,b){if(m.j.info("Error code "+b),b==2){var S=d(m.bb,m),V=m.Ua;const Q=!V;V=new or(V||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||dn(V,"https"),xo(V),Q?Br(V.toString(),S):mc(V.toString(),S)}else Ct(2);m.I=0,m.l&&m.l.pa(b),pf(m),Pa(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function pf(m){if(m.I=0,m.ja=[],m.l){const b=cc(m.h);(b.length!=0||m.i.length!=0)&&(T(m.ja,b),T(m.ja,m.i),m.h.i.length=0,w(m.i),m.i.length=0),m.l.oa()}}function gf(m,b,S){var V=S instanceof or?Xt(S):new or(S);if(V.g!="")b&&(V.g=b+"."+V.g),bs(V,V.u);else{var Q=c.location;V=Q.protocol,b=b?b+"."+Q.hostname:Q.hostname,Q=+Q.port;const te=new or(null);V&&dn(te,V),b&&(te.g=b),Q&&bs(te,Q),S&&(te.h=S),V=te}return S=m.G,b=m.wa,S&&b&&ht(V,S,b),ht(V,"VER",m.ka),Do(m,V),V}function yf(m,b,S){if(b&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=m.Aa&&!m.ma?new gt(new di({ab:S})):new gt(m.ma),b.Fa(m.L),b}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function vf(){}n=vf.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Cs(){}Cs.prototype.g=function(m,b){return new Hn(m,b)};function Hn(m,b){Ue.call(this),this.g=new xs(b),this.l=m,this.h=b&&b.messageUrlParams||null,m=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(m?m["X-WebChannel-Content-Type"]=b.messageContentType:m={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(m?m["X-WebChannel-Client-Profile"]=b.sa:m={"X-WebChannel-Client-Profile":b.sa}),this.g.U=m,(m=b&&b.Qb)&&!L(m)&&(this.g.u=m),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!L(b)&&(this.g.G=b,m=this.h,m!==null&&b in m&&(m=this.h,b in m&&delete m[b])),this.j=new Hi(this)}g(Hn,Ue),Hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Hn.prototype.close=function(){yc(this.g)},Hn.prototype.o=function(m){var b=this.g;if(typeof m=="string"){var S={};S.__data__=m,m=S}else this.v&&(S={},S.__data__=In(m),m=S);b.i.push(new Yt(b.Ya++,m)),b.I==3&&gi(b)},Hn.prototype.N=function(){this.g.l=null,delete this.j,yc(this.g),delete this.g,Hn.Z.N.call(this)};function _f(m){jt.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var b=m.__sm__;if(b){e:{for(const S in b){m=S;break e}m=void 0}(this.i=m)&&(m=this.i,b=b!==null&&m in b?b[m]:void 0),this.data=b}else this.data=m}g(_f,jt);function bf(){un.call(this),this.status=1}g(bf,un);function Hi(m){this.g=m}g(Hi,vf),Hi.prototype.ra=function(){ct(this.g,"a")},Hi.prototype.qa=function(m){ct(this.g,new _f(m))},Hi.prototype.pa=function(m){ct(this.g,new bf)},Hi.prototype.oa=function(){ct(this.g,"b")},Cs.prototype.createWebChannel=Cs.prototype.g,Hn.prototype.send=Hn.prototype.o,Hn.prototype.open=Hn.prototype.m,Hn.prototype.close=Hn.prototype.close,NA=function(){return new Cs},IA=function(){return br()},CA=Tt,Ly={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Er.NO_ERROR=0,Er.TIMEOUT=8,Er.HTTP_ERROR=6,ed=Er,yn.COMPLETE="complete",RA=yn,Mn.EventType=Dn,Dn.OPEN="a",Dn.CLOSE="b",Dn.ERROR="c",Dn.MESSAGE="d",Ue.prototype.listen=Ue.prototype.J,hu=Mn,gt.prototype.listenOnce=gt.prototype.K,gt.prototype.getLastError=gt.prototype.Ha,gt.prototype.getLastErrorCode=gt.prototype.ya,gt.prototype.getStatus=gt.prototype.ca,gt.prototype.getResponseJson=gt.prototype.La,gt.prototype.getResponseText=gt.prototype.la,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Fa,xA=gt}).apply(typeof Dh<"u"?Dh:typeof self<"u"?self:typeof window<"u"?window:{});const vS="@firebase/firestore",_S="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vn.UNAUTHENTICATED=new Vn(null),Vn.GOOGLE_CREDENTIALS=new Vn("google-credentials-uid"),Vn.FIRST_PARTY=new Vn("first-party-uid"),Vn.MOCK_USER=new Vn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kl="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=new Av("@firebase/firestore");function _l(){return pa.logLevel}function Se(n,...e){if(pa.logLevel<=We.DEBUG){const t=e.map(Uv);pa.debug(`Firestore (${Kl}): ${n}`,...t)}}function ps(n,...e){if(pa.logLevel<=We.ERROR){const t=e.map(Uv);pa.error(`Firestore (${Kl}): ${n}`,...t)}}function Ll(n,...e){if(pa.logLevel<=We.WARN){const t=e.map(Uv);pa.warn(`Firestore (${Kl}): ${n}`,...t)}}function Uv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,MA(n,i,t)}function MA(n,e,t){let i=`FIRESTORE (${Kl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw ps(i),new Error(i)}function ft(n,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,n||MA(e,o,i)}function Be(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends _s{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Vn.UNAUTHENTICATED)))}shutdown(){}}class kL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class LL{constructor(e){this.t=e,this.currentUser=Vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ft(this.o===void 0,42304);let i=this.i;const o=h=>this.i!==i?(i=this.i,t(h)):Promise.resolve();let l=new us;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new us,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const h=l;e.enqueueRetryable((async()=>{await h.promise,await o(this.currentUser)}))},f=h=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((h=>f(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?f(h):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new us)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ft(typeof i.accessToken=="string",31837,{l:i}),new DA(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ft(e===null||typeof e=="string",2055,{h:e}),new Vn(e)}}class VL{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class UL{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new VL(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Vn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class bS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zL{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ft(this.o===void 0,3512);const i=l=>{l.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,Se("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const o=l=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new bS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(ft(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new bS(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=jL(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%62))}return i}}function Ze(n,e){return n<e?-1:n>e?1:0}function Vy(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const o=n.charAt(i),l=e.charAt(i);if(o!==l)return iy(o)===iy(l)?Ze(o,l):iy(o)?1:-1}return Ze(n.length,e.length)}const BL=55296,FL=57343;function iy(n){const e=n.charCodeAt(0);return e>=BL&&e<=FL}function Vl(n,e,t){return n.length===e.length&&n.every(((i,o)=>t(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="__name__";class Ai{constructor(e,t,i){t===void 0?t=0:t>e.length&&ke(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&ke(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Ai.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ai?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=Ai.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Ze(e.length,t.length)}static compareSegments(e,t){const i=Ai.isNumericId(e),o=Ai.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?Ai.extractNumericId(e).compare(Ai.extractNumericId(t)):Vy(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fo.fromString(e.substring(4,e.length-2))}}class At extends Ai{construct(e,t,i){return new At(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new be(ce.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((o=>o.length>0)))}return new At(t)}static emptyPath(){return new At([])}}const HL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xn extends Ai{construct(e,t,i){return new xn(e,t,i)}static isValidIdentifier(e){return HL.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Uy}static keyField(){return new xn([Uy])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new be(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new be(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[o+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new be(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,o+=2}else f==="`"?(c=!c,o++):f!=="."||c?(i+=f,o++):(l(),o++)}if(l(),c)throw new be(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xn(t)}static emptyPath(){return new xn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.path=e}static fromPath(e){return new Me(At.fromString(e))}static fromName(e){return new Me(At.fromString(e).popFirst(5))}static empty(){return new Me(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return At.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new At(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(n,e,t){if(!t)throw new be(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function qL(n,e,t,i){if(e===!0&&i===!0)throw new be(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function wS(n){if(!Me.isDocumentKey(n))throw new be(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ES(n){if(Me.isDocumentKey(n))throw new be(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function PA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function um(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ke(12329,{type:typeof n})}function ga(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new be(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=um(n);throw new be(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(n,e){const t={typeString:n};return e&&(t.value=e),t}function $u(n,e){if(!PA(n))throw new be(ce.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const o=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const c=n[i];if(o&&typeof c!==o){t=`JSON field '${i}' must be a ${o}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new be(ce.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=-62135596800,TS=1e6;class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*TS);return new St(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new be(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new be(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<SS)throw new be(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/TS}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:St._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($u(e,St._jsonSchema))return new St(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-SS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}St._jsonSchemaVersion="firestore/timestamp/1.0",St._jsonSchema={type:nn("string",St._jsonSchemaVersion),seconds:nn("number"),nanoseconds:nn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new St(0,0))}static max(){return new Ve(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu=-1;function GL(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ve.fromTimestamp(i===1e9?new St(t+1,0):new St(t,i));return new po(o,Me.empty(),e)}function $L(n){return new po(n.readTime,n.key,Nu)}class po{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new po(Ve.min(),Me.empty(),Nu)}static max(){return new po(Ve.max(),Me.empty(),Nu)}}function KL(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Me.comparator(n.documentKey,e.documentKey),t!==0?t:Ze(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yl(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==YL)throw n;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fe(((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof fe?t:fe.resolve(t)}catch(t){return fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):fe.reject(t)}static resolve(e){return new fe(((t,i)=>{t(e)}))}static reject(e){return new fe(((t,i)=>{i(e)}))}static waitFor(e){return new fe(((t,i)=>{let o=0,l=0,c=!1;e.forEach((f=>{++o,f.next((()=>{++l,c&&l===o&&t()}),(h=>i(h)))})),c=!0,l===o&&t()}))}static or(e){let t=fe.resolve(!1);for(const i of e)t=t.next((o=>o?fe.resolve(o):i()));return t}static forEach(e,t){const i=[];return e.forEach(((o,l)=>{i.push(t.call(this,o,l))})),this.waitFor(i)}static mapArray(e,t){return new fe(((i,o)=>{const l=e.length,c=new Array(l);let f=0;for(let h=0;h<l;h++){const d=h;t(e[d]).next((v=>{c[d]=v,++f,f===l&&i(c)}),(v=>o(v)))}}))}static doWhile(e,t){return new fe(((i,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):i()};l()}))}}function QL(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Xl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}fm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=-1;function hm(n){return n==null}function Od(n){return n===0&&1/n==-1/0}function WL(n){return typeof n=="number"&&Number.isInteger(n)&&!Od(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA="";function ZL(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=AS(e)),e=JL(n.get(t),e);return AS(e)}function JL(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case kA:t+="";break;default:t+=l}}return t}function AS(n){return n+kA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Sa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function LA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,t){this.comparator=e,this.root=t||An.EMPTY}insert(e,t){return new kt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,An.BLACK,null,null))}remove(e){return new kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,An.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oh(this.root,e,this.comparator,!0)}}class Oh{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class An{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??An.RED,this.left=o??An.EMPTY,this.right=l??An.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new An(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return An.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return An.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,An.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,An.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ke(27949);return e+(this.isRed()?0:1)}}An.EMPTY=null,An.RED=!0,An.BLACK=!1;An.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(e,t,i,o,l){return this}insert(e,t,i){return new An(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.comparator=e,this.data=new kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new RS(this.data.getIterator())}getIteratorFrom(e){return new RS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof cn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new cn(this.comparator);return t.data=e,t}}class RS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this.fields=e,e.sort(xn.comparator)}static empty(){return new Jr([])}unionWith(e){let t=new cn(xn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Jr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Vl(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new VA("Invalid base64 string: "+l):l}})(e);return new Rn(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l})(e);return new Rn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rn.EMPTY_BYTE_STRING=new Rn("");const e4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function go(n){if(ft(!!n,39018),typeof n=="string"){let e=0;const t=e4.exec(n);if(ft(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:qt(n.seconds),nanos:qt(n.nanos)}}function qt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function yo(n){return typeof n=="string"?Rn.fromBase64String(n):Rn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="server_timestamp",zA="__type__",jA="__previous_value__",BA="__local_write_time__";function Bv(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[zA])==null?void 0:i.stringValue)===UA}function dm(n){const e=n.mapValue.fields[jA];return Bv(e)?dm(e):e}function Mu(n){const e=go(n.mapValue.fields[BA].timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e,t,i,o,l,c,f,h,d,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=v}}const Pd="(default)";class Du{constructor(e,t){this.projectId=e,this.database=t||Pd}static empty(){return new Du("","")}get isDefaultDatabase(){return this.database===Pd}isEqual(e){return e instanceof Du&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="__type__",n4="__max__",Ph={mapValue:{}},HA="__vector__",kd="value";function vo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Bv(n)?4:i4(n)?9007199254740991:r4(n)?10:11:ke(28295,{value:n})}function Li(n,e){if(n===e)return!0;const t=vo(n);if(t!==vo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Mu(n).isEqual(Mu(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=go(o.timestampValue),f=go(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,l){return yo(o.bytesValue).isEqual(yo(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,l){return qt(o.geoPointValue.latitude)===qt(l.geoPointValue.latitude)&&qt(o.geoPointValue.longitude)===qt(l.geoPointValue.longitude)})(n,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return qt(o.integerValue)===qt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=qt(o.doubleValue),f=qt(l.doubleValue);return c===f?Od(c)===Od(f):isNaN(c)&&isNaN(f)}return!1})(n,e);case 9:return Vl(n.arrayValue.values||[],e.arrayValue.values||[],Li);case 10:case 11:return(function(o,l){const c=o.mapValue.fields||{},f=l.mapValue.fields||{};if(xS(c)!==xS(f))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(f[h]===void 0||!Li(c[h],f[h])))return!1;return!0})(n,e);default:return ke(52216,{left:n})}}function Ou(n,e){return(n.values||[]).find((t=>Li(t,e)))!==void 0}function Ul(n,e){if(n===e)return 0;const t=vo(n),i=vo(e);if(t!==i)return Ze(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ze(n.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=qt(l.integerValue||l.doubleValue),h=qt(c.integerValue||c.doubleValue);return f<h?-1:f>h?1:f===h?0:isNaN(f)?isNaN(h)?0:-1:1})(n,e);case 3:return CS(n.timestampValue,e.timestampValue);case 4:return CS(Mu(n),Mu(e));case 5:return Vy(n.stringValue,e.stringValue);case 6:return(function(l,c){const f=yo(l),h=yo(c);return f.compareTo(h)})(n.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),h=c.split("/");for(let d=0;d<f.length&&d<h.length;d++){const v=Ze(f[d],h[d]);if(v!==0)return v}return Ze(f.length,h.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=Ze(qt(l.latitude),qt(c.latitude));return f!==0?f:Ze(qt(l.longitude),qt(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return IS(n.arrayValue,e.arrayValue);case 10:return(function(l,c){var _,w,T,R;const f=l.fields||{},h=c.fields||{},d=(_=f[kd])==null?void 0:_.arrayValue,v=(w=h[kd])==null?void 0:w.arrayValue,g=Ze(((T=d==null?void 0:d.values)==null?void 0:T.length)||0,((R=v==null?void 0:v.values)==null?void 0:R.length)||0);return g!==0?g:IS(d,v)})(n.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Ph.mapValue&&c===Ph.mapValue)return 0;if(l===Ph.mapValue)return 1;if(c===Ph.mapValue)return-1;const f=l.fields||{},h=Object.keys(f),d=c.fields||{},v=Object.keys(d);h.sort(),v.sort();for(let g=0;g<h.length&&g<v.length;++g){const _=Vy(h[g],v[g]);if(_!==0)return _;const w=Ul(f[h[g]],d[v[g]]);if(w!==0)return w}return Ze(h.length,v.length)})(n.mapValue,e.mapValue);default:throw ke(23264,{he:t})}}function CS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ze(n,e);const t=go(n),i=go(e),o=Ze(t.seconds,i.seconds);return o!==0?o:Ze(t.nanos,i.nanos)}function IS(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=Ul(t[o],i[o]);if(l)return l}return Ze(t.length,i.length)}function zl(n){return zy(n)}function zy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=go(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return yo(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Me.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=zy(l);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of i)l?l=!1:o+=",",o+=`${c}:${zy(t.fields[c])}`;return o+"}"})(n.mapValue):ke(61005,{value:n})}function td(n){switch(vo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dm(n);return e?16+td(e):16;case 5:return 2*n.stringValue.length;case 6:return yo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,l)=>o+td(l)),0)})(n.arrayValue);case 10:case 11:return(function(i){let o=0;return Sa(i.fields,((l,c)=>{o+=l.length+td(c)})),o})(n.mapValue);default:throw ke(13486,{value:n})}}function NS(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function jy(n){return!!n&&"integerValue"in n}function Fv(n){return!!n&&"arrayValue"in n}function MS(n){return!!n&&"nullValue"in n}function DS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function nd(n){return!!n&&"mapValue"in n}function r4(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[FA])==null?void 0:i.stringValue)===HA}function Eu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Sa(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Eu(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Eu(n.arrayValue.values[t]);return e}return{...n}}function i4(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===n4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this.value=e}static empty(){return new Lr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!nd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eu(t)}setAll(e){let t=xn.emptyPath(),i={},o=[];e.forEach(((c,f)=>{if(!t.isImmediateParentOf(f)){const h=this.getFieldsMap(t);this.applyChanges(h,i,o),i={},o=[],t=f.popLast()}c?i[f.lastSegment()]=Eu(c):o.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());nd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Li(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];nd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Sa(t,((o,l)=>e[o]=l));for(const o of i)delete e[o]}clone(){return new Lr(Eu(this.value))}}function qA(n){const e=[];return Sa(n.fields,((t,i)=>{const o=new xn([t]);if(nd(i)){const l=qA(i.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)})),new Jr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e,t,i,o,l,c,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new Un(e,0,Ve.min(),Ve.min(),Ve.min(),Lr.empty(),0)}static newFoundDocument(e,t,i,o){return new Un(e,1,t,Ve.min(),i,o,0)}static newNoDocument(e,t){return new Un(e,2,t,Ve.min(),Ve.min(),Lr.empty(),0)}static newUnknownDocument(e,t){return new Un(e,3,t,Ve.min(),Ve.min(),Lr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Lr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,t){this.position=e,this.inclusive=t}}function OS(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(l.field.isKeyField()?i=Me.comparator(Me.fromName(c.referenceValue),t.key):i=Ul(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function PS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Li(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,t="asc"){this.field=e,this.dir=t}}function s4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{}class tn extends GA{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new a4(e,t,i):t==="array-contains"?new u4(e,i):t==="in"?new f4(e,i):t==="not-in"?new h4(e,i):t==="array-contains-any"?new d4(e,i):new tn(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new l4(e,i):new c4(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ul(t,this.value)):t!==null&&vo(this.value)===vo(t)&&this.matchesComparison(Ul(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ti extends GA{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ti(e,t)}matches(e){return $A(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $A(n){return n.op==="and"}function KA(n){return o4(n)&&$A(n)}function o4(n){for(const e of n.filters)if(e instanceof ti)return!1;return!0}function By(n){if(n instanceof tn)return n.field.canonicalString()+n.op.toString()+zl(n.value);if(KA(n))return n.filters.map((e=>By(e))).join(",");{const e=n.filters.map((t=>By(t))).join(",");return`${n.op}(${e})`}}function YA(n,e){return n instanceof tn?(function(i,o){return o instanceof tn&&i.op===o.op&&i.field.isEqual(o.field)&&Li(i.value,o.value)})(n,e):n instanceof ti?(function(i,o){return o instanceof ti&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((l,c,f)=>l&&YA(c,o.filters[f])),!0):!1})(n,e):void ke(19439)}function XA(n){return n instanceof tn?(function(t){return`${t.field.canonicalString()} ${t.op} ${zl(t.value)}`})(n):n instanceof ti?(function(t){return t.op.toString()+" {"+t.getFilters().map(XA).join(" ,")+"}"})(n):"Filter"}class a4 extends tn{constructor(e,t,i){super(e,t,i),this.key=Me.fromName(i.referenceValue)}matches(e){const t=Me.comparator(e.key,this.key);return this.matchesComparison(t)}}class l4 extends tn{constructor(e,t){super(e,"in",t),this.keys=QA("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class c4 extends tn{constructor(e,t){super(e,"not-in",t),this.keys=QA("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function QA(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((i=>Me.fromName(i.referenceValue)))}class u4 extends tn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Fv(t)&&Ou(t.arrayValue,this.value)}}class f4 extends tn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ou(this.value.arrayValue,t)}}class h4 extends tn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ou(this.value.arrayValue,t)}}class d4 extends tn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Fv(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Ou(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e,t=null,i=[],o=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function kS(n,e=null,t=[],i=[],o=null,l=null,c=null){return new m4(n,e,t,i,o,l,c)}function Hv(n){const e=Be(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>By(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),hm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>zl(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>zl(i))).join(",")),e.Te=t}return e.Te}function qv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!s4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!YA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!PS(n.startAt,e.startAt)&&PS(n.endAt,e.endAt)}function Fy(n){return Me.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,t=null,i=[],o=[],l=null,c="F",f=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function p4(n,e,t,i,o,l,c,f){return new Ql(n,e,t,i,o,l,c,f)}function Gv(n){return new Ql(n)}function LS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function WA(n){return n.collectionGroup!==null}function Su(n){const e=Be(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new cn(xn.comparator);return c.filters.forEach((h=>{h.getFlattenedFilters().forEach((d=>{d.isInequality()&&(f=f.add(d.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Pu(l,i))})),t.has(xn.keyField().canonicalString())||e.Ie.push(new Pu(xn.keyField(),i))}return e.Ie}function Ii(n){const e=Be(n);return e.Ee||(e.Ee=g4(e,Su(n))),e.Ee}function g4(n,e){if(n.limitType==="F")return kS(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new Pu(o.field,l)}));const t=n.endAt?new Ld(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Ld(n.startAt.position,n.startAt.inclusive):null;return kS(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Hy(n,e){const t=n.filters.concat([e]);return new Ql(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Vd(n,e,t){return new Ql(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function mm(n,e){return qv(Ii(n),Ii(e))&&n.limitType===e.limitType}function ZA(n){return`${Hv(Ii(n))}|lt:${n.limitType}`}function bl(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((o=>XA(o))).join(", ")}]`),hm(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((o=>zl(o))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((o=>zl(o))).join(",")),`Target(${i})`})(Ii(n))}; limitType=${n.limitType})`}function pm(n,e){return e.isFoundDocument()&&(function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Me.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(n,e)&&(function(i,o){for(const l of Su(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0})(n,e)&&(function(i,o){return!(i.startAt&&!(function(c,f,h){const d=OS(c,f,h);return c.inclusive?d<=0:d<0})(i.startAt,Su(i),o)||i.endAt&&!(function(c,f,h){const d=OS(c,f,h);return c.inclusive?d>=0:d>0})(i.endAt,Su(i),o))})(n,e)}function y4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function JA(n){return(e,t)=>{let i=!1;for(const o of Su(n)){const l=v4(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function v4(n,e,t){const i=n.field.isKeyField()?Me.comparator(e.key,t.key):(function(l,c,f){const h=c.data.field(l),d=f.data.field(l);return h!==null&&d!==null?Ul(h,d):ke(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ke(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Sa(this.inner,((t,i)=>{for(const[o,l]of i)e(o,l)}))}isEmpty(){return LA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=new kt(Me.comparator);function gs(){return _4}const ex=new kt(Me.comparator);function du(...n){let e=ex;for(const t of n)e=e.insert(t.key,t);return e}function tx(n){let e=ex;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function ta(){return Tu()}function nx(){return Tu()}function Tu(){return new Ta((n=>n.toString()),((n,e)=>n.isEqual(e)))}const b4=new kt(Me.comparator),w4=new cn(Me.comparator);function Je(...n){let e=w4;for(const t of n)e=e.add(t);return e}const E4=new cn(Ze);function S4(){return E4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Od(e)?"-0":e}}function rx(n){return{integerValue:""+n}}function T4(n,e){return WL(e)?rx(e):$v(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(){this._=void 0}}function A4(n,e,t){return n instanceof Ud?(function(o,l){const c={fields:{[zA]:{stringValue:UA},[BA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Bv(l)&&(l=dm(l)),l&&(c.fields[jA]=l),{mapValue:c}})(t,e):n instanceof ku?sx(n,e):n instanceof Lu?ox(n,e):(function(o,l){const c=ix(o,l),f=VS(c)+VS(o.Ae);return jy(c)&&jy(o.Ae)?rx(f):$v(o.serializer,f)})(n,e)}function x4(n,e,t){return n instanceof ku?sx(n,e):n instanceof Lu?ox(n,e):t}function ix(n,e){return n instanceof zd?(function(i){return jy(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class Ud extends gm{}class ku extends gm{constructor(e){super(),this.elements=e}}function sx(n,e){const t=ax(e);for(const i of n.elements)t.some((o=>Li(o,i)))||t.push(i);return{arrayValue:{values:t}}}class Lu extends gm{constructor(e){super(),this.elements=e}}function ox(n,e){let t=ax(e);for(const i of n.elements)t=t.filter((o=>!Li(o,i)));return{arrayValue:{values:t}}}class zd extends gm{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function VS(n){return qt(n.integerValue||n.doubleValue)}function ax(n){return Fv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function R4(n,e){return n.field.isEqual(e.field)&&(function(i,o){return i instanceof ku&&o instanceof ku||i instanceof Lu&&o instanceof Lu?Vl(i.elements,o.elements,Li):i instanceof zd&&o instanceof zd?Li(i.Ae,o.Ae):i instanceof Ud&&o instanceof Ud})(n.transform,e.transform)}class C4{constructor(e,t){this.version=e,this.transformResults=t}}class fs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fs}static exists(e){return new fs(void 0,e)}static updateTime(e){return new fs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ym{}function lx(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ux(n.key,fs.none()):new Ku(n.key,n.data,fs.none());{const t=n.data,i=Lr.empty();let o=new cn(xn.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),o=o.add(l)}return new Aa(n.key,i,new Jr(o.toArray()),fs.none())}}function I4(n,e,t){n instanceof Ku?(function(o,l,c){const f=o.value.clone(),h=zS(o.fieldTransforms,l,c.transformResults);f.setAll(h),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,e,t):n instanceof Aa?(function(o,l,c){if(!rd(o.precondition,l))return void l.convertToUnknownDocument(c.version);const f=zS(o.fieldTransforms,l,c.transformResults),h=l.data;h.setAll(cx(o)),h.setAll(f),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,e,t):(function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Au(n,e,t,i){return n instanceof Ku?(function(l,c,f,h){if(!rd(l.precondition,c))return f;const d=l.value.clone(),v=jS(l.fieldTransforms,h,c);return d.setAll(v),c.convertToFoundDocument(c.version,d).setHasLocalMutations(),null})(n,e,t,i):n instanceof Aa?(function(l,c,f,h){if(!rd(l.precondition,c))return f;const d=jS(l.fieldTransforms,h,c),v=c.data;return v.setAll(cx(l)),v.setAll(d),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((g=>g.field)))})(n,e,t,i):(function(l,c,f){return rd(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(n,e,t)}function N4(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=ix(i.transform,o||null);l!=null&&(t===null&&(t=Lr.empty()),t.set(i.field,l))}return t||null}function US(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Vl(i,o,((l,c)=>R4(l,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ku extends ym{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Aa extends ym{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function cx(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function zS(n,e,t){const i=new Map;ft(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,f=e.data.field(l.field);i.set(l.field,x4(c,f,t[o]))}return i}function jS(n,e,t){const i=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);i.set(o.field,A4(l,c,e))}return i}class ux extends ym{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class M4 extends ym{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&I4(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Au(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Au(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=nx();return this.mutations.forEach((o=>{const l=e.get(o.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(o.key)?null:f;const h=lx(c,f);h!==null&&i.set(o.key,h),c.isValidDocument()||c.convertToNoDocument(Ve.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Je())}isEqual(e){return this.batchId===e.batchId&&Vl(this.mutations,e.mutations,((t,i)=>US(t,i)))&&Vl(this.baseMutations,e.baseMutations,((t,i)=>US(t,i)))}}class Kv{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){ft(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return b4})();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,i[c].version);return new Kv(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let O4=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en,nt;function k4(n){switch(n){case ce.OK:return ke(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return ke(15467,{code:n})}}function fx(n){if(n===void 0)return ps("GRPC error has no .code"),ce.UNKNOWN;switch(n){case en.OK:return ce.OK;case en.CANCELLED:return ce.CANCELLED;case en.UNKNOWN:return ce.UNKNOWN;case en.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case en.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case en.INTERNAL:return ce.INTERNAL;case en.UNAVAILABLE:return ce.UNAVAILABLE;case en.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case en.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case en.NOT_FOUND:return ce.NOT_FOUND;case en.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case en.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case en.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case en.ABORTED:return ce.ABORTED;case en.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case en.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case en.DATA_LOSS:return ce.DATA_LOSS;default:return ke(39323,{code:n})}}(nt=en||(en={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=new fo([4294967295,4294967295],0);function BS(n){const e=L4().encode(n),t=new AA;return t.update(e),new Uint8Array(t.digest())}function FS(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new fo([t,i],0),new fo([o,l],0)]}class Yv{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new mu(`Invalid padding: ${t}`);if(i<0)throw new mu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new mu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new mu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=fo.fromNumber(this.ge)}ye(e,t,i){let o=e.add(t.multiply(fo.fromNumber(i)));return o.compare(V4)===1&&(o=new fo([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=BS(e),[i,o]=FS(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,o,l);if(!this.we(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Yv(l,o,t);return i.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const t=BS(e),[i,o]=FS(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,o,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class mu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Yu.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new vm(Ve.min(),o,new kt(Ze),gs(),Je())}}class Yu{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Yu(i,t,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,t,i,o){this.be=e,this.removedTargetIds=t,this.key=i,this.De=o}}class hx{constructor(e,t){this.targetId=e,this.Ce=t}}class dx{constructor(e,t,i=Rn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class HS{constructor(){this.ve=0,this.Fe=qS(),this.Me=Rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Je(),t=Je(),i=Je();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:ke(38017,{changeType:l})}})),new Yu(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=qS()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class U4{constructor(e){this.Ge=e,this.ze=new Map,this.je=gs(),this.Je=kh(),this.He=kh(),this.Ye=new kt(Ze)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:ke(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,i=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(Fy(l))if(i===0){const c=new Me(l.path);this.et(t,c,Un.newNoDocument(c,Ve.min()))}else ft(i===1,20013,{expectedCount:i});else{const c=this._t(t);if(c!==i){const f=this.ut(e),h=f?this.ct(f,e,c):1;if(h!==0){this.it(t);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,d)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let c,f;try{c=yo(i).toUint8Array()}catch(h){if(h instanceof VA)return Ll("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{f=new Yv(c,o,l)}catch(h){return Ll(h instanceof mu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return f.ge===0?null:f}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let o=0;return i.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&Fy(f.target)){const h=new Me(f.target.path);this.It(h).has(c)||this.Et(c,h)||this.et(c,h,Un.newNoDocument(h,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let i=Je();this.He.forEach(((l,c)=>{let f=!0;c.forEachWhile((h=>{const d=this.ot(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const o=new vm(e,t,this.Ye,this.je,i);return this.je=gs(),this.Je=kh(),this.He=kh(),this.Ye=new kt(Ze),o}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new HS,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new cn(Ze),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new cn(Ze),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Se("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new HS),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function kh(){return new kt(Me.comparator)}function qS(){return new kt(Me.comparator)}const z4={asc:"ASCENDING",desc:"DESCENDING"},j4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B4={and:"AND",or:"OR"};class F4{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function qy(n,e){return n.useProto3Json||hm(e)?e:{value:e}}function jd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function H4(n,e){return jd(n,e.toTimestamp())}function Ni(n){return ft(!!n,49232),Ve.fromTimestamp((function(t){const i=go(t);return new St(i.seconds,i.nanos)})(n))}function Xv(n,e){return Gy(n,e).canonicalString()}function Gy(n,e){const t=(function(o){return new At(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function px(n){const e=At.fromString(n);return ft(bx(e),10190,{key:e.toString()}),e}function $y(n,e){return Xv(n.databaseId,e.path)}function sy(n,e){const t=px(e);if(t.get(1)!==n.databaseId.projectId)throw new be(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new be(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Me(yx(t))}function gx(n,e){return Xv(n.databaseId,e)}function q4(n){const e=px(n);return e.length===4?At.emptyPath():yx(e)}function Ky(n){return new At(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function yx(n){return ft(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function GS(n,e,t){return{name:$y(n,e),fields:t.value.mapValue.fields}}function G4(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ke(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(d,v){return d.useProto3Json?(ft(v===void 0||typeof v=="string",58123),Rn.fromBase64String(v||"")):(ft(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Rn.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(d){const v=d.code===void 0?ce.UNKNOWN:fx(d.code);return new be(v,d.message||"")})(c);t=new dx(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=sy(n,i.document.name),l=Ni(i.document.updateTime),c=i.document.createTime?Ni(i.document.createTime):Ve.min(),f=new Lr({mapValue:{fields:i.document.fields}}),h=Un.newFoundDocument(o,l,c,f),d=i.targetIds||[],v=i.removedTargetIds||[];t=new id(d,v,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=sy(n,i.document),l=i.readTime?Ni(i.readTime):Ve.min(),c=Un.newNoDocument(o,l),f=i.removedTargetIds||[];t=new id([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=sy(n,i.document),l=i.removedTargetIds||[];t=new id([],l,o,null)}else{if(!("filter"in e))return ke(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,c=new P4(o,l),f=i.targetId;t=new hx(f,c)}}return t}function $4(n,e){let t;if(e instanceof Ku)t={update:GS(n,e.key,e.value)};else if(e instanceof ux)t={delete:$y(n,e.key)};else if(e instanceof Aa)t={update:GS(n,e.key,e.data),updateMask:tV(e.fieldMask)};else{if(!(e instanceof M4))return ke(16599,{Vt:e.type});t={verify:$y(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const f=c.transform;if(f instanceof Ud)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof ku)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Lu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof zd)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw ke(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:H4(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:ke(27497)})(n,e.precondition)),t}function K4(n,e){return n&&n.length>0?(ft(e!==void 0,14353),n.map((t=>(function(o,l){let c=o.updateTime?Ni(o.updateTime):Ni(l);return c.isEqual(Ve.min())&&(c=Ni(l)),new C4(c,o.transformResults||[])})(t,e)))):[]}function Y4(n,e){return{documents:[gx(n,e.path)]}}function X4(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=gx(n,o);const l=(function(d){if(d.length!==0)return _x(ti.create(d,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(d){if(d.length!==0)return d.map((v=>(function(_){return{field:wl(_.field),direction:Z4(_.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=qy(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:o}}function Q4(n){let e=q4(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){ft(i===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(g){const _=vx(g);return _ instanceof ti&&KA(_)?_.getFilters():[_]})(t.where));let c=[];t.orderBy&&(c=(function(g){return g.map((_=>(function(T){return new Pu(El(T.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(_)))})(t.orderBy));let f=null;t.limit&&(f=(function(g){let _;return _=typeof g=="object"?g.value:g,hm(_)?null:_})(t.limit));let h=null;t.startAt&&(h=(function(g){const _=!!g.before,w=g.values||[];return new Ld(w,_)})(t.startAt));let d=null;return t.endAt&&(d=(function(g){const _=!g.before,w=g.values||[];return new Ld(w,_)})(t.endAt)),p4(e,o,c,l,f,"F",h,d)}function W4(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function vx(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=El(t.unaryFilter.field);return tn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=El(t.unaryFilter.field);return tn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=El(t.unaryFilter.field);return tn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=El(t.unaryFilter.field);return tn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}})(n):n.fieldFilter!==void 0?(function(t){return tn.create(El(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ti.create(t.compositeFilter.filters.map((i=>vx(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ke(1026)}})(t.compositeFilter.op))})(n):ke(30097,{filter:n})}function Z4(n){return z4[n]}function J4(n){return j4[n]}function eV(n){return B4[n]}function wl(n){return{fieldPath:n.canonicalString()}}function El(n){return xn.fromServerFormat(n.fieldPath)}function _x(n){return n instanceof tn?(function(t){if(t.op==="=="){if(DS(t.value))return{unaryFilter:{field:wl(t.field),op:"IS_NAN"}};if(MS(t.value))return{unaryFilter:{field:wl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(DS(t.value))return{unaryFilter:{field:wl(t.field),op:"IS_NOT_NAN"}};if(MS(t.value))return{unaryFilter:{field:wl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wl(t.field),op:J4(t.op),value:t.value}}})(n):n instanceof ti?(function(t){const i=t.getFilters().map((o=>_x(o)));return i.length===1?i[0]:{compositeFilter:{op:eV(t.op),filters:i}}})(n):ke(54877,{filter:n})}function tV(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function bx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,t,i,o,l=Ve.min(),c=Ve.min(),f=Rn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=h}withSequenceNumber(e){return new so(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new so(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new so(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new so(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e){this.yt=e}}function rV(n){const e=Q4({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Vd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(){this.Cn=new sV}addToCollectionParentIndex(e,t){return this.Cn.add(t),fe.resolve()}getCollectionParents(e,t){return fe.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return fe.resolve()}deleteFieldIndex(e,t){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,t){return fe.resolve()}getDocumentsMatchingTarget(e,t){return fe.resolve(null)}getIndexType(e,t){return fe.resolve(0)}getFieldIndexes(e,t){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,t){return fe.resolve(po.min())}getMinOffsetFromCollectionGroup(e,t){return fe.resolve(po.min())}updateCollectionGroup(e,t,i){return fe.resolve()}updateIndexEntries(e,t){return fe.resolve()}}class sV{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new cn(At.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new cn(At.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wx=41943040;class er{static withCacheSize(e){return new er(e,er.DEFAULT_COLLECTION_PERCENTILE,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */er.DEFAULT_COLLECTION_PERCENTILE=10,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,er.DEFAULT=new er(wx,er.DEFAULT_COLLECTION_PERCENTILE,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),er.DISABLED=new er(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new jl(0)}static cr(){return new jl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="LruGarbageCollector",oV=1048576;function YS([n,e],[t,i]){const o=Ze(n,t);return o===0?Ze(e,i):o}class aV{constructor(e){this.Ir=e,this.buffer=new cn(YS),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();YS(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lV{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Se(KS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Xl(t)?Se(KS,"Ignoring IndexedDB error during garbage collection: ",t):await Yl(t)}await this.Vr(3e5)}))}}class cV{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return fe.resolve(fm.ce);const i=new aV(t);return this.mr.forEachTarget(e,(o=>i.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>i.Ar(o))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve($S)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$S):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,o,l,c,f,h,d;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),o=this.params.maximumSequenceNumbersToCollect):o=g,c=Date.now(),this.nthSequenceNumber(e,o)))).next((g=>(i=g,f=Date.now(),this.removeTargets(e,i,t)))).next((g=>(l=g,h=Date.now(),this.removeOrphanedDocuments(e,i)))).next((g=>(d=Date.now(),_l()<=We.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(f-c)+`ms
	Removed ${l} targets in `+(h-f)+`ms
	Removed ${g} documents in `+(d-h)+`ms
Total Duration: ${d-v}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:g}))))}}function uV(n,e){return new cV(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(){this.changes=new Ta((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?fe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(i!==null&&Au(i.mutation,o,Jr.empty(),St.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Je()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Je()){const o=ta();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,i).next((l=>{let c=du();return l.forEach(((f,h)=>{c=c.insert(f,h.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=ta();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Je())))}populateOverlays(e,t,i){const o=[];return i.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((c,f)=>{t.set(c,f)}))}))}computeViews(e,t,i,o){let l=gs();const c=Tu(),f=(function(){return Tu()})();return t.forEach(((h,d)=>{const v=i.get(d.key);o.has(d.key)&&(v===void 0||v.mutation instanceof Aa)?l=l.insert(d.key,d):v!==void 0?(c.set(d.key,v.mutation.getFieldMask()),Au(v.mutation,d,v.mutation.getFieldMask(),St.now())):c.set(d.key,Jr.empty())})),this.recalculateAndSaveOverlays(e,l).next((h=>(h.forEach(((d,v)=>c.set(d,v))),t.forEach(((d,v)=>f.set(d,new hV(v,c.get(d)??null)))),f)))}recalculateAndSaveOverlays(e,t){const i=Tu();let o=new kt(((c,f)=>c-f)),l=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const f of c)f.keys().forEach((h=>{const d=t.get(h);if(d===null)return;let v=i.get(h)||Jr.empty();v=f.applyToLocalView(d,v),i.set(h,v);const g=(o.get(f.batchId)||Je()).add(h);o=o.insert(f.batchId,g)}))})).next((()=>{const c=[],f=o.getReverseIterator();for(;f.hasNext();){const h=f.getNext(),d=h.key,v=h.value,g=nx();v.forEach((_=>{if(!l.has(_)){const w=lx(t.get(_),i.get(_));w!==null&&g.set(_,w),l=l.add(_)}})),c.push(this.documentOverlayCache.saveOverlays(e,d,g))}return fe.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,o){return(function(c){return Me.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):WA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next((l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):fe.resolve(ta());let f=Nu,h=l;return c.next((d=>fe.forEach(d,((v,g)=>(f<g.largestBatchId&&(f=g.largestBatchId),l.get(v)?fe.resolve():this.remoteDocumentCache.getEntry(e,v).next((_=>{h=h.insert(v,_)}))))).next((()=>this.populateOverlays(e,d,l))).next((()=>this.computeViews(e,h,d,Je()))).next((v=>({batchId:f,changes:tx(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Me(t)).next((i=>{let o=du();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let c=du();return this.indexManager.getCollectionParents(e,l).next((f=>fe.forEach(f,(h=>{const d=(function(g,_){return new Ql(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(t,h.child(l));return this.getDocumentsMatchingCollectionQuery(e,d,i,o).next((v=>{v.forEach(((g,_)=>{c=c.insert(g,_)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o)))).next((c=>{l.forEach(((h,d)=>{const v=d.getKey();c.get(v)===null&&(c=c.insert(v,Un.newInvalidDocument(v)))}));let f=du();return c.forEach(((h,d)=>{const v=l.get(h);v!==void 0&&Au(v.mutation,d,Jr.empty(),St.now()),pm(t,d)&&(f=f.insert(h,d))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return fe.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Ni(o.createTime)}})(t)),fe.resolve()}getNamedQuery(e,t){return fe.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:rV(o.bundledQuery),readTime:Ni(o.readTime)}})(t)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(){this.overlays=new kt(Me.comparator),this.qr=new Map}getOverlay(e,t){return fe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ta();return fe.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&i.set(o,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((o,l)=>{this.St(e,t,l)})),fe.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),fe.resolve()}getOverlaysForCollection(e,t,i){const o=ta(),l=t.length+1,c=new Me(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const h=f.getNext().value,d=h.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===l&&h.largestBatchId>i&&o.set(h.getKey(),h)}return fe.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new kt(((d,v)=>d-v));const c=this.overlays.getIterator();for(;c.hasNext();){const d=c.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>i){let v=l.get(d.largestBatchId);v===null&&(v=ta(),l=l.insert(d.largestBatchId,v)),v.set(d.getKey(),d)}}const f=ta(),h=l.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((d,v)=>f.set(d,v))),!(f.size()>=o)););return fe.resolve(f)}St(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new O4(t,i));let l=this.qr.get(t);l===void 0&&(l=Je(),this.qr.set(t,l)),this.qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(){this.sessionToken=Rn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(){this.Qr=new cn(pn.$r),this.Ur=new cn(pn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new pn(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new pn(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new Me(new At([])),i=new pn(t,e),o=new pn(t,e+1),l=[];return this.Ur.forEachInRange([i,o],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Me(new At([])),i=new pn(t,e),o=new pn(t,e+1);let l=Je();return this.Ur.forEachInRange([i,o],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new pn(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class pn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Me.comparator(e.key,t.key)||Ze(e.Yr,t.Yr)}static Kr(e,t){return Ze(e.Yr,t.Yr)||Me.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new cn(pn.$r)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new D4(l,t,i,o);this.mutationQueue.push(c);for(const f of o)this.Zr=this.Zr.add(new pn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return fe.resolve(c)}lookupMutationBatch(e,t){return fe.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.ei(i),l=o<0?0:o;return fe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?jv:this.tr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new pn(t,0),o=new pn(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,o],(c=>{const f=this.Xr(c.Yr);l.push(f)})),fe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new cn(Ze);return t.forEach((o=>{const l=new pn(o,0),c=new pn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(f=>{i=i.add(f.Yr)}))})),fe.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;Me.isDocumentKey(l)||(l=l.child(""));const c=new pn(new Me(l),0);let f=new cn(Ze);return this.Zr.forEachWhile((h=>{const d=h.key.path;return!!i.isPrefixOf(d)&&(d.length===o&&(f=f.add(h.Yr)),!0)}),c),fe.resolve(this.ti(f))}ti(e){const t=[];return e.forEach((i=>{const o=this.Xr(i);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){ft(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return fe.forEach(t.mutations,(o=>{const l=new pn(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new pn(t,0),o=this.Zr.firstAfterOrEqual(i);return fe.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e){this.ri=e,this.docs=(function(){return new kt(Me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,c=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return fe.resolve(i?i.document.mutableCopy():Un.newInvalidDocument(t))}getEntries(e,t){let i=gs();return t.forEach((o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():Un.newInvalidDocument(o))})),fe.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=gs();const c=t.path,f=new Me(c.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(f);for(;h.hasNext();){const{key:d,value:{document:v}}=h.getNext();if(!c.isPrefixOf(d.path))break;d.path.length>c.length+1||KL($L(v),i)<=0||(o.has(v.key)||pm(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return fe.resolve(l)}getAllFromCollectionGroup(e,t,i,o){ke(9500)}ii(e,t){return fe.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new _V(this)}getSize(e){return fe.resolve(this.size)}}class _V extends fV{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)})),fe.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e){this.persistence=e,this.si=new Ta((t=>Hv(t)),qv),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.oi=0,this._i=new Qv,this.targetCount=0,this.ai=jl.ur()}forEachTarget(e,t){return this.si.forEach(((i,o)=>t(o))),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),fe.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new jl(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,fe.resolve()}updateTargetData(e,t){return this.Pr(t),fe.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),fe.waitFor(l).next((()=>o))}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return fe.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),fe.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((c=>{l.push(o.markPotentiallyOrphaned(e,c))})),fe.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),fe.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return fe.resolve(i)}containsKey(e,t){return fe.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e,t){this.ui={},this.overlays={},this.ci=new fm(0),this.li=!1,this.li=!0,this.hi=new gV,this.referenceDelegate=e(this),this.Pi=new bV(this),this.indexManager=new iV,this.remoteDocumentCache=(function(o){return new vV(o)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new nV(t),this.Ii=new mV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pV,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new yV(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){Se("MemoryPersistence","Starting transaction:",e);const o=new wV(this.ci.next());return this.referenceDelegate.Ei(),i(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,t){return fe.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class wV extends XL{constructor(e){super(),this.currentSequenceNumber=e}}class Wv{constructor(e){this.persistence=e,this.Ri=new Qv,this.Vi=null}static mi(e){return new Wv(e)}get fi(){if(this.Vi)return this.Vi;throw ke(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),fe.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),fe.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),fe.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.fi,(i=>{const o=Me.fromPath(i);return this.gi(e,o).next((l=>{l||t.removeEntry(o,Ve.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return fe.or([()=>fe.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Bd{constructor(e,t){this.persistence=e,this.pi=new Ta((i=>ZL(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=uV(this,t)}static mi(e,t){return new Bd(e,t)}Ei(){}di(e){return fe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((o=>i+o))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return fe.forEach(this.pi,((i,o)=>this.br(e,i,o).next((l=>l?fe.resolve():t(o)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,t).next((f=>{f||(i++,l.removeEntry(c,Ve.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),fe.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),fe.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),fe.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=td(e.data.value)),t}br(e,t,i){return fe.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return fe.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=o}static As(e,t){let i=Je(),o=Je();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Zv(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return pO()?8:QL(zn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,o,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new EV;return this.Ss(e,t,c).next((f=>{if(l.result=f,this.Vs)return this.bs(e,t,c,f.size)}))})).next((()=>l.result))}bs(e,t,i,o){return i.documentReadCount<this.fs?(_l()<=We.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",bl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),fe.resolve()):(_l()<=We.DEBUG&&Se("QueryEngine","Query:",bl(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(_l()<=We.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",bl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ii(t))):fe.resolve())}ys(e,t){if(LS(t))return fe.resolve(null);let i=Ii(t);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Vd(t,null,"F"),i=Ii(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=Je(...l);return this.ps.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,i).next((h=>{const d=this.Ds(t,f);return this.Cs(t,d,c,h.readTime)?this.ys(e,Vd(t,null,"F")):this.vs(e,d,t,h)}))))})))))}ws(e,t,i,o){return LS(t)||o.isEqual(Ve.min())?fe.resolve(null):this.ps.getDocuments(e,i).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,i,o)?fe.resolve(null):(_l()<=We.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),bl(t)),this.vs(e,c,t,GL(o,Nu)).next((f=>f)))}))}Ds(e,t){let i=new cn(JA(e));return t.forEach(((o,l)=>{pm(e,l)&&(i=i.add(l))})),i}Cs(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,i){return _l()<=We.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",bl(t)),this.ps.getDocumentsMatchingQuery(e,t,po.min(),i)}vs(e,t,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="LocalStore",TV=3e8;class AV{constructor(e,t,i,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new kt(Ze),this.xs=new Ta((l=>Hv(l)),qv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function xV(n,e,t,i){return new AV(n,e,t,i)}async function Sx(n,e){const t=Be(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next((l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],f=[];let h=Je();for(const d of o){c.push(d.batchId);for(const v of d.mutations)h=h.add(v.key)}for(const d of l){f.push(d.batchId);for(const v of d.mutations)h=h.add(v.key)}return t.localDocuments.getDocuments(i,h).next((d=>({Ls:d,removedBatchIds:c,addedBatchIds:f})))}))}))}function RV(n,e){const t=Be(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,h,d,v){const g=d.batch,_=g.keys();let w=fe.resolve();return _.forEach((T=>{w=w.next((()=>v.getEntry(h,T))).next((R=>{const C=d.docVersions.get(T);ft(C!==null,48541),R.version.compareTo(C)<0&&(g.applyToRemoteDocument(R,d),R.isValidDocument()&&(R.setReadTime(d.commitVersion),v.addEntry(R)))}))})),w.next((()=>f.mutationQueue.removeMutationBatch(h,g)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let h=Je();for(let d=0;d<f.mutationResults.length;++d)f.mutationResults[d].transformResults.length>0&&(h=h.add(f.batch.mutations[d].key));return h})(e)))).next((()=>t.localDocuments.getDocuments(i,o)))}))}function Tx(n){const e=Be(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function CV(n,e){const t=Be(n),i=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const f=[];e.targetChanges.forEach(((v,g)=>{const _=o.get(g);if(!_)return;f.push(t.Pi.removeMatchingKeys(l,v.removedDocuments,g).next((()=>t.Pi.addMatchingKeys(l,v.addedDocuments,g))));let w=_.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(g)!==null?w=w.withResumeToken(Rn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):v.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(v.resumeToken,i)),o=o.insert(g,w),(function(R,C,k){return R.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=TV?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0})(_,w,v)&&f.push(t.Pi.updateTargetData(l,w))}));let h=gs(),d=Je();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),f.push(IV(l,c,e.documentUpdates).next((v=>{h=v.ks,d=v.qs}))),!i.isEqual(Ve.min())){const v=t.Pi.getLastRemoteSnapshotVersion(l).next((g=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(v)}return fe.waitFor(f).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,h,d))).next((()=>h))})).then((l=>(t.Ms=o,l)))}function IV(n,e,t){let i=Je(),o=Je();return t.forEach((l=>i=i.add(l))),e.getEntries(n,i).next((l=>{let c=gs();return t.forEach(((f,h)=>{const d=l.get(f);h.isFoundDocument()!==d.isFoundDocument()&&(o=o.add(f)),h.isNoDocument()&&h.version.isEqual(Ve.min())?(e.removeEntry(f,h.readTime),c=c.insert(f,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),c=c.insert(f,h)):Se(Jv,"Ignoring outdated watch update for ",f,". Current version:",d.version," Watch version:",h.version)})),{ks:c,qs:o}}))}function NV(n,e){const t=Be(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=jv),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function MV(n,e){const t=Be(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return t.Pi.getTargetData(i,e).next((l=>l?(o=l,fe.resolve(o)):t.Pi.allocateTargetId(i).next((c=>(o=new so(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=t.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function Yy(n,e,t){const i=Be(n),o=i.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Xl(c))throw c;Se(Jv,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function XS(n,e,t){const i=Be(n);let o=Ve.min(),l=Je();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(h,d,v){const g=Be(h),_=g.xs.get(v);return _!==void 0?fe.resolve(g.Ms.get(_)):g.Pi.getTargetData(d,v)})(i,c,Ii(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,f.targetId).next((h=>{l=h}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,e,t?o:Ve.min(),t?l:Je()))).next((f=>(DV(i,y4(e),f),{documents:f,Qs:l})))))}function DV(n,e,t){let i=n.Os.get(e)||Ve.min();t.forEach(((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),n.Os.set(e,i)}class QS{constructor(){this.activeTargetIds=S4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OV{constructor(){this.Mo=new QS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new QS,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="ConnectivityMonitor";class ZS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Se(WS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Se(WS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lh=null;function Xy(){return Lh===null?Lh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Lh++,"0x"+Lh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy="RestConnection",kV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LV{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===Pd?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,t,i,o,l){const c=Xy(),f=this.zo(e,t.toUriEncodedString());Se(oy,`Sending RPC '${e}' ${c}:`,f,i);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,o,l);const{host:d}=new URL(f),v=ql(d);return this.Jo(e,f,h,i,v).then((g=>(Se(oy,`Received RPC '${e}' ${c}: `,g),g)),(g=>{throw Ll(oy,`RPC '${e}' ${c} failed with error: `,g,"url: ",f,"request:",i),g}))}Ho(e,t,i,o,l,c){return this.Go(e,t,i,o,l)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Kl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),i&&i.headers.forEach(((o,l)=>e[l]=o))}zo(e,t){const i=kV[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ln="WebChannelConnection";class UV extends LV{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,o,l){const c=Xy();return new Promise(((f,h)=>{const d=new xA;d.setWithCredentials(!0),d.listenOnce(RA.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case ed.NO_ERROR:const g=d.getResponseJson();Se(Ln,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(g)),f(g);break;case ed.TIMEOUT:Se(Ln,`RPC '${e}' ${c} timed out`),h(new be(ce.DEADLINE_EXCEEDED,"Request time out"));break;case ed.HTTP_ERROR:const _=d.getStatus();if(Se(Ln,`RPC '${e}' ${c} failed with status:`,_,"response text:",d.getResponseText()),_>0){let w=d.getResponseJson();Array.isArray(w)&&(w=w[0]);const T=w==null?void 0:w.error;if(T&&T.status&&T.message){const R=(function(k){const U=k.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(U)>=0?U:ce.UNKNOWN})(T.status);h(new be(R,T.message))}else h(new be(ce.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new be(ce.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{l_:e,streamId:c,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Se(Ln,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(o);Se(Ln,`RPC '${e}' ${c} sending request:`,o),d.send(t,"POST",v,i,15)}))}T_(e,t,i){const o=Xy(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=NA(),f=IA(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,t,i),h.encodeInitMessageHeaders=!0;const v=l.join("");Se(Ln,`Creating RPC '${e}' stream ${o}: ${v}`,h);const g=c.createWebChannel(v,h);this.I_(g);let _=!1,w=!1;const T=new VV({Yo:C=>{w?Se(Ln,`Not sending because RPC '${e}' stream ${o} is closed:`,C):(_||(Se(Ln,`Opening RPC '${e}' stream ${o} transport.`),g.open(),_=!0),Se(Ln,`RPC '${e}' stream ${o} sending:`,C),g.send(C))},Zo:()=>g.close()}),R=(C,k,U)=>{C.listen(k,(z=>{try{U(z)}catch(B){setTimeout((()=>{throw B}),0)}}))};return R(g,hu.EventType.OPEN,(()=>{w||(Se(Ln,`RPC '${e}' stream ${o} transport opened.`),T.o_())})),R(g,hu.EventType.CLOSE,(()=>{w||(w=!0,Se(Ln,`RPC '${e}' stream ${o} transport closed`),T.a_(),this.E_(g))})),R(g,hu.EventType.ERROR,(C=>{w||(w=!0,Ll(Ln,`RPC '${e}' stream ${o} transport errored. Name:`,C.name,"Message:",C.message),T.a_(new be(ce.UNAVAILABLE,"The operation could not be completed")))})),R(g,hu.EventType.MESSAGE,(C=>{var k;if(!w){const U=C.data[0];ft(!!U,16349);const z=U,B=(z==null?void 0:z.error)||((k=z[0])==null?void 0:k.error);if(B){Se(Ln,`RPC '${e}' stream ${o} received error:`,B);const $=B.status;let F=(function(M){const P=en[M];if(P!==void 0)return fx(P)})($),x=B.message;F===void 0&&(F=ce.INTERNAL,x="Unknown error status: "+$+" with message "+B.message),w=!0,T.a_(new be(F,x)),g.close()}else Se(Ln,`RPC '${e}' stream ${o} received:`,U),T.u_(U)}})),R(f,CA.STAT_EVENT,(C=>{C.stat===Ly.PROXY?Se(Ln,`RPC '${e}' stream ${o} detected buffering proxy`):C.stat===Ly.NOPROXY&&Se(Ln,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{T.__()}),0),T}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function ay(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(n){return new F4(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,t,i=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-i);o>0&&Se("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="PersistentStream";class xx{constructor(e,t,i,o,l,c,f,h){this.Mi=e,this.S_=i,this.b_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ax(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(ps(t.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===t&&this.G_(i,o)}),(i=>{e((()=>{const o=new be(ce.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Se(JS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Se(JS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zV extends xx{constructor(e,t,i,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=G4(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Ve.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ve.min():c.readTime?Ni(c.readTime):Ve.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=Ky(this.serializer),t.addTarget=(function(l,c){let f;const h=c.target;if(f=Fy(h)?{documents:Y4(l,h)}:{query:X4(l,h).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=mx(l,c.resumeToken);const d=qy(l,c.expectedCount);d!==null&&(f.expectedCount=d)}else if(c.snapshotVersion.compareTo(Ve.min())>0){f.readTime=jd(l,c.snapshotVersion.toTimestamp());const d=qy(l,c.expectedCount);d!==null&&(f.expectedCount=d)}return f})(this.serializer,e);const i=W4(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=Ky(this.serializer),t.removeTarget=e,this.q_(t)}}class jV extends xx{constructor(e,t,i,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=K4(e.writeResults,e.commitTime),i=Ni(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=Ky(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>$4(this.serializer,i)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{}class FV extends BV{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new be(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,Gy(t,i),o,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new be(ce.UNKNOWN,l.toString())}))}Ho(e,t,i,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(e,Gy(t,i),o,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new be(ce.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class HV{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ps(t),this.aa=!1):Se("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="RemoteStore";class qV{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{xa(this)&&(Se(ya,"Restarting streams for network reachability change."),await(async function(h){const d=Be(h);d.Ea.add(4),await Xu(d),d.Ra.set("Unknown"),d.Ea.delete(4),await bm(d)})(this))}))})),this.Ra=new HV(i,o)}}async function bm(n){if(xa(n))for(const e of n.da)await e(!0)}async function Xu(n){for(const e of n.da)await e(!1)}function Rx(n,e){const t=Be(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),r_(t)?n_(t):Wl(t).O_()&&t_(t,e))}function e_(n,e){const t=Be(n),i=Wl(t);t.Ia.delete(e),i.O_()&&Cx(t,e),t.Ia.size===0&&(i.O_()?i.L_():xa(t)&&t.Ra.set("Unknown"))}function t_(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Wl(n).Y_(e)}function Cx(n,e){n.Va.Ue(e),Wl(n).Z_(e)}function n_(n){n.Va=new U4({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Wl(n).start(),n.Ra.ua()}function r_(n){return xa(n)&&!Wl(n).x_()&&n.Ia.size>0}function xa(n){return Be(n).Ea.size===0}function Ix(n){n.Va=void 0}async function GV(n){n.Ra.set("Online")}async function $V(n){n.Ia.forEach(((e,t)=>{t_(n,e)}))}async function KV(n,e){Ix(n),r_(n)?(n.Ra.ha(e),n_(n)):n.Ra.set("Unknown")}async function YV(n,e,t){if(n.Ra.set("Online"),e instanceof dx&&e.state===2&&e.cause)try{await(async function(o,l){const c=l.cause;for(const f of l.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,c),o.Ia.delete(f),o.Va.removeTarget(f))})(n,e)}catch(i){Se(ya,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Fd(n,i)}else if(e instanceof id?n.Va.Ze(e):e instanceof hx?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ve.min()))try{const i=await Tx(n.localStore);t.compareTo(i)>=0&&await(function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach(((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const v=l.Ia.get(d);v&&l.Ia.set(d,v.withResumeToken(h.resumeToken,c))}})),f.targetMismatches.forEach(((h,d)=>{const v=l.Ia.get(h);if(!v)return;l.Ia.set(h,v.withResumeToken(Rn.EMPTY_BYTE_STRING,v.snapshotVersion)),Cx(l,h);const g=new so(v.target,h,d,v.sequenceNumber);t_(l,g)})),l.remoteSyncer.applyRemoteEvent(f)})(n,t)}catch(i){Se(ya,"Failed to raise snapshot:",i),await Fd(n,i)}}async function Fd(n,e,t){if(!Xl(e))throw e;n.Ea.add(1),await Xu(n),n.Ra.set("Offline"),t||(t=()=>Tx(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Se(ya,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await bm(n)}))}function Nx(n,e){return e().catch((t=>Fd(n,t,e)))}async function wm(n){const e=Be(n),t=_o(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:jv;for(;XV(e);)try{const o=await NV(e.localStore,i);if(o===null){e.Ta.length===0&&t.L_();break}i=o.batchId,QV(e,o)}catch(o){await Fd(e,o)}Mx(e)&&Dx(e)}function XV(n){return xa(n)&&n.Ta.length<10}function QV(n,e){n.Ta.push(e);const t=_o(n);t.O_()&&t.X_&&t.ea(e.mutations)}function Mx(n){return xa(n)&&!_o(n).x_()&&n.Ta.length>0}function Dx(n){_o(n).start()}async function WV(n){_o(n).ra()}async function ZV(n){const e=_o(n);for(const t of n.Ta)e.ea(t.mutations)}async function JV(n,e,t){const i=n.Ta.shift(),o=Kv.from(i,e,t);await Nx(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await wm(n)}async function e3(n,e){e&&_o(n).X_&&await(async function(i,o){if((function(c){return k4(c)&&c!==ce.ABORTED})(o.code)){const l=i.Ta.shift();_o(i).B_(),await Nx(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o))),await wm(i)}})(n,e),Mx(n)&&Dx(n)}async function e1(n,e){const t=Be(n);t.asyncQueue.verifyOperationInProgress(),Se(ya,"RemoteStore received new credentials");const i=xa(t);t.Ea.add(3),await Xu(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await bm(t)}async function t3(n,e){const t=Be(n);e?(t.Ea.delete(2),await bm(t)):e||(t.Ea.add(2),await Xu(t),t.Ra.set("Unknown"))}function Wl(n){return n.ma||(n.ma=(function(t,i,o){const l=Be(t);return l.sa(),new zV(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Xo:GV.bind(null,n),t_:$V.bind(null,n),r_:KV.bind(null,n),H_:YV.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),r_(n)?n_(n):n.Ra.set("Unknown")):(await n.ma.stop(),Ix(n))}))),n.ma}function _o(n){return n.fa||(n.fa=(function(t,i,o){const l=Be(t);return l.sa(),new jV(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:WV.bind(null,n),r_:e3.bind(null,n),ta:ZV.bind(null,n),na:JV.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await wm(n)):(await n.fa.stop(),n.Ta.length>0&&(Se(ya,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const c=Date.now()+i,f=new i_(e,t,c,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function s_(n,e){if(ps("AsyncQueue",`${e}: ${n}`),Xl(n))return new be(ce.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{static emptySet(e){return new Rl(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Me.comparator(t.key,i.key):(t,i)=>Me.comparator(t.key,i.key),this.keyedMap=du(),this.sortedSet=new kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Rl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Rl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(){this.ga=new kt(Me.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ke(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class Bl{constructor(e,t,i,o,l,c,f,h,d){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,t,i,o,l){const c=[];return t.forEach((f=>{c.push({type:0,doc:f})})),new Bl(e,t,Rl.emptySet(t),c,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class r3{constructor(){this.queries=n1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const o=Be(t),l=o.queries;o.queries=n1(),l.forEach(((c,f)=>{for(const h of f.Sa)h.onError(i)}))})(this,new be(ce.ABORTED,"Firestore shutting down"))}}function n1(){return new Ta((n=>ZA(n)),mm)}async function Ox(n,e){const t=Be(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(i=2):(l=new n3,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const f=s_(c,`Initialization of query '${bl(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&o_(t)}async function Px(n,e){const t=Be(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function i3(n,e){const t=Be(n);let i=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const f of c.Sa)f.Fa(o)&&(i=!0);c.wa=o}}i&&o_(t)}function s3(n,e,t){const i=Be(n),o=i.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);i.queries.delete(e)}function o_(n){n.Ca.forEach((e=>{e.next()}))}var Qy,r1;(r1=Qy||(Qy={})).Ma="default",r1.Cache="cache";class kx{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Bl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Bl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Qy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e){this.key=e}}class Vx{constructor(e){this.key=e}}class o3{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Je(),this.mutatedKeys=Je(),this.eu=JA(e),this.tu=new Rl(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new t1,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,f=!1;const h=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,d=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,g)=>{const _=o.get(v),w=pm(this.query,g)?g:null,T=!!_&&this.mutatedKeys.has(_.key),R=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let C=!1;_&&w?_.data.isEqual(w.data)?T!==R&&(i.track({type:3,doc:w}),C=!0):this.su(_,w)||(i.track({type:2,doc:w}),C=!0,(h&&this.eu(w,h)>0||d&&this.eu(w,d)<0)&&(f=!0)):!_&&w?(i.track({type:0,doc:w}),C=!0):_&&!w&&(i.track({type:1,doc:_}),C=!0,(h||d)&&(f=!0)),C&&(w?(c=c.add(w),l=R?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{tu:c,iu:i,Cs:f,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,g)=>(function(w,T){const R=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{Rt:C})}};return R(w)-R(T)})(v.type,g.type)||this.eu(v.doc,g.doc))),this.ou(i),o=o??!1;const f=t&&!o?this._u():[],h=this.Xa.size===0&&this.current&&!o?1:0,d=h!==this.Za;return this.Za=h,c.length!==0||d?{snapshot:new Bl(this.query,e.tu,l,c,e.mutatedKeys,h===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new t1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Je(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new Vx(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new Lx(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=Je();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Bl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const a_="SyncEngine";class a3{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class l3{constructor(e){this.key=e,this.hu=!1}}class c3{constructor(e,t,i,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ta((f=>ZA(f)),mm),this.Iu=new Map,this.Eu=new Set,this.du=new kt(Me.comparator),this.Au=new Map,this.Ru=new Qv,this.Vu={},this.mu=new Map,this.fu=jl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function u3(n,e,t=!0){const i=Hx(n);let o;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await Ux(i,e,t,!0),o}async function f3(n,e){const t=Hx(n);await Ux(t,e,!0,!1)}async function Ux(n,e,t,i){const o=await MV(n.localStore,Ii(e)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await h3(n,e,l,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&Rx(n.remoteStore,o),f}async function h3(n,e,t,i,o){n.pu=(g,_,w)=>(async function(R,C,k,U){let z=C.view.ru(k);z.Cs&&(z=await XS(R.localStore,C.query,!1).then((({documents:x})=>C.view.ru(x,z))));const B=U&&U.targetChanges.get(C.targetId),$=U&&U.targetMismatches.get(C.targetId)!=null,F=C.view.applyChanges(z,R.isPrimaryClient,B,$);return s1(R,C.targetId,F.au),F.snapshot})(n,g,_,w);const l=await XS(n.localStore,e,!0),c=new o3(e,l.Qs),f=c.ru(l.documents),h=Yu.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),d=c.applyChanges(f,n.isPrimaryClient,h);s1(n,t,d.au);const v=new a3(e,t,c);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot}async function d3(n,e,t){const i=Be(n),o=i.Tu.get(e),l=i.Iu.get(o.targetId);if(l.length>1)return i.Iu.set(o.targetId,l.filter((c=>!mm(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Yy(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),t&&e_(i.remoteStore,o.targetId),Wy(i,o.targetId)})).catch(Yl)):(Wy(i,o.targetId),await Yy(i.localStore,o.targetId,!0))}async function m3(n,e){const t=Be(n),i=t.Tu.get(e),o=t.Iu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),e_(t.remoteStore,i.targetId))}async function p3(n,e,t){const i=E3(n);try{const o=await(function(c,f){const h=Be(c),d=St.now(),v=f.reduce(((w,T)=>w.add(T.key)),Je());let g,_;return h.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let T=gs(),R=Je();return h.Ns.getEntries(w,v).next((C=>{T=C,T.forEach(((k,U)=>{U.isValidDocument()||(R=R.add(k))}))})).next((()=>h.localDocuments.getOverlayedDocuments(w,T))).next((C=>{g=C;const k=[];for(const U of f){const z=N4(U,g.get(U.key).overlayedDocument);z!=null&&k.push(new Aa(U.key,z,qA(z.value.mapValue),fs.exists(!0)))}return h.mutationQueue.addMutationBatch(w,d,k,f)})).next((C=>{_=C;const k=C.applyToLocalDocumentSet(g,R);return h.documentOverlayCache.saveOverlays(w,C.batchId,k)}))})).then((()=>({batchId:_.batchId,changes:tx(g)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(c,f,h){let d=c.Vu[c.currentUser.toKey()];d||(d=new kt(Ze)),d=d.insert(f,h),c.Vu[c.currentUser.toKey()]=d})(i,o.batchId,t),await Qu(i,o.changes),await wm(i.remoteStore)}catch(o){const l=s_(o,"Failed to persist write");t.reject(l)}}async function zx(n,e){const t=Be(n);try{const i=await CV(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const c=t.Au.get(l);c&&(ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?ft(c.hu,14607):o.removedDocuments.size>0&&(ft(c.hu,42227),c.hu=!1))})),await Qu(t,i,e)}catch(i){await Yl(i)}}function i1(n,e,t){const i=Be(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&o.push(f.snapshot)})),(function(c,f){const h=Be(c);h.onlineState=f;let d=!1;h.queries.forEach(((v,g)=>{for(const _ of g.Sa)_.va(f)&&(d=!0)})),d&&o_(h)})(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function g3(n,e,t){const i=Be(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Au.get(e),l=o&&o.key;if(l){let c=new kt(Me.comparator);c=c.insert(l,Un.newNoDocument(l,Ve.min()));const f=Je().add(l),h=new vm(Ve.min(),new Map,new kt(Ze),c,f);await zx(i,h),i.du=i.du.remove(l),i.Au.delete(e),l_(i)}else await Yy(i.localStore,e,!1).then((()=>Wy(i,e,t))).catch(Yl)}async function y3(n,e){const t=Be(n),i=e.batch.batchId;try{const o=await RV(t.localStore,e);Bx(t,i,null),jx(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Qu(t,o)}catch(o){await Yl(o)}}async function v3(n,e,t){const i=Be(n);try{const o=await(function(c,f){const h=Be(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let v;return h.mutationQueue.lookupMutationBatch(d,f).next((g=>(ft(g!==null,37113),v=g.keys(),h.mutationQueue.removeMutationBatch(d,g)))).next((()=>h.mutationQueue.performConsistencyCheck(d))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(d,v,f))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,v))).next((()=>h.localDocuments.getDocuments(d,v)))}))})(i.localStore,e);Bx(i,e,t),jx(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Qu(i,o)}catch(o){await Yl(o)}}function jx(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function Bx(n,e,t){const i=Be(n);let o=i.Vu[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function Wy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((i=>{n.Ru.containsKey(i)||Fx(n,i)}))}function Fx(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(e_(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),l_(n))}function s1(n,e,t){for(const i of t)i instanceof Lx?(n.Ru.addReference(i.key,e),_3(n,i)):i instanceof Vx?(Se(a_,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||Fx(n,i.key)):ke(19791,{wu:i})}function _3(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(Se(a_,"New document in limbo: "+t),n.Eu.add(i),l_(n))}function l_(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Me(At.fromString(e)),i=n.fu.next();n.Au.set(i,new l3(t)),n.du=n.du.insert(t,i),Rx(n.remoteStore,new so(Ii(Gv(t.path)),i,"TargetPurposeLimboResolution",fm.ce))}}async function Qu(n,e,t){const i=Be(n),o=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,h)=>{c.push(i.pu(h,e,t).then((d=>{var v;if((d||t)&&i.isPrimaryClient){const g=d?!d.fromCache:(v=t==null?void 0:t.targetChanges.get(h.targetId))==null?void 0:v.current;i.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(d){o.push(d);const g=Zv.As(h.targetId,d);l.push(g)}})))})),await Promise.all(c),i.Pu.H_(o),await(async function(h,d){const v=Be(h);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>fe.forEach(d,(_=>fe.forEach(_.Es,(w=>v.persistence.referenceDelegate.addReference(g,_.targetId,w))).next((()=>fe.forEach(_.ds,(w=>v.persistence.referenceDelegate.removeReference(g,_.targetId,w)))))))))}catch(g){if(!Xl(g))throw g;Se(Jv,"Failed to update sequence numbers: "+g)}for(const g of d){const _=g.targetId;if(!g.fromCache){const w=v.Ms.get(_),T=w.snapshotVersion,R=w.withLastLimboFreeSnapshotVersion(T);v.Ms=v.Ms.insert(_,R)}}})(i.localStore,l))}async function b3(n,e){const t=Be(n);if(!t.currentUser.isEqual(e)){Se(a_,"User change. New user:",e.toKey());const i=await Sx(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((f=>{f.forEach((h=>{h.reject(new be(ce.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Qu(t,i.Ls)}}function w3(n,e){const t=Be(n),i=t.Au.get(e);if(i&&i.hu)return Je().add(i.key);{let o=Je();const l=t.Iu.get(e);if(!l)return o;for(const c of l){const f=t.Tu.get(c);o=o.unionWith(f.view.nu)}return o}}function Hx(n){const e=Be(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=zx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=w3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=g3.bind(null,e),e.Pu.H_=i3.bind(null,e.eventManager),e.Pu.yu=s3.bind(null,e.eventManager),e}function E3(n){const e=Be(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=y3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=v3.bind(null,e),e}class Hd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_m(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return xV(this.persistence,new SV,e.initialUser,this.serializer)}Cu(e){return new Ex(Wv.mi,this.serializer)}Du(e){return new OV}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hd.provider={build:()=>new Hd};class S3 extends Hd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ft(this.persistence.referenceDelegate instanceof Bd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new lV(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?er.withCacheSize(this.cacheSizeBytes):er.DEFAULT;return new Ex((i=>Bd.mi(i,t)),this.serializer)}}class Zy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>i1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=b3.bind(null,this.syncEngine),await t3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new r3})()}createDatastore(e){const t=_m(e.databaseInfo.databaseId),i=(function(l){return new UV(l)})(e.databaseInfo);return(function(l,c,f,h){return new FV(l,c,f,h)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,o,l,c,f){return new qV(i,o,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>i1(this.syncEngine,t,0)),(function(){return ZS.v()?new ZS:new PV})())}createSyncEngine(e,t){return(function(o,l,c,f,h,d,v){const g=new c3(o,l,c,f,h,d);return v&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const l=Be(o);Se(ya,"RemoteStore shutting down."),l.Ea.add(5),await Xu(l),l.Aa.shutdown(),l.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}Zy.provider={build:()=>new Zy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ps("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo="FirestoreClient";class T3{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Vn.UNAUTHENTICATED,this.clientId=zv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{Se(bo,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(Se(bo,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=s_(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function ly(n,e){n.asyncQueue.verifyOperationInProgress(),Se(bo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async o=>{i.isEqual(o)||(await Sx(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function o1(n,e){n.asyncQueue.verifyOperationInProgress();const t=await A3(n);Se(bo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>e1(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,o)=>e1(e.remoteStore,o))),n._onlineComponents=e}async function A3(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Se(bo,"Using user provided OfflineComponentProvider");try{await ly(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ce.FAILED_PRECONDITION||o.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Ll("Error using user provided cache. Falling back to memory cache: "+t),await ly(n,new Hd)}}else Se(bo,"Using default OfflineComponentProvider"),await ly(n,new S3(void 0));return n._offlineComponents}async function Gx(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Se(bo,"Using user provided OnlineComponentProvider"),await o1(n,n._uninitializedComponentsProvider._online)):(Se(bo,"Using default OnlineComponentProvider"),await o1(n,new Zy))),n._onlineComponents}function x3(n){return Gx(n).then((e=>e.syncEngine))}async function $x(n){const e=await Gx(n),t=e.eventManager;return t.onListen=u3.bind(null,e.syncEngine),t.onUnlisten=d3.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=f3.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=m3.bind(null,e.syncEngine),t}function R3(n,e,t={}){const i=new us;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,h,d){const v=new qx({next:_=>{v.Nu(),c.enqueueAndForget((()=>Px(l,g)));const w=_.docs.has(f);!w&&_.fromCache?d.reject(new be(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&_.fromCache&&h&&h.source==="server"?d.reject(new be(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(_)},error:_=>d.reject(_)}),g=new kx(Gv(f.path),v,{includeMetadataChanges:!0,qa:!0});return Ox(l,g)})(await $x(n),n.asyncQueue,e,t,i))),i.promise}function C3(n,e,t={}){const i=new us;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,h,d){const v=new qx({next:_=>{v.Nu(),c.enqueueAndForget((()=>Px(l,g))),_.fromCache&&h.source==="server"?d.reject(new be(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(_)},error:_=>d.reject(_)}),g=new kx(f,v,{includeMetadataChanges:!0,qa:!0});return Ox(l,g)})(await $x(n),n.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx="firestore.googleapis.com",l1=!0;class c1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new be(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Yx,this.ssl=l1}else this.host=e.host,this.ssl=e.ssl??l1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oV)throw new be(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Kx(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new be(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new be(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new be(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Em{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new c1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new c1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new PL;switch(i.type){case"firstParty":return new UL(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new be(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=a1.get(t);i&&(Se("ComponentProvider","Removing Datastore"),a1.delete(t),i.terminate())})(this),Promise.resolve()}}function I3(n,e,t,i={}){var d;n=ga(n,Em);const o=ql(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},f=`${e}:${t}`;o&&(BT(`https://${f}`),FT("Firestore",!0)),l.host!==Yx&&l.host!==f&&Ll("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...l,host:f,ssl:o,emulatorOptions:i};if(!ha(h,c)&&(n._setSettings(h),i.mockUserToken)){let v,g;if(typeof i.mockUserToken=="string")v=i.mockUserToken,g=Vn.MOCK_USER;else{v=oO(i.mockUserToken,(d=n._app)==null?void 0:d.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new be(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Vn(_)}n._authCredentials=new kL(new DA(v,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new So(this.firestore,e,this._query)}}class rn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ho(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}toJSON(){return{type:rn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if($u(t,rn._jsonSchema))return new rn(e,i||null,new Me(At.fromString(t.referencePath)))}}rn._jsonSchemaVersion="firestore/documentReference/1.0",rn._jsonSchema={type:nn("string",rn._jsonSchemaVersion),referencePath:nn("string")};class ho extends So{constructor(e,t,i){super(e,t,Gv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new Me(e))}withConverter(e){return new ho(this.firestore,e,this._path)}}function u1(n,e,...t){if(n=nr(n),OA("collection","path",e),n instanceof Em){const i=At.fromString(e,...t);return ES(i),new ho(n,null,i)}{if(!(n instanceof rn||n instanceof ho))throw new be(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(At.fromString(e,...t));return ES(i),new ho(n.firestore,null,i)}}function Vh(n,e,...t){if(n=nr(n),arguments.length===1&&(e=zv.newId()),OA("doc","path",e),n instanceof Em){const i=At.fromString(e,...t);return wS(i),new rn(n,null,new Me(i))}{if(!(n instanceof rn||n instanceof ho))throw new be(ce.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(At.fromString(e,...t));return wS(i),new rn(n.firestore,n instanceof ho?n.converter:null,new Me(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="AsyncQueue";class h1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ax(this,"async_queue_retry"),this._c=()=>{const i=ay();i&&Se(f1,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=ay();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=ay();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new us;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Xl(e))throw e;Se(f1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,ps("INTERNAL UNHANDLED ERROR: ",d1(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=i_.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&ke(47125,{Pc:d1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function d1(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Sm extends Em{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new h1,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new h1(e),this._firestoreClient=void 0,await e}}}function N3(n,e){const t=typeof n=="object"?n:$T(),i=typeof n=="string"?n:Pd,o=Rv(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=iO("firestore");l&&I3(o,...l)}return o}function c_(n){if(n._terminated)throw new be(ce.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||M3(n),n._firestoreClient}function M3(n){var i,o,l;const e=n._freezeSettings(),t=(function(f,h,d,v){return new t4(f,h,d,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,Kx(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(n._databaseId,((i=n._app)==null?void 0:i.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new T3(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(f){const h=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(h),_online:h}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vr(Rn.fromBase64String(e))}catch(t){throw new be(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Vr(Rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($u(e,Vr._jsonSchema))return Vr.fromBase64String(e.bytes)}}Vr._jsonSchemaVersion="firestore/bytes/1.0",Vr._jsonSchema={type:nn("string",Vr._jsonSchemaVersion),bytes:nn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new be(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function m1(){return new Tm(Uy)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new be(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new be(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(e){if($u(e,Mi._jsonSchema))return new Mi(e.latitude,e.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:nn("string",Mi._jsonSchemaVersion),latitude:nn("number"),longitude:nn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($u(e,Di._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Di(e.vectorValues);throw new be(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Di._jsonSchemaVersion="firestore/vectorValue/1.0",Di._jsonSchema={type:nn("string",Di._jsonSchemaVersion),vectorValues:nn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3=/^__.*__$/;class O3{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Aa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ku(e,this.data,t,this.fieldTransforms)}}function Qx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{Ac:n})}}class u_{constructor(e,t,i,o,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new u_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return qd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Qx(this.Ac)&&D3.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class P3{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||_m(e)}Cc(e,t,i,o=!1){return new u_({Ac:e,methodName:t,Dc:i,path:xn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wx(n){const e=n._freezeSettings(),t=_m(n._databaseId);return new P3(n._databaseId,!!e.ignoreUndefinedProperties,t)}function k3(n,e,t,i,o,l={}){const c=n.Cc(l.merge||l.mergeFields?2:0,e,t,o);eR("Data must be an object, but it was:",c,i);const f=Zx(i,c);let h,d;if(l.merge)h=new Jr(c.fieldMask),d=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const g of l.mergeFields){const _=V3(e,g,t);if(!c.contains(_))throw new be(ce.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);z3(v,_)||v.push(_)}h=new Jr(v),d=c.fieldTransforms.filter((g=>h.covers(g.field)))}else h=null,d=c.fieldTransforms;return new O3(new Lr(f),h,d)}function L3(n,e,t,i=!1){return f_(t,n.Cc(i?4:3,e))}function f_(n,e){if(Jx(n=nr(n)))return eR("Unsupported field value:",e,n),Zx(n,e);if(n instanceof Xx)return(function(i,o){if(!Qx(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,o){const l=[];let c=0;for(const f of i){let h=f_(f,o.wc(c));h==null&&(h={nullValue:"NULL_VALUE"}),l.push(h),c++}return{arrayValue:{values:l}}})(n,e)}return(function(i,o){if((i=nr(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return T4(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=St.fromDate(i);return{timestampValue:jd(o.serializer,l)}}if(i instanceof St){const l=new St(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:jd(o.serializer,l)}}if(i instanceof Mi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Vr)return{bytesValue:mx(o.serializer,i._byteString)};if(i instanceof rn){const l=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Xv(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Di)return(function(c,f){return{mapValue:{fields:{[FA]:{stringValue:HA},[kd]:{arrayValue:{values:c.toArray().map((d=>{if(typeof d!="number")throw f.Sc("VectorValues must only contain numeric values.");return $v(f.serializer,d)}))}}}}}})(i,o);throw o.Sc(`Unsupported field value: ${um(i)}`)})(n,e)}function Zx(n,e){const t={};return LA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sa(n,((i,o)=>{const l=f_(o,e.mc(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function Jx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof St||n instanceof Mi||n instanceof Vr||n instanceof rn||n instanceof Xx||n instanceof Di)}function eR(n,e,t){if(!Jx(t)||!PA(t)){const i=um(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function V3(n,e,t){if((e=nr(e))instanceof Tm)return e._internalPath;if(typeof e=="string")return tR(n,e);throw qd("Field path arguments must be of type string or ",n,!1,void 0,t)}const U3=new RegExp("[~\\*/\\[\\]]");function tR(n,e,t){if(e.search(U3)>=0)throw qd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Tm(...e.split("."))._internalPath}catch{throw qd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function qd(n,e,t,i,o){const l=i&&!i.isEmpty(),c=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let h="";return(l||c)&&(h+=" (found",l&&(h+=` in field ${i}`),c&&(h+=` in document ${o}`),h+=")"),new be(ce.INVALID_ARGUMENT,f+n+h)}function z3(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new j3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Am("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class j3 extends nR{data(){return super.data()}}function Am(n,e){return typeof e=="string"?tR(n,e):e instanceof Tm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new be(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class h_{}class d_ extends h_{}function p1(n,e,...t){let i=[];e instanceof h_&&i.push(e),i=i.concat(t),(function(l){const c=l.filter((h=>h instanceof m_)).length,f=l.filter((h=>h instanceof xm)).length;if(c>1||c>0&&f>0)throw new be(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)n=o._apply(n);return n}class xm extends d_{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new xm(e,t,i)}_apply(e){const t=this._parse(e);return rR(e._query,t),new So(e.firestore,e.converter,Hy(e._query,t))}_parse(e){const t=Wx(e.firestore);return(function(l,c,f,h,d,v,g){let _;if(d.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new be(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){y1(g,v);const T=[];for(const R of g)T.push(g1(h,l,R));_={arrayValue:{values:T}}}else _=g1(h,l,g)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||y1(g,v),_=L3(f,c,g,v==="in"||v==="not-in");return tn.create(d,v,_)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function cy(n,e,t){const i=e,o=Am("where",n);return xm._create(o,i,t)}class m_ extends h_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new m_(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:ti.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,l){let c=o;const f=l.getFlattenedFilters();for(const h of f)rR(c,h),c=Hy(c,h)})(e._query,t),new So(e.firestore,e.converter,Hy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class p_ extends d_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new p_(e,t)}_apply(e){const t=(function(o,l,c){if(o.startAt!==null)throw new be(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new be(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Pu(l,c)})(e._query,this._field,this._direction);return new So(e.firestore,e.converter,(function(o,l){const c=o.explicitOrderBy.concat([l]);return new Ql(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function F3(n,e="asc"){const t=e,i=Am("orderBy",n);return p_._create(i,t)}class g_ extends d_{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new g_(e,t,i)}_apply(e){return new So(e.firestore,e.converter,Vd(e._query,this._limit,this._limitType))}}function H3(n){return g_._create("limit",n,"F")}function g1(n,e,t){if(typeof(t=nr(t))=="string"){if(t==="")throw new be(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WA(e)&&t.indexOf("/")!==-1)throw new be(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(At.fromString(t));if(!Me.isDocumentKey(i))throw new be(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return NS(n,new Me(i))}if(t instanceof rn)return NS(n,t._key);throw new be(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${um(t)}.`)}function y1(n,e){if(!Array.isArray(n)||n.length===0)throw new be(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rR(n,e){const t=(function(o,l){for(const c of o)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new be(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class q3{convertValue(e,t="none"){switch(vo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(yo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ke(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Sa(e,((o,l)=>{i[o]=this.convertValue(l,t)})),i}convertVectorValue(e){var i,o,l;const t=(l=(o=(i=e.fields)==null?void 0:i[kd].arrayValue)==null?void 0:o.values)==null?void 0:l.map((c=>qt(c.doubleValue)));return new Di(t)}convertGeoPoint(e){return new Mi(qt(e.latitude),qt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=dm(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Mu(e));default:return null}}convertTimestamp(e){const t=go(e);return new St(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=At.fromString(e);ft(bx(i),9688,{name:e});const o=new Du(i.get(1),i.get(3)),l=new Me(i.popFirst(5));return o.isEqual(t)||ps(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G3(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class pu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class la extends nR{constructor(e,t,i,o,l,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new sd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Am("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=la._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}la._jsonSchemaVersion="firestore/documentSnapshot/1.0",la._jsonSchema={type:nn("string",la._jsonSchemaVersion),bundleSource:nn("string","DocumentSnapshot"),bundleName:nn("string"),bundle:nn("string")};class sd extends la{data(e={}){return super.data(e)}}class Cl{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new pu(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new sd(this._firestore,this._userDataWriter,i.key,i,new pu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new be(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((f=>{const h=new sd(o._firestore,o._userDataWriter,f.doc.key,f.doc,new pu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const h=new sd(o._firestore,o._userDataWriter,f.doc.key,f.doc,new pu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let d=-1,v=-1;return f.type!==0&&(d=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),v=c.indexOf(f.doc.key)),{type:$3(f.type),doc:h,oldIndex:d,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Cl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=zv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(n){n=ga(n,rn);const e=ga(n.firestore,Sm);return R3(c_(e),n._key).then((t=>Y3(e,n,t)))}Cl._jsonSchemaVersion="firestore/querySnapshot/1.0",Cl._jsonSchema={type:nn("string",Cl._jsonSchemaVersion),bundleSource:nn("string","QuerySnapshot"),bundleName:nn("string"),bundle:nn("string")};class iR extends q3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,t)}}function _1(n){n=ga(n,So);const e=ga(n.firestore,Sm),t=c_(e),i=new iR(e);return B3(n._query),C3(t,n._query).then((o=>new Cl(e,i,n,o)))}function Uh(n,e,t){n=ga(n,rn);const i=ga(n.firestore,Sm),o=G3(n.converter,e,t);return K3(i,[k3(Wx(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,fs.none())])}function K3(n,e){return(function(i,o){const l=new us;return i.asyncQueue.enqueueAndForget((async()=>p3(await x3(i),o,l))),l.promise})(c_(n),e)}function Y3(n,e,t){const i=t.docs.get(e._key),o=new iR(n);return new la(n,o,e._key,i,new pu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Kl=o})(Gl),Pl(new da("firestore",((i,{instanceIdentifier:o,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new Sm(new LL(i.getProvider("auth-internal")),new zL(c,i.getProvider("app-check-internal")),(function(d,v){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new be(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Du(d.options.projectId,v)})(c,o),c);return l={useFetchStreams:t,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),uo(vS,_S,e),uo(vS,_S,"esm2020")})();var X3="firebase",Q3="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */uo(X3,Q3,"app");const W3={VITE_FIREBASE_API_KEY:"AIzaSyCTtoqZae_UoKY0fTb9yKs-KxFb-XPNy_Y",VITE_FIREBASE_APP_ID:"1:972437577186:web:ad49bdfcef4e0a5b9a2dbb",VITE_FIREBASE_AUTH_DOMAIN:"edwardscamera-infinisweeper.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"972437577186",VITE_FIREBASE_PROJECT_ID:"edwardscamera-infinisweeper",VITE_FIREBASE_STORAGE_BUCKET:"edwardscamera-infinisweeper.firebasestorage.app"},{VITE_FIREBASE_API_KEY:Z3,VITE_FIREBASE_AUTH_DOMAIN:J3,VITE_FIREBASE_PROJECT_ID:e6,VITE_FIREBASE_STORAGE_BUCKET:t6,VITE_FIREBASE_MESSAGING_SENDER_ID:n6,VITE_FIREBASE_APP_ID:r6}=W3,sR=GT({apiKey:Z3,authDomain:J3,projectId:e6,storageBucket:t6,messagingSenderId:n6,appId:r6}),uy=DL(sR),dl=N3(sR),oR=I.createContext(void 0),Wu=()=>{const n=I.use(oR);if(!n)throw new Error("useDb must be used within a DbProvider");return n},i6=({children:n})=>{const[e,t]=I.useState(null),[i,o]=I.useState(null);I.useEffect(()=>{const c=bk(uy,async f=>{var h;if(t(f),f){const d=Vh(dl,"users",f.uid);try{const v=await v1(d);if(v.exists())o(((h=v.data())==null?void 0:h.username)??null);else{const g=f.displayName||"Anonymous";await Uh(d,{createdAt:St.now(),username:g}),o(g)}}catch{as.error("Failed to fetch user data!")}}else o(null)});return()=>c()},[]);const l={user:e,name:i,login:async()=>{const c=new os;await Bk(uy,c)},logout:async()=>{await wk(uy)},updateName:async c=>{if(!e)return;const f=Vh(dl,"users",e.uid);await Uh(f,{username:c},{merge:!0});const h=u1(dl,"scores"),d=p1(h,cy(m1(),">=",`${e.uid}_`),cy(m1(),"<=",`${e.uid}_`)),v=await _1(d);await Promise.all(v.docs.map(g=>Uh(g.ref,{username:c},{merge:!0}))),o(c)},getScoreboard:async()=>{const c=[{id:"classic",label:"Classic"}],f={};return await Promise.all(c.map(async({id:h,label:d})=>{const v=p1(u1(dl,"scores"),cy("mode","==",h),F3("score","desc"),H3(10)),g=await _1(v);f[d]=g.docs.map(_=>({name:_.data().username,score:_.data().score,game_type:d}))})),f},submitScore:async(c,f)=>{if(!e||!i)return;const h=`${e.uid}_${f}`,d=Vh(dl,"scores",h);await Uh(d,{score:c,username:i,mode:f,updatedAt:St.now()})},fetchHighScore:async c=>{if(!e)return null;const f=`${e.uid}_${c}`,h=Vh(dl,"scores",f),d=await v1(h);return d.exists()?d.data().score:null}};return N.jsx(oR.Provider,{value:l,children:n})},Gd=new AudioContext,$d=Gd.createGain();$d.gain.value=1;$d.connect(Gd.destination);const b1={},zh={};let w1=3;const Jo={async loadAudios(n){for(const[e,t]of Object.entries(n)){const o=await(await fetch(t)).arrayBuffer(),l=await Gd.decodeAudioData(o);b1[e]=l,zh[e]=new Set}},play(n,e=1){const t=b1[n];if(!t){console.warn(`Audio "${n}" not loaded.`);return}const i=zh[n];if(i.size>=w1)return;const o=Gd.createBufferSource();o.buffer=t,o.playbackRate.value=e,o.connect($d),o.start(),i.add(o),o.onended=()=>i.delete(o)},setMaxInstances(n,e){zh[n]||(zh[n]=new Set),w1=e},setVolume(n){$d.gain.value=n}};var od={exports:{}},s6=od.exports,E1;function o6(){return E1||(E1=1,(function(n){(function(e,t,i){function o(h){var d=this,v=f();d.next=function(){var g=2091639*d.s0+d.c*23283064365386963e-26;return d.s0=d.s1,d.s1=d.s2,d.s2=g-(d.c=g|0)},d.c=1,d.s0=v(" "),d.s1=v(" "),d.s2=v(" "),d.s0-=v(h),d.s0<0&&(d.s0+=1),d.s1-=v(h),d.s1<0&&(d.s1+=1),d.s2-=v(h),d.s2<0&&(d.s2+=1),v=null}function l(h,d){return d.c=h.c,d.s0=h.s0,d.s1=h.s1,d.s2=h.s2,d}function c(h,d){var v=new o(h),g=d&&d.state,_=v.next;return _.int32=function(){return v.next()*4294967296|0},_.double=function(){return _()+(_()*2097152|0)*11102230246251565e-32},_.quick=_,g&&(typeof g=="object"&&l(g,v),_.state=function(){return l(v,{})}),_}function f(){var h=4022871197,d=function(v){v=String(v);for(var g=0;g<v.length;g++){h+=v.charCodeAt(g);var _=.02519603282416938*h;h=_>>>0,_-=h,_*=h,h=_>>>0,_-=h,h+=_*4294967296}return(h>>>0)*23283064365386963e-26};return d}t&&t.exports?t.exports=c:this.alea=c})(s6,n)})(od)),od.exports}var ad={exports:{}},a6=ad.exports,S1;function l6(){return S1||(S1=1,(function(n){(function(e,t,i){function o(f){var h=this,d="";h.x=0,h.y=0,h.z=0,h.w=0,h.next=function(){var g=h.x^h.x<<11;return h.x=h.y,h.y=h.z,h.z=h.w,h.w^=h.w>>>19^g^g>>>8},f===(f|0)?h.x=f:d+=f;for(var v=0;v<d.length+64;v++)h.x^=d.charCodeAt(v)|0,h.next()}function l(f,h){return h.x=f.x,h.y=f.y,h.z=f.z,h.w=f.w,h}function c(f,h){var d=new o(f),v=h&&h.state,g=function(){return(d.next()>>>0)/4294967296};return g.double=function(){do var _=d.next()>>>11,w=(d.next()>>>0)/4294967296,T=(_+w)/(1<<21);while(T===0);return T},g.int32=d.next,g.quick=g,v&&(typeof v=="object"&&l(v,d),g.state=function(){return l(d,{})}),g}t&&t.exports?t.exports=c:this.xor128=c})(a6,n)})(ad)),ad.exports}var ld={exports:{}},c6=ld.exports,T1;function u6(){return T1||(T1=1,(function(n){(function(e,t,i){function o(f){var h=this,d="";h.next=function(){var g=h.x^h.x>>>2;return h.x=h.y,h.y=h.z,h.z=h.w,h.w=h.v,(h.d=h.d+362437|0)+(h.v=h.v^h.v<<4^(g^g<<1))|0},h.x=0,h.y=0,h.z=0,h.w=0,h.v=0,f===(f|0)?h.x=f:d+=f;for(var v=0;v<d.length+64;v++)h.x^=d.charCodeAt(v)|0,v==d.length&&(h.d=h.x<<10^h.x>>>4),h.next()}function l(f,h){return h.x=f.x,h.y=f.y,h.z=f.z,h.w=f.w,h.v=f.v,h.d=f.d,h}function c(f,h){var d=new o(f),v=h&&h.state,g=function(){return(d.next()>>>0)/4294967296};return g.double=function(){do var _=d.next()>>>11,w=(d.next()>>>0)/4294967296,T=(_+w)/(1<<21);while(T===0);return T},g.int32=d.next,g.quick=g,v&&(typeof v=="object"&&l(v,d),g.state=function(){return l(d,{})}),g}t&&t.exports?t.exports=c:this.xorwow=c})(c6,n)})(ld)),ld.exports}var cd={exports:{}},f6=cd.exports,A1;function h6(){return A1||(A1=1,(function(n){(function(e,t,i){function o(f){var h=this;h.next=function(){var v=h.x,g=h.i,_,w;return _=v[g],_^=_>>>7,w=_^_<<24,_=v[g+1&7],w^=_^_>>>10,_=v[g+3&7],w^=_^_>>>3,_=v[g+4&7],w^=_^_<<7,_=v[g+7&7],_=_^_<<13,w^=_^_<<9,v[g]=w,h.i=g+1&7,w};function d(v,g){var _,w=[];if(g===(g|0))w[0]=g;else for(g=""+g,_=0;_<g.length;++_)w[_&7]=w[_&7]<<15^g.charCodeAt(_)+w[_+1&7]<<13;for(;w.length<8;)w.push(0);for(_=0;_<8&&w[_]===0;++_);for(_==8?w[7]=-1:w[_],v.x=w,v.i=0,_=256;_>0;--_)v.next()}d(h,f)}function l(f,h){return h.x=f.x.slice(),h.i=f.i,h}function c(f,h){f==null&&(f=+new Date);var d=new o(f),v=h&&h.state,g=function(){return(d.next()>>>0)/4294967296};return g.double=function(){do var _=d.next()>>>11,w=(d.next()>>>0)/4294967296,T=(_+w)/(1<<21);while(T===0);return T},g.int32=d.next,g.quick=g,v&&(v.x&&l(v,d),g.state=function(){return l(d,{})}),g}t&&t.exports?t.exports=c:this.xorshift7=c})(f6,n)})(cd)),cd.exports}var ud={exports:{}},d6=ud.exports,x1;function m6(){return x1||(x1=1,(function(n){(function(e,t,i){function o(f){var h=this;h.next=function(){var v=h.w,g=h.X,_=h.i,w,T;return h.w=v=v+1640531527|0,T=g[_+34&127],w=g[_=_+1&127],T^=T<<13,w^=w<<17,T^=T>>>15,w^=w>>>12,T=g[_]=T^w,h.i=_,T+(v^v>>>16)|0};function d(v,g){var _,w,T,R,C,k=[],U=128;for(g===(g|0)?(w=g,g=null):(g=g+"\0",w=0,U=Math.max(U,g.length)),T=0,R=-32;R<U;++R)g&&(w^=g.charCodeAt((R+32)%g.length)),R===0&&(C=w),w^=w<<10,w^=w>>>15,w^=w<<4,w^=w>>>13,R>=0&&(C=C+1640531527|0,_=k[R&127]^=w+C,T=_==0?T+1:0);for(T>=128&&(k[(g&&g.length||0)&127]=-1),T=127,R=512;R>0;--R)w=k[T+34&127],_=k[T=T+1&127],w^=w<<13,_^=_<<17,w^=w>>>15,_^=_>>>12,k[T]=w^_;v.w=C,v.X=k,v.i=T}d(h,f)}function l(f,h){return h.i=f.i,h.w=f.w,h.X=f.X.slice(),h}function c(f,h){f==null&&(f=+new Date);var d=new o(f),v=h&&h.state,g=function(){return(d.next()>>>0)/4294967296};return g.double=function(){do var _=d.next()>>>11,w=(d.next()>>>0)/4294967296,T=(_+w)/(1<<21);while(T===0);return T},g.int32=d.next,g.quick=g,v&&(v.X&&l(v,d),g.state=function(){return l(d,{})}),g}t&&t.exports?t.exports=c:this.xor4096=c})(d6,n)})(ud)),ud.exports}var fd={exports:{}},p6=fd.exports,R1;function g6(){return R1||(R1=1,(function(n){(function(e,t,i){function o(f){var h=this,d="";h.next=function(){var g=h.b,_=h.c,w=h.d,T=h.a;return g=g<<25^g>>>7^_,_=_-w|0,w=w<<24^w>>>8^T,T=T-g|0,h.b=g=g<<20^g>>>12^_,h.c=_=_-w|0,h.d=w<<16^_>>>16^T,h.a=T-g|0},h.a=0,h.b=0,h.c=-1640531527,h.d=1367130551,f===Math.floor(f)?(h.a=f/4294967296|0,h.b=f|0):d+=f;for(var v=0;v<d.length+20;v++)h.b^=d.charCodeAt(v)|0,h.next()}function l(f,h){return h.a=f.a,h.b=f.b,h.c=f.c,h.d=f.d,h}function c(f,h){var d=new o(f),v=h&&h.state,g=function(){return(d.next()>>>0)/4294967296};return g.double=function(){do var _=d.next()>>>11,w=(d.next()>>>0)/4294967296,T=(_+w)/(1<<21);while(T===0);return T},g.int32=d.next,g.quick=g,v&&(typeof v=="object"&&l(v,d),g.state=function(){return l(d,{})}),g}t&&t.exports?t.exports=c:this.tychei=c})(p6,n)})(fd)),fd.exports}var hd={exports:{}};const y6={},v6=Object.freeze(Object.defineProperty({__proto__:null,default:y6},Symbol.toStringTag,{value:"Module"})),_6=z2(v6);var b6=hd.exports,C1;function w6(){return C1||(C1=1,(function(n){(function(e,t,i){var o=256,l=6,c=52,f="random",h=i.pow(o,l),d=i.pow(2,c),v=d*2,g=o-1,_;function w(B,$,F){var x=[];$=$==!0?{entropy:!0}:$||{};var A=k(C($.entropy?[B,z(t)]:B??U(),3),x),M=new T(x),P=function(){for(var O=M.g(l),j=h,L=0;O<d;)O=(O+L)*o,j*=o,L=M.g(1);for(;O>=v;)O/=2,j/=2,L>>>=1;return(O+L)/j};return P.int32=function(){return M.g(4)|0},P.quick=function(){return M.g(4)/4294967296},P.double=P,k(z(M.S),t),($.pass||F||function(O,j,L,he){return he&&(he.S&&R(he,M),O.state=function(){return R(M,{})}),L?(i[f]=O,j):O})(P,A,"global"in $?$.global:this==i,$.state)}function T(B){var $,F=B.length,x=this,A=0,M=x.i=x.j=0,P=x.S=[];for(F||(B=[F++]);A<o;)P[A]=A++;for(A=0;A<o;A++)P[A]=P[M=g&M+B[A%F]+($=P[A])],P[M]=$;(x.g=function(O){for(var j,L=0,he=x.i,pe=x.j,H=x.S;O--;)j=H[he=g&he+1],L=L*o+H[g&(H[he]=H[pe=g&pe+j])+(H[pe]=j)];return x.i=he,x.j=pe,L})(o)}function R(B,$){return $.i=B.i,$.j=B.j,$.S=B.S.slice(),$}function C(B,$){var F=[],x=typeof B,A;if($&&x=="object")for(A in B)try{F.push(C(B[A],$-1))}catch{}return F.length?F:x=="string"?B:B+"\0"}function k(B,$){for(var F=B+"",x,A=0;A<F.length;)$[g&A]=g&(x^=$[g&A]*19)+F.charCodeAt(A++);return z($)}function U(){try{var B;return _&&(B=_.randomBytes)?B=B(o):(B=new Uint8Array(o),(e.crypto||e.msCrypto).getRandomValues(B)),z(B)}catch{var $=e.navigator,F=$&&$.plugins;return[+new Date,e,F,e.screen,z(t)]}}function z(B){return String.fromCharCode.apply(0,B)}if(k(i.random(),t),n.exports){n.exports=w;try{_=_6}catch{}}else i["seed"+f]=w})(typeof self<"u"?self:b6,[],Math)})(hd)),hd.exports}var fy,I1;function E6(){if(I1)return fy;I1=1;var n=o6(),e=l6(),t=u6(),i=h6(),o=m6(),l=g6(),c=w6();return c.alea=n,c.xor128=e,c.xorwow=t,c.xorshift7=i,c.xor4096=o,c.tychei=l,fy=c,fy}var S6=E6();const T6=fv(S6);class Jy{constructor(e,t,i=null){st(this,"velocity",{x:(Math.random()*2-1)/20,y:0});st(this,"size",{x:1,y:1});st(this,"angle",0);this.position=e,this.color=t,this.image=i}update(){this.position.x+=this.velocity.x,this.position.y+=this.velocity.y,this.velocity.y+=.01,this.angle+=this.velocity.y}render(e){e.save(),e.translate(this.position.x+this.size.x/2,this.position.y+this.size.y/2),e.rotate(this.angle),this.image?e.drawImage(this.image,-this.size.x/2,-this.size.y/2,this.size.x,this.size.y):(e.fillStyle=this.color,e.fillRect(-this.size.x/2,-this.size.y/2,this.size.x,this.size.y)),e.restore()}}class A6{constructor(){st(this,"entities",[])}add(e){this.entities.push({particle:e,deathTime:performance.now()+3e3})}update(){this.entities=this.entities.filter(e=>e.deathTime>performance.now());for(const e of this.entities)e.particle.update()}render(e){for(const t of this.entities)t.particle.render(e)}clear(){this.entities=[]}explode(e,t){for(let i=0;i<250;i++){const o=["red","yellow","orange"],l=o[Math.floor(Math.random()*o.length)],c=new Jy({x:e+Math.random(),y:t+Math.random()},l),f=Math.random()*.25+.25,h=Math.random()*2*Math.PI,d=Math.random()*.5;c.size={x:f,y:f},c.velocity={x:Math.cos(h)*d,y:Math.sin(h)*d},this.add(c)}}popFlag(e){const t=Sl.get("flag");this.add(new Jy(e,"#f00",t))}}const x6={1:"#1977D3",2:"#3B8E3F",3:"#D53734",4:"#7A1EA2",5:"#FF8F00",6:"#159AA4",7:"#434343",8:"#A99D93"};class Ti{constructor(e,t,i,o){st(this,"tilesRevealed",0);st(this,"tilesFlagged",0);st(this,"game");st(this,"board",new Map);st(this,"particleManager",new A6);st(this,"bombChance",.18);st(this,"borderThickness",.1);st(this,"seed");st(this,"eventQueue",[]);if(this.bombChance=t??this.bombChance,this.seed=i??Date.now(),this.game=e,o){for(const l of o){const[c,f]=Ti.getKey(l.replace(".",","));let h=1;l.includes(",")&&(h=0,this.tilesRevealed++),l.includes(".")&&(h=2,this.tilesFlagged++),this.updateTile([c,f],{state:h,interactedAt:-1e3})}this.updateStats()}}static getAddress(e){return`${e[0]},${e[1]}`}static getKey(e){const[t,i]=e.split(",").map(Number);return[t,i]}generate(e){const t=this.board.get(Ti.getAddress(e));if(t)return t;const i=`${this.seed}-${e[0]}-${e[1]}`,l={value:T6(i)()<this.bombChance?-1:0,state:1,interactedAt:-1e3,exploded:!1};this.board.set(Ti.getAddress(e),l);const[c,f]=e;for(let h=c-1;h<=c+1;h++)for(let d=f-1;d<=f+1;d++){if(h===c&&d===f)continue;const v=Ti.getAddress([h,d]),g=this.board.get(v);if(l.value===-1){if(!g||g.value===-1)continue;this.updateTile([h,d],{value:g.value+1})}else(g==null?void 0:g.value)===-1&&l.value++}return l}getTile(e){const t=this.board.get(Ti.getAddress(e));return t||this.generate(e)}updateTile(e,t){const i=this.getTile(e);this.board.set(Ti.getAddress(e),{...i,...t})}getTileColor(e,t){const[i,o]=e;return t.state>=1?(i+o)%2===0?"#AAD650":"#A2D048":(i+o)%2===0?"#E4C29E":"#D7B998"}update(){var e;this.processRevealQueue(),(e=this.game.settings)!=null&&e.disableParticles?this.particleManager.clear():this.particleManager.update()}render(e,[t,i]){var c;e.font="bold 0.75px 'Roboto'",e.textAlign="center",e.textBaseline="middle";for(let f=Math.floor(t.x);f<i.x;f++)for(let h=Math.floor(t.y);h<i.y;h++){const d=this.getTile([f,h]);switch(e.fillStyle=this.getTileColor([f,h],d),e.fillRect(f,h,1,1),d.state){case 0:{if(d.value>0&&(e.fillStyle=x6[d.value]??"#000",e.fillText(d.value.toString(),f+.5,h+.5+.05)),d.value===-1){const g=Sl.get("bomb"),_=d.interactedAt,w=(performance.now()-_)/1e3,T=Math.min(w/.75,1);g&&(e.drawImage(g,f,h,1,1),T>0&&T<1&&(e.save(),e.globalAlpha=T,e.fillStyle="#fff",e.fillRect(f,h,1,1),e.restore())),T===1&&(d.exploded||(this.particleManager.explode(f,h),Jo.play("confetti")),this.updateTile([f,h],{exploded:!0}))}if((c=this.game.settings)!=null&&c.disableBorders)break;e.fillStyle="#86AE3A";const v={left:this.getTile([f-1,h]).state===0,right:this.getTile([f+1,h]).state===0,top:this.getTile([f,h-1]).state===0,bottom:this.getTile([f,h+1]).state===0,topLeft:this.getTile([f-1,h-1]).state===0,topRight:this.getTile([f+1,h-1]).state===0,bottomLeft:this.getTile([f-1,h+1]).state===0,bottomRight:this.getTile([f+1,h+1]).state===0};v.left||e.fillRect(f,h,this.borderThickness,1),v.right||e.fillRect(f+1-this.borderThickness,h,this.borderThickness,1),v.top||e.fillRect(f,h,1,this.borderThickness),v.bottom||e.fillRect(f,h+1-this.borderThickness,1,this.borderThickness),v.topLeft||e.fillRect(f,h,this.borderThickness,this.borderThickness),v.topRight||e.fillRect(f+1-this.borderThickness,h,this.borderThickness,this.borderThickness),v.bottomLeft||e.fillRect(f,h+1-this.borderThickness,this.borderThickness,this.borderThickness),v.bottomRight||e.fillRect(f+1-this.borderThickness,h+1-this.borderThickness,this.borderThickness,this.borderThickness);break}case 2:{const v=Math.min(Math.floor((performance.now()-d.interactedAt)/20),9),g=Sl.get("flag_animation");g&&e.drawImage(g,0,81*v,81,81,f,h,1,1);break}case 3:{const v=Sl.get("flag_incorrect");v&&e.drawImage(v,f,h,1,1);break}}}this.particleManager.render(e);const o=Math.floor(i.x)-Math.floor(t.x),l=Math.floor(i.y)-Math.floor(t.y);return o*l}attemptReveal(e){const t=this.getTile(e);if(t.state>=2)return;for(let o=e[0]-2;o<=e[0]+2;o++)for(let l=e[1]-2;l<=e[1]+2;l++)o===e[0]&&l===e[1]||this.generate([o,l]);if(t.state===0){let o=0;for(let l=e[0]-1;l<=e[0]+1;l++)for(let c=e[1]-1;c<=e[1]+1;c++){if(l===e[0]&&c===e[1])continue;this.getTile([l,c]).state>=2&&o++}if(o===t.value)for(let l=e[0]-1;l<=e[0]+1;l++)for(let c=e[1]-1;c<=e[1]+1;c++){if(l===e[0]&&c===e[1])continue;this.getTile([l,c]).state===1&&this.attemptReveal([l,c])}this.updateStats();return}this.particleManager.add(new Jy({x:e[0],y:e[1]},this.getTileColor(e,t))),this.updateTile(e,{state:0,interactedAt:performance.now()}),this.tilesRevealed++;const i=Math.max(t.value,1);if(t.value>=0&&Jo.play(`blip_${i}`),t.value===-1&&(Jo.play("charge"),this.game.loseGame()),t.value===0)for(let o=e[0]-1;o<=e[0]+1;o++)for(let l=e[1]-1;l<=e[1]+1;l++)o===e[0]&&l===e[1]||this.eventQueue.some(c=>c.position[0]===o&&c.position[1]===l)||this.eventQueue.push({position:[o,l],time:performance.now()+100,type:0});this.updateStats()}toggleFlag(e){const t=this.getTile(e);t.state!==0&&(this.updateTile(e,{state:t.state===2?1:2,interactedAt:performance.now()}),this.tilesFlagged+=t.state===2?-1:1,Jo.play(t.state===2?"flag_up":"flag_down"),t.state===2&&this.particleManager.popFlag({x:e[0],y:e[1]}),this.updateStats())}getFirstZero(e){for(const[t,i]of this.board.entries()){const[o,l]=Ti.getKey(t);if(i.value===0&&(o+l)%2===e&&o>0&&l>0)return[o,l]}return null}processRevealQueue(){const e=performance.now();for(const t of this.eventQueue)if(t.time<=e)switch(t.type){case 0:this.attemptReveal(t.position);break;case 1:this.updateTile(t.position,{state:3}),this.particleManager.popFlag({x:t.position[0],y:t.position[1]}),Jo.play("flag_up");break}this.eventQueue=this.eventQueue.filter(t=>t.time>e)}getSaveData(){return{board:Array.from(this.board.entries()).reduce((e,[t,i])=>(i.state===0?e.push(t):i.state>=2&&e.push(t.replace(",",".")),e),[]),seed:this.seed}}showIncorrectFlags(){let e=0;const t=1500;this.board.forEach((i,o)=>{i.state===2&&i.value!==-1&&(this.eventQueue.push({position:Ti.getKey(o),type:1,time:performance.now()+t+e*250}),e++)})}getRevealQueueLength(){return this.eventQueue.filter(e=>e.type===0).length}updateStats(){var t;const e={flags:this.tilesFlagged,revealed:this.tilesRevealed};return(t=this.game.hooks)==null||t.setStats(e),e}}class R6{constructor(e){st(this,"position",{x:0,y:0});st(this,"ppu",32);st(this,"ppuBounds",{min:16,max:128});this.ppu=e}getBounds(e){return[{x:this.position.x,y:this.position.y},{x:this.position.x+e.x/this.ppu,y:this.position.y+e.y/this.ppu}]}toWorldSpace(e){return{x:this.position.x+e.x/this.ppu,y:this.position.y+e.y/this.ppu}}zoomInPosition(e,t){const i=this.toWorldSpace(e);this.ppu+=t,this.ppu=Math.max(this.ppuBounds.min,Math.min(this.ppu,this.ppuBounds.max));const o=this.toWorldSpace(e),l=o.x-i.x,c=o.y-i.y;this.position.x-=l,this.position.y-=c}shake(e){this.position.x+=(Math.random()-.5)*e,this.position.y+=(Math.random()-.5)*e}roundToPixel(){this.position.x=Math.round(this.position.x*this.ppu)/this.ppu,this.position.y=Math.round(this.position.y*this.ppu)/this.ppu}}var ra;let na=(ra=class{constructor(e){st(this,"Board");st(this,"camera");st(this,"canvas",null);st(this,"settings",null);st(this,"size",{x:0,y:0});st(this,"gameStarted",!1);st(this,"_gameActive",!0);st(this,"pan",e=>{if(e.preventDefault(),e instanceof MouseEvent){let t=!1;const i=o=>{t&&(this.camera.position.x-=o.movementX/this.camera.ppu,this.camera.position.y-=o.movementY/this.camera.ppu),(Math.abs(o.movementX)>2||Math.abs(o.movementY)>2)&&(t=!0)};window.addEventListener("mousemove",i),window.addEventListener("mouseup",o=>{window.removeEventListener("mousemove",i),t||this.mouseClick(o)},{once:!0})}else{if(e.touches.length!==1)return;const t={x:e.touches[0].clientX,y:e.touches[0].clientY};let i=!1;const o=performance.now(),l=d=>{const v=d.touches[0],g=v.clientX-t.x,_=v.clientY-t.y;(i||Math.abs(g)>2||Math.abs(_)>2)&&(this.camera.position.x-=g/this.camera.ppu,this.camera.position.y-=_/this.camera.ppu,t.x=v.clientX,t.y=v.clientY,i=!0)};let c;const f=250,h=d=>{window.clearTimeout(c),window.removeEventListener("touchmove",l),window.removeEventListener("touchend",h),i||this.mouseClick(d,performance.now()-o>f)};window.addEventListener("touchmove",l),window.addEventListener("touchend",h,{once:!0}),c=window.setTimeout(()=>{i||h(e)},f)}});st(this,"mouseClick",(e,t)=>{if(e.preventDefault(),!this.gameActive)return;const i={x:e instanceof MouseEvent?e.clientX:e.changedTouches[0].clientX,y:e instanceof MouseEvent?e.clientY:e.changedTouches[0].clientY},o=this.camera.toWorldSpace(i),l=(c,f)=>{switch(c){case 0:{this.gameStarted||this.findFirstClick(f);const h=this.camera.toWorldSpace(i);this.Board.attemptReveal([Math.floor(h.x),Math.floor(h.y)]),this.gameStarted=!0;break}case 2:this.gameStarted&&this.Board.toggleFlag([Math.floor(f.x),Math.floor(f.y)]);break}};e instanceof MouseEvent?e.ctrlKey||e.shiftKey||e.metaKey?l(2,o):l(e.button,o):e instanceof TouchEvent&&l(t?2:0,o)});st(this,"wheelZoom",e=>{if(e.preventDefault(),!this.canvas)return;const t=this.canvas.getBoundingClientRect();this.camera.zoomInPosition({x:e.clientX-t.left,y:e.clientY-t.top},e.deltaY<0?1:-1)});st(this,"pinchZoom",e=>{if(e.preventDefault(),!this.canvas||e.touches.length!==2)return;const[t,i]=e.touches,o=(f,h)=>Math.sqrt((f.clientX-h.clientX)**2+(f.clientY-h.clientY)**2);let l=o(t,i);const c=f=>{if(f.touches.length!==2)return;const h=o(f.touches[0],f.touches[1]),d=(h-l)/10;l=h;const v={x:(f.touches[0].clientX+f.touches[1].clientX)/2,y:(f.touches[0].clientY+f.touches[1].clientY)/2};this.camera.zoomInPosition(v,d),this.camera.roundToPixel()};window.addEventListener("touchmove",c,{passive:!1}),window.addEventListener("touchend",()=>window.removeEventListener("touchmove",c),{once:!0})});st(this,"zoom",e=>{this.canvas&&this.camera.zoomInPosition({x:this.canvas.width/2,y:this.canvas.height/2},e)});st(this,"cancelContextMenu",e=>{e.preventDefault()});st(this,"hooks",null);this.Board=new Ti(this,.18,e==null?void 0:e.seed,e==null?void 0:e.board),this.camera=new R6((e==null?void 0:e.camera.ppu)??32),this.camera.position=(e==null?void 0:e.camera.position)??{x:0,y:0},e&&(this.gameStarted=!0)}get gameActive(){return this._gameActive}updateSize(){if(!this.canvas)return;const{width:e,height:t}=this.canvas.getBoundingClientRect();this.size.x=e,this.size.y=t}update(e){this.Board.update(),this.settings&&!this.settings.disableCameraShake&&this.Board.getRevealQueueLength()>10&&this.camera.shake(this.Board.getRevealQueueLength()*.01)}render(e){e.scale(this.camera.ppu,this.camera.ppu),this.camera.roundToPixel(),e.translate(-this.camera.position.x,-this.camera.position.y),this.Board.render(e,this.camera.getBounds(this.size))}findFirstClick(e){const t=this.Board.getFirstZero((Math.floor(e.x)+Math.floor(e.y))%2);if(t){const i={x:e.x%1,y:e.y%1},o={x:t[0]-e.x+i.x,y:t[1]-e.y+i.y};this.camera.position.x+=o.x,this.camera.position.y+=o.y}}loseGame(){var e;this._gameActive=!1,(e=this.hooks)==null||e.setGameActive(!1),localStorage.removeItem(ra.savedGameKey),this.Board.showIncorrectFlags(),setTimeout(()=>{var t;(t=this.hooks)==null||t.setDialogVisible(!0)},2500)}getSaveData(){return this.gameStarted?{...this.Board.getSaveData(),camera:{position:this.camera.position,ppu:this.camera.ppu}}:null}addEventListeners(){this.canvas&&(this.canvas.addEventListener("touchstart",this.pan),this.canvas.addEventListener("mousedown",this.pan),this.canvas.addEventListener("touchstart",this.pinchZoom),this.canvas.addEventListener("wheel",this.wheelZoom),this.canvas.addEventListener("contextmenu",this.cancelContextMenu))}removeEventListeners(){this.canvas&&(this.canvas.removeEventListener("touchstart",this.pan),this.canvas.removeEventListener("mousedown",this.pan),this.canvas.removeEventListener("touchstart",this.pinchZoom),this.canvas.removeEventListener("wheel",this.wheelZoom),this.canvas.removeEventListener("contextmenu",this.cancelContextMenu))}setHooks(e){this.hooks=e??null,this.Board.updateStats()}},st(ra,"savedGameKey","infinisweeper.saved-game"),ra);const aR=I.createContext(void 0),lR=()=>{const n=I.use(aR);if(!n)throw new Error("useGame must be used within a GameProvider");return n},cR=(n,e)=>e.reduce((t,i)=>(t[i.split(".")[0]]=n+i,t),{});Sl.loadImages(cR("images/",["flag.png","flag_animation.png","flag_incorrect.png","flag_floor.png","bomb.png","shovel.png"]));Jo.loadAudios(cR("audio/",["reveal.mp3","flag_down.mp3","flag_up.mp3","blip_1.mp3","blip_2.mp3","blip_3.mp3","blip_4.mp3","blip_5.mp3","blip_6.mp3","blip_7.mp3","blip_8.mp3","charge.mp3","confetti.mp3"]));const C6=({children:n})=>{const[e,t]=I.useState(null),[i,o]=I.useState(()=>localStorage.getItem(na.savedGameKey)!==null),l=Ui(),c=I.useCallback(()=>{const h=new na;t(h),o(!0),l({to:"/game"})},[l]),f=I.useCallback(()=>{const h=JSON.parse(localStorage.getItem(na.savedGameKey)??"null")??void 0;if(!h){o(!1);return}const d=new na(h);t(d),l({to:"/game"})},[l]);return N.jsx(aR.Provider,{value:{game:e,existingGame:i,newGame:c,continueGame:f},children:n})},N1={displayName:{name:"Display Name",description:"Your name on the scoreboard.",type:"string",default:""},classicBackground:{name:"Classic Background",description:"Enable the classic infinisweeper background style.",type:"boolean",default:!1},disableBorders:{name:"Disable Borders",description:"Disables borders around shown tiles.",type:"boolean",default:!1},disableParticles:{name:"Disable Particles",description:"Disables particle effects and falling tiles.",type:"boolean",default:!1},disableCameraShake:{name:"Disable Camera Shake",description:"Disable the camera shake effect when large amounts of tiles are revealed.",type:"boolean",default:!1},autosaveInterval:{name:"Autosave Interval",description:"Automatically save game progress at regular intervals.",type:"select",default:"60",options:[{value:"0",label:"Disabled"},{value:"30",label:"Every 30 seconds"},{value:"60",label:"Every 1 minute"},{value:"120",label:"Every 2 minutes"},{value:"300",label:"Every 5 minutes"}]}},M1="settings",I6=({children:n})=>{const{user:e,updateName:t}=Wu(),[i,o]=I.useState(()=>{const c=localStorage.getItem(M1),f=Object.fromEntries(Object.entries(N1).map(([h,d])=>[h,d.default]));if(!c)return f;try{const h=JSON.parse(c);return{...f,...h}}catch{return f}}),l=c=>{if(e){if(c.displayName.trim()==="")throw new Error("Display name cannot be empty!");try{t(c.displayName)}catch{throw new Error("Failed to update display name!")}}localStorage.setItem(M1,JSON.stringify(c)),o(c)};return N.jsx(MT.Provider,{value:{settings:i,saveSettings:l,SettingsMetadata:N1},children:n})},N6=()=>N.jsx(i6,{children:N.jsx(I6,{children:N.jsxs(C6,{children:[N.jsx(LM,{}),N.jsx("div",{className:"flex flex-col w-full h-full items-center justify-center",children:N.jsx(NT,{})}),N.jsx(XD,{})]})})}),Zl=dM({component:N6});function D1(n,[e,t]){return Math.min(t,Math.max(e,n))}function Et(n,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(n==null||n(o),t===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function M6(n,e){const t=I.createContext(e),i=l=>{const{children:c,...f}=l,h=I.useMemo(()=>f,Object.values(f));return N.jsx(t.Provider,{value:h,children:c})};i.displayName=n+"Provider";function o(l){const c=I.useContext(t);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${n}\``)}return[i,o]}function Zu(n,e=[]){let t=[];function i(l,c){const f=I.createContext(c),h=t.length;t=[...t,c];const d=g=>{var k;const{scope:_,children:w,...T}=g,R=((k=_==null?void 0:_[n])==null?void 0:k[h])||f,C=I.useMemo(()=>T,Object.values(T));return N.jsx(R.Provider,{value:C,children:w})};d.displayName=l+"Provider";function v(g,_){var R;const w=((R=_==null?void 0:_[n])==null?void 0:R[h])||f,T=I.useContext(w);if(T)return T;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${l}\``)}return[d,v]}const o=()=>{const l=t.map(c=>I.createContext(c));return function(f){const h=(f==null?void 0:f[n])||l;return I.useMemo(()=>({[`__scope${n}`]:{...f,[n]:h}}),[f,h])}};return o.scopeName=n,[i,D6(o,...e)]}function D6(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const c=i.reduce((f,{useScope:h,scopeName:d})=>{const g=h(l)[`__scope${d}`];return{...f,...g}},{});return I.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return t.scopeName=e.scopeName,t}function O1(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function y_(...n){return e=>{let t=!1;const i=n.map(o=>{const l=O1(o,e);return!t&&typeof l=="function"&&(t=!0),l});if(t)return()=>{for(let o=0;o<i.length;o++){const l=i[o];typeof l=="function"?l():O1(n[o],null)}}}}function Lt(...n){return I.useCallback(y_(...n),n)}function Vu(n){const e=O6(n),t=I.forwardRef((i,o)=>{const{children:l,...c}=i,f=I.Children.toArray(l),h=f.find(k6);if(h){const d=h.props.children,v=f.map(g=>g===h?I.Children.count(d)>1?I.Children.only(null):I.isValidElement(d)?d.props.children:null:g);return N.jsx(e,{...c,ref:o,children:I.isValidElement(d)?I.cloneElement(d,void 0,v):null})}return N.jsx(e,{...c,ref:o,children:l})});return t.displayName=`${n}.Slot`,t}function O6(n){const e=I.forwardRef((t,i)=>{const{children:o,...l}=t;if(I.isValidElement(o)){const c=V6(o),f=L6(l,o.props);return o.type!==I.Fragment&&(f.ref=i?y_(i,c):c),I.cloneElement(o,f)}return I.Children.count(o)>1?I.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var P6=Symbol("radix.slottable");function k6(n){return I.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===P6}function L6(n,e){const t={...e};for(const i in e){const o=n[i],l=e[i];/^on[A-Z]/.test(i)?o&&l?t[i]=(...f)=>{const h=l(...f);return o(...f),h}:o&&(t[i]=o):i==="style"?t[i]={...o,...l}:i==="className"&&(t[i]=[o,l].filter(Boolean).join(" "))}return{...n,...t}}function V6(n){var i,o;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(o=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function U6(n){const e=n+"CollectionProvider",[t,i]=Zu(e),[o,l]=t(e,{collectionRef:{current:null},itemMap:new Map}),c=R=>{const{scope:C,children:k}=R,U=me.useRef(null),z=me.useRef(new Map).current;return N.jsx(o,{scope:C,itemMap:z,collectionRef:U,children:k})};c.displayName=e;const f=n+"CollectionSlot",h=Vu(f),d=me.forwardRef((R,C)=>{const{scope:k,children:U}=R,z=l(f,k),B=Lt(C,z.collectionRef);return N.jsx(h,{ref:B,children:U})});d.displayName=f;const v=n+"CollectionItemSlot",g="data-radix-collection-item",_=Vu(v),w=me.forwardRef((R,C)=>{const{scope:k,children:U,...z}=R,B=me.useRef(null),$=Lt(C,B),F=l(v,k);return me.useEffect(()=>(F.itemMap.set(B,{ref:B,...z}),()=>void F.itemMap.delete(B))),N.jsx(_,{[g]:"",ref:$,children:U})});w.displayName=v;function T(R){const C=l(n+"CollectionConsumer",R);return me.useCallback(()=>{const U=C.collectionRef.current;if(!U)return[];const z=Array.from(U.querySelectorAll(`[${g}]`));return Array.from(C.itemMap.values()).sort((F,x)=>z.indexOf(F.ref.current)-z.indexOf(x.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:c,Slot:d,ItemSlot:w},T,i]}var z6=I.createContext(void 0);function j6(n){const e=I.useContext(z6);return n||e||"ltr"}var B6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],pt=B6.reduce((n,e)=>{const t=Vu(`Primitive.${e}`),i=I.forwardRef((o,l)=>{const{asChild:c,...f}=o,h=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),N.jsx(h,{...f,ref:l})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{});function F6(n,e){n&&Hl.flushSync(()=>n.dispatchEvent(e))}function va(n){const e=I.useRef(n);return I.useEffect(()=>{e.current=n}),I.useMemo(()=>(...t)=>{var i;return(i=e.current)==null?void 0:i.call(e,...t)},[])}function H6(n,e=globalThis==null?void 0:globalThis.document){const t=va(n);I.useEffect(()=>{const i=o=>{o.key==="Escape"&&t(o)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var q6="DismissableLayer",ev="dismissableLayer.update",G6="dismissableLayer.pointerDownOutside",$6="dismissableLayer.focusOutside",P1,uR=I.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),v_=I.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:c,onDismiss:f,...h}=n,d=I.useContext(uR),[v,g]=I.useState(null),_=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=I.useState({}),T=Lt(e,x=>g(x)),R=Array.from(d.layers),[C]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),k=R.indexOf(C),U=v?R.indexOf(v):-1,z=d.layersWithOutsidePointerEventsDisabled.size>0,B=U>=k,$=X6(x=>{const A=x.target,M=[...d.branches].some(P=>P.contains(A));!B||M||(o==null||o(x),c==null||c(x),x.defaultPrevented||f==null||f())},_),F=Q6(x=>{const A=x.target;[...d.branches].some(P=>P.contains(A))||(l==null||l(x),c==null||c(x),x.defaultPrevented||f==null||f())},_);return H6(x=>{U===d.layers.size-1&&(i==null||i(x),!x.defaultPrevented&&f&&(x.preventDefault(),f()))},_),I.useEffect(()=>{if(v)return t&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(P1=_.body.style.pointerEvents,_.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(v)),d.layers.add(v),k1(),()=>{t&&d.layersWithOutsidePointerEventsDisabled.size===1&&(_.body.style.pointerEvents=P1)}},[v,_,t,d]),I.useEffect(()=>()=>{v&&(d.layers.delete(v),d.layersWithOutsidePointerEventsDisabled.delete(v),k1())},[v,d]),I.useEffect(()=>{const x=()=>w({});return document.addEventListener(ev,x),()=>document.removeEventListener(ev,x)},[]),N.jsx(pt.div,{...h,ref:T,style:{pointerEvents:z?B?"auto":"none":void 0,...n.style},onFocusCapture:Et(n.onFocusCapture,F.onFocusCapture),onBlurCapture:Et(n.onBlurCapture,F.onBlurCapture),onPointerDownCapture:Et(n.onPointerDownCapture,$.onPointerDownCapture)})});v_.displayName=q6;var K6="DismissableLayerBranch",Y6=I.forwardRef((n,e)=>{const t=I.useContext(uR),i=I.useRef(null),o=Lt(e,i);return I.useEffect(()=>{const l=i.current;if(l)return t.branches.add(l),()=>{t.branches.delete(l)}},[t.branches]),N.jsx(pt.div,{...n,ref:o})});Y6.displayName=K6;function X6(n,e=globalThis==null?void 0:globalThis.document){const t=va(n),i=I.useRef(!1),o=I.useRef(()=>{});return I.useEffect(()=>{const l=f=>{if(f.target&&!i.current){let h=function(){fR(G6,t,d,{discrete:!0})};const d={originalEvent:f};f.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=h,e.addEventListener("click",o.current,{once:!0})):h()}else e.removeEventListener("click",o.current);i.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",l),e.removeEventListener("click",o.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function Q6(n,e=globalThis==null?void 0:globalThis.document){const t=va(n),i=I.useRef(!1);return I.useEffect(()=>{const o=l=>{l.target&&!i.current&&fR($6,t,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function k1(){const n=new CustomEvent(ev);document.dispatchEvent(n)}function fR(n,e,t,{discrete:i}){const o=t.originalEvent.target,l=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&o.addEventListener(n,e,{once:!0}),i?F6(o,l):o.dispatchEvent(l)}var hy=0;function hR(){I.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??L1()),document.body.insertAdjacentElement("beforeend",n[1]??L1()),hy++,()=>{hy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),hy--}},[])}function L1(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var dy="focusScope.autoFocusOnMount",my="focusScope.autoFocusOnUnmount",V1={bubbles:!1,cancelable:!0},W6="FocusScope",__=I.forwardRef((n,e)=>{const{loop:t=!1,trapped:i=!1,onMountAutoFocus:o,onUnmountAutoFocus:l,...c}=n,[f,h]=I.useState(null),d=va(o),v=va(l),g=I.useRef(null),_=Lt(e,R=>h(R)),w=I.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;I.useEffect(()=>{if(i){let R=function(z){if(w.paused||!f)return;const B=z.target;f.contains(B)?g.current=B:Js(g.current,{select:!0})},C=function(z){if(w.paused||!f)return;const B=z.relatedTarget;B!==null&&(f.contains(B)||Js(g.current,{select:!0}))},k=function(z){if(document.activeElement===document.body)for(const $ of z)$.removedNodes.length>0&&Js(f)};document.addEventListener("focusin",R),document.addEventListener("focusout",C);const U=new MutationObserver(k);return f&&U.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",R),document.removeEventListener("focusout",C),U.disconnect()}}},[i,f,w.paused]),I.useEffect(()=>{if(f){z1.add(w);const R=document.activeElement;if(!f.contains(R)){const k=new CustomEvent(dy,V1);f.addEventListener(dy,d),f.dispatchEvent(k),k.defaultPrevented||(Z6(r5(dR(f)),{select:!0}),document.activeElement===R&&Js(f))}return()=>{f.removeEventListener(dy,d),setTimeout(()=>{const k=new CustomEvent(my,V1);f.addEventListener(my,v),f.dispatchEvent(k),k.defaultPrevented||Js(R??document.body,{select:!0}),f.removeEventListener(my,v),z1.remove(w)},0)}}},[f,d,v,w]);const T=I.useCallback(R=>{if(!t&&!i||w.paused)return;const C=R.key==="Tab"&&!R.altKey&&!R.ctrlKey&&!R.metaKey,k=document.activeElement;if(C&&k){const U=R.currentTarget,[z,B]=J6(U);z&&B?!R.shiftKey&&k===B?(R.preventDefault(),t&&Js(z,{select:!0})):R.shiftKey&&k===z&&(R.preventDefault(),t&&Js(B,{select:!0})):k===U&&R.preventDefault()}},[t,i,w.paused]);return N.jsx(pt.div,{tabIndex:-1,...c,ref:_,onKeyDown:T})});__.displayName=W6;function Z6(n,{select:e=!1}={}){const t=document.activeElement;for(const i of n)if(Js(i,{select:e}),document.activeElement!==t)return}function J6(n){const e=dR(n),t=U1(e,n),i=U1(e.reverse(),n);return[t,i]}function dR(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function U1(n,e){for(const t of n)if(!e5(t,{upTo:e}))return t}function e5(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function t5(n){return n instanceof HTMLInputElement&&"select"in n}function Js(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&t5(n)&&e&&n.select()}}var z1=n5();function n5(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=j1(n,e),n.unshift(e)},remove(e){var t;n=j1(n,e),(t=n[0])==null||t.resume()}}}function j1(n,e){const t=[...n],i=t.indexOf(e);return i!==-1&&t.splice(i,1),t}function r5(n){return n.filter(e=>e.tagName!=="A")}var jn=globalThis!=null&&globalThis.document?I.useLayoutEffect:()=>{},i5=yv[" useId ".trim().toString()]||(()=>{}),s5=0;function Il(n){const[e,t]=I.useState(i5());return jn(()=>{t(i=>i??String(s5++))},[n]),n||(e?`radix-${e}`:"")}const o5=["top","right","bottom","left"],wo=Math.min,pr=Math.max,Kd=Math.round,jh=Math.floor,Oi=n=>({x:n,y:n}),a5={left:"right",right:"left",bottom:"top",top:"bottom"},l5={start:"end",end:"start"};function tv(n,e,t){return pr(n,wo(e,t))}function ys(n,e){return typeof n=="function"?n(e):n}function vs(n){return n.split("-")[0]}function Jl(n){return n.split("-")[1]}function b_(n){return n==="x"?"y":"x"}function w_(n){return n==="y"?"height":"width"}const c5=new Set(["top","bottom"]);function Ri(n){return c5.has(vs(n))?"y":"x"}function E_(n){return b_(Ri(n))}function u5(n,e,t){t===void 0&&(t=!1);const i=Jl(n),o=E_(n),l=w_(o);let c=o==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(c=Yd(c)),[c,Yd(c)]}function f5(n){const e=Yd(n);return[nv(n),e,nv(e)]}function nv(n){return n.replace(/start|end/g,e=>l5[e])}const B1=["left","right"],F1=["right","left"],h5=["top","bottom"],d5=["bottom","top"];function m5(n,e,t){switch(n){case"top":case"bottom":return t?e?F1:B1:e?B1:F1;case"left":case"right":return e?h5:d5;default:return[]}}function p5(n,e,t,i){const o=Jl(n);let l=m5(vs(n),t==="start",i);return o&&(l=l.map(c=>c+"-"+o),e&&(l=l.concat(l.map(nv)))),l}function Yd(n){return n.replace(/left|right|bottom|top/g,e=>a5[e])}function g5(n){return{top:0,right:0,bottom:0,left:0,...n}}function mR(n){return typeof n!="number"?g5(n):{top:n,right:n,bottom:n,left:n}}function Xd(n){const{x:e,y:t,width:i,height:o}=n;return{width:i,height:o,top:t,left:e,right:e+i,bottom:t+o,x:e,y:t}}function H1(n,e,t){let{reference:i,floating:o}=n;const l=Ri(e),c=E_(e),f=w_(c),h=vs(e),d=l==="y",v=i.x+i.width/2-o.width/2,g=i.y+i.height/2-o.height/2,_=i[f]/2-o[f]/2;let w;switch(h){case"top":w={x:v,y:i.y-o.height};break;case"bottom":w={x:v,y:i.y+i.height};break;case"right":w={x:i.x+i.width,y:g};break;case"left":w={x:i.x-o.width,y:g};break;default:w={x:i.x,y:i.y}}switch(Jl(e)){case"start":w[c]-=_*(t&&d?-1:1);break;case"end":w[c]+=_*(t&&d?-1:1);break}return w}const y5=async(n,e,t)=>{const{placement:i="bottom",strategy:o="absolute",middleware:l=[],platform:c}=t,f=l.filter(Boolean),h=await(c.isRTL==null?void 0:c.isRTL(e));let d=await c.getElementRects({reference:n,floating:e,strategy:o}),{x:v,y:g}=H1(d,i,h),_=i,w={},T=0;for(let R=0;R<f.length;R++){const{name:C,fn:k}=f[R],{x:U,y:z,data:B,reset:$}=await k({x:v,y:g,initialPlacement:i,placement:_,strategy:o,middlewareData:w,rects:d,platform:c,elements:{reference:n,floating:e}});v=U??v,g=z??g,w={...w,[C]:{...w[C],...B}},$&&T<=50&&(T++,typeof $=="object"&&($.placement&&(_=$.placement),$.rects&&(d=$.rects===!0?await c.getElementRects({reference:n,floating:e,strategy:o}):$.rects),{x:v,y:g}=H1(d,_,h)),R=-1)}return{x:v,y:g,placement:_,strategy:o,middlewareData:w}};async function Uu(n,e){var t;e===void 0&&(e={});const{x:i,y:o,platform:l,rects:c,elements:f,strategy:h}=n,{boundary:d="clippingAncestors",rootBoundary:v="viewport",elementContext:g="floating",altBoundary:_=!1,padding:w=0}=ys(e,n),T=mR(w),C=f[_?g==="floating"?"reference":"floating":g],k=Xd(await l.getClippingRect({element:(t=await(l.isElement==null?void 0:l.isElement(C)))==null||t?C:C.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(f.floating)),boundary:d,rootBoundary:v,strategy:h})),U=g==="floating"?{x:i,y:o,width:c.floating.width,height:c.floating.height}:c.reference,z=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f.floating)),B=await(l.isElement==null?void 0:l.isElement(z))?await(l.getScale==null?void 0:l.getScale(z))||{x:1,y:1}:{x:1,y:1},$=Xd(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:U,offsetParent:z,strategy:h}):U);return{top:(k.top-$.top+T.top)/B.y,bottom:($.bottom-k.bottom+T.bottom)/B.y,left:(k.left-$.left+T.left)/B.x,right:($.right-k.right+T.right)/B.x}}const v5=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:o,rects:l,platform:c,elements:f,middlewareData:h}=e,{element:d,padding:v=0}=ys(n,e)||{};if(d==null)return{};const g=mR(v),_={x:t,y:i},w=E_(o),T=w_(w),R=await c.getDimensions(d),C=w==="y",k=C?"top":"left",U=C?"bottom":"right",z=C?"clientHeight":"clientWidth",B=l.reference[T]+l.reference[w]-_[w]-l.floating[T],$=_[w]-l.reference[w],F=await(c.getOffsetParent==null?void 0:c.getOffsetParent(d));let x=F?F[z]:0;(!x||!await(c.isElement==null?void 0:c.isElement(F)))&&(x=f.floating[z]||l.floating[T]);const A=B/2-$/2,M=x/2-R[T]/2-1,P=wo(g[k],M),O=wo(g[U],M),j=P,L=x-R[T]-O,he=x/2-R[T]/2+A,pe=tv(j,he,L),H=!h.arrow&&Jl(o)!=null&&he!==pe&&l.reference[T]/2-(he<j?P:O)-R[T]/2<0,J=H?he<j?he-j:he-L:0;return{[w]:_[w]+J,data:{[w]:pe,centerOffset:he-pe-J,...H&&{alignmentOffset:J}},reset:H}}}),_5=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:o,middlewareData:l,rects:c,initialPlacement:f,platform:h,elements:d}=e,{mainAxis:v=!0,crossAxis:g=!0,fallbackPlacements:_,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:R=!0,...C}=ys(n,e);if((t=l.arrow)!=null&&t.alignmentOffset)return{};const k=vs(o),U=Ri(f),z=vs(f)===f,B=await(h.isRTL==null?void 0:h.isRTL(d.floating)),$=_||(z||!R?[Yd(f)]:f5(f)),F=T!=="none";!_&&F&&$.push(...p5(f,R,T,B));const x=[f,...$],A=await Uu(e,C),M=[];let P=((i=l.flip)==null?void 0:i.overflows)||[];if(v&&M.push(A[k]),g){const he=u5(o,c,B);M.push(A[he[0]],A[he[1]])}if(P=[...P,{placement:o,overflows:M}],!M.every(he=>he<=0)){var O,j;const he=(((O=l.flip)==null?void 0:O.index)||0)+1,pe=x[he];if(pe&&(!(g==="alignment"?U!==Ri(pe):!1)||P.every(X=>Ri(X.placement)===U?X.overflows[0]>0:!0)))return{data:{index:he,overflows:P},reset:{placement:pe}};let H=(j=P.filter(J=>J.overflows[0]<=0).sort((J,X)=>J.overflows[1]-X.overflows[1])[0])==null?void 0:j.placement;if(!H)switch(w){case"bestFit":{var L;const J=(L=P.filter(X=>{if(F){const ge=Ri(X.placement);return ge===U||ge==="y"}return!0}).map(X=>[X.placement,X.overflows.filter(ge=>ge>0).reduce((ge,we)=>ge+we,0)]).sort((X,ge)=>X[1]-ge[1])[0])==null?void 0:L[0];J&&(H=J);break}case"initialPlacement":H=f;break}if(o!==H)return{reset:{placement:H}}}return{}}}};function q1(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function G1(n){return o5.some(e=>n[e]>=0)}const b5=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:i="referenceHidden",...o}=ys(n,e);switch(i){case"referenceHidden":{const l=await Uu(e,{...o,elementContext:"reference"}),c=q1(l,t.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:G1(c)}}}case"escaped":{const l=await Uu(e,{...o,altBoundary:!0}),c=q1(l,t.floating);return{data:{escapedOffsets:c,escaped:G1(c)}}}default:return{}}}}},pR=new Set(["left","top"]);async function w5(n,e){const{placement:t,platform:i,elements:o}=n,l=await(i.isRTL==null?void 0:i.isRTL(o.floating)),c=vs(t),f=Jl(t),h=Ri(t)==="y",d=pR.has(c)?-1:1,v=l&&h?-1:1,g=ys(e,n);let{mainAxis:_,crossAxis:w,alignmentAxis:T}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return f&&typeof T=="number"&&(w=f==="end"?T*-1:T),h?{x:w*v,y:_*d}:{x:_*d,y:w*v}}const E5=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:o,y:l,placement:c,middlewareData:f}=e,h=await w5(e,n);return c===((t=f.offset)==null?void 0:t.placement)&&(i=f.arrow)!=null&&i.alignmentOffset?{}:{x:o+h.x,y:l+h.y,data:{...h,placement:c}}}}},S5=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:o}=e,{mainAxis:l=!0,crossAxis:c=!1,limiter:f={fn:C=>{let{x:k,y:U}=C;return{x:k,y:U}}},...h}=ys(n,e),d={x:t,y:i},v=await Uu(e,h),g=Ri(vs(o)),_=b_(g);let w=d[_],T=d[g];if(l){const C=_==="y"?"top":"left",k=_==="y"?"bottom":"right",U=w+v[C],z=w-v[k];w=tv(U,w,z)}if(c){const C=g==="y"?"top":"left",k=g==="y"?"bottom":"right",U=T+v[C],z=T-v[k];T=tv(U,T,z)}const R=f.fn({...e,[_]:w,[g]:T});return{...R,data:{x:R.x-t,y:R.y-i,enabled:{[_]:l,[g]:c}}}}}},T5=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:o,rects:l,middlewareData:c}=e,{offset:f=0,mainAxis:h=!0,crossAxis:d=!0}=ys(n,e),v={x:t,y:i},g=Ri(o),_=b_(g);let w=v[_],T=v[g];const R=ys(f,e),C=typeof R=="number"?{mainAxis:R,crossAxis:0}:{mainAxis:0,crossAxis:0,...R};if(h){const z=_==="y"?"height":"width",B=l.reference[_]-l.floating[z]+C.mainAxis,$=l.reference[_]+l.reference[z]-C.mainAxis;w<B?w=B:w>$&&(w=$)}if(d){var k,U;const z=_==="y"?"width":"height",B=pR.has(vs(o)),$=l.reference[g]-l.floating[z]+(B&&((k=c.offset)==null?void 0:k[g])||0)+(B?0:C.crossAxis),F=l.reference[g]+l.reference[z]+(B?0:((U=c.offset)==null?void 0:U[g])||0)-(B?C.crossAxis:0);T<$?T=$:T>F&&(T=F)}return{[_]:w,[g]:T}}}},A5=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,i;const{placement:o,rects:l,platform:c,elements:f}=e,{apply:h=()=>{},...d}=ys(n,e),v=await Uu(e,d),g=vs(o),_=Jl(o),w=Ri(o)==="y",{width:T,height:R}=l.floating;let C,k;g==="top"||g==="bottom"?(C=g,k=_===(await(c.isRTL==null?void 0:c.isRTL(f.floating))?"start":"end")?"left":"right"):(k=g,C=_==="end"?"top":"bottom");const U=R-v.top-v.bottom,z=T-v.left-v.right,B=wo(R-v[C],U),$=wo(T-v[k],z),F=!e.middlewareData.shift;let x=B,A=$;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(A=z),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(x=U),F&&!_){const P=pr(v.left,0),O=pr(v.right,0),j=pr(v.top,0),L=pr(v.bottom,0);w?A=T-2*(P!==0||O!==0?P+O:pr(v.left,v.right)):x=R-2*(j!==0||L!==0?j+L:pr(v.top,v.bottom))}await h({...e,availableWidth:A,availableHeight:x});const M=await c.getDimensions(f.floating);return T!==M.width||R!==M.height?{reset:{rects:!0}}:{}}}};function Rm(){return typeof window<"u"}function ec(n){return gR(n)?(n.nodeName||"").toLowerCase():"#document"}function gr(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function zi(n){var e;return(e=(gR(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function gR(n){return Rm()?n instanceof Node||n instanceof gr(n).Node:!1}function ni(n){return Rm()?n instanceof Element||n instanceof gr(n).Element:!1}function Vi(n){return Rm()?n instanceof HTMLElement||n instanceof gr(n).HTMLElement:!1}function $1(n){return!Rm()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof gr(n).ShadowRoot}const x5=new Set(["inline","contents"]);function Ju(n){const{overflow:e,overflowX:t,overflowY:i,display:o}=ri(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!x5.has(o)}const R5=new Set(["table","td","th"]);function C5(n){return R5.has(ec(n))}const I5=[":popover-open",":modal"];function Cm(n){return I5.some(e=>{try{return n.matches(e)}catch{return!1}})}const N5=["transform","translate","scale","rotate","perspective"],M5=["transform","translate","scale","rotate","perspective","filter"],D5=["paint","layout","strict","content"];function S_(n){const e=T_(),t=ni(n)?ri(n):n;return N5.some(i=>t[i]?t[i]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||M5.some(i=>(t.willChange||"").includes(i))||D5.some(i=>(t.contain||"").includes(i))}function O5(n){let e=Eo(n);for(;Vi(e)&&!Fl(e);){if(S_(e))return e;if(Cm(e))return null;e=Eo(e)}return null}function T_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const P5=new Set(["html","body","#document"]);function Fl(n){return P5.has(ec(n))}function ri(n){return gr(n).getComputedStyle(n)}function Im(n){return ni(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Eo(n){if(ec(n)==="html")return n;const e=n.assignedSlot||n.parentNode||$1(n)&&n.host||zi(n);return $1(e)?e.host:e}function yR(n){const e=Eo(n);return Fl(e)?n.ownerDocument?n.ownerDocument.body:n.body:Vi(e)&&Ju(e)?e:yR(e)}function zu(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const o=yR(n),l=o===((i=n.ownerDocument)==null?void 0:i.body),c=gr(o);if(l){const f=rv(c);return e.concat(c,c.visualViewport||[],Ju(o)?o:[],f&&t?zu(f):[])}return e.concat(o,zu(o,[],t))}function rv(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function vR(n){const e=ri(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const o=Vi(n),l=o?n.offsetWidth:t,c=o?n.offsetHeight:i,f=Kd(t)!==l||Kd(i)!==c;return f&&(t=l,i=c),{width:t,height:i,$:f}}function A_(n){return ni(n)?n:n.contextElement}function Nl(n){const e=A_(n);if(!Vi(e))return Oi(1);const t=e.getBoundingClientRect(),{width:i,height:o,$:l}=vR(e);let c=(l?Kd(t.width):t.width)/i,f=(l?Kd(t.height):t.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!f||!Number.isFinite(f))&&(f=1),{x:c,y:f}}const k5=Oi(0);function _R(n){const e=gr(n);return!T_()||!e.visualViewport?k5:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function L5(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==gr(n)?!1:e}function _a(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const o=n.getBoundingClientRect(),l=A_(n);let c=Oi(1);e&&(i?ni(i)&&(c=Nl(i)):c=Nl(n));const f=L5(l,t,i)?_R(l):Oi(0);let h=(o.left+f.x)/c.x,d=(o.top+f.y)/c.y,v=o.width/c.x,g=o.height/c.y;if(l){const _=gr(l),w=i&&ni(i)?gr(i):i;let T=_,R=rv(T);for(;R&&i&&w!==T;){const C=Nl(R),k=R.getBoundingClientRect(),U=ri(R),z=k.left+(R.clientLeft+parseFloat(U.paddingLeft))*C.x,B=k.top+(R.clientTop+parseFloat(U.paddingTop))*C.y;h*=C.x,d*=C.y,v*=C.x,g*=C.y,h+=z,d+=B,T=gr(R),R=rv(T)}}return Xd({width:v,height:g,x:h,y:d})}function Nm(n,e){const t=Im(n).scrollLeft;return e?e.left+t:_a(zi(n)).left+t}function bR(n,e){const t=n.getBoundingClientRect(),i=t.left+e.scrollLeft-Nm(n,t),o=t.top+e.scrollTop;return{x:i,y:o}}function V5(n){let{elements:e,rect:t,offsetParent:i,strategy:o}=n;const l=o==="fixed",c=zi(i),f=e?Cm(e.floating):!1;if(i===c||f&&l)return t;let h={scrollLeft:0,scrollTop:0},d=Oi(1);const v=Oi(0),g=Vi(i);if((g||!g&&!l)&&((ec(i)!=="body"||Ju(c))&&(h=Im(i)),Vi(i))){const w=_a(i);d=Nl(i),v.x=w.x+i.clientLeft,v.y=w.y+i.clientTop}const _=c&&!g&&!l?bR(c,h):Oi(0);return{width:t.width*d.x,height:t.height*d.y,x:t.x*d.x-h.scrollLeft*d.x+v.x+_.x,y:t.y*d.y-h.scrollTop*d.y+v.y+_.y}}function U5(n){return Array.from(n.getClientRects())}function z5(n){const e=zi(n),t=Im(n),i=n.ownerDocument.body,o=pr(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),l=pr(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let c=-t.scrollLeft+Nm(n);const f=-t.scrollTop;return ri(i).direction==="rtl"&&(c+=pr(e.clientWidth,i.clientWidth)-o),{width:o,height:l,x:c,y:f}}const K1=25;function j5(n,e){const t=gr(n),i=zi(n),o=t.visualViewport;let l=i.clientWidth,c=i.clientHeight,f=0,h=0;if(o){l=o.width,c=o.height;const v=T_();(!v||v&&e==="fixed")&&(f=o.offsetLeft,h=o.offsetTop)}const d=Nm(i);if(d<=0){const v=i.ownerDocument,g=v.body,_=getComputedStyle(g),w=v.compatMode==="CSS1Compat"&&parseFloat(_.marginLeft)+parseFloat(_.marginRight)||0,T=Math.abs(i.clientWidth-g.clientWidth-w);T<=K1&&(l-=T)}else d<=K1&&(l+=d);return{width:l,height:c,x:f,y:h}}const B5=new Set(["absolute","fixed"]);function F5(n,e){const t=_a(n,!0,e==="fixed"),i=t.top+n.clientTop,o=t.left+n.clientLeft,l=Vi(n)?Nl(n):Oi(1),c=n.clientWidth*l.x,f=n.clientHeight*l.y,h=o*l.x,d=i*l.y;return{width:c,height:f,x:h,y:d}}function Y1(n,e,t){let i;if(e==="viewport")i=j5(n,t);else if(e==="document")i=z5(zi(n));else if(ni(e))i=F5(e,t);else{const o=_R(n);i={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return Xd(i)}function wR(n,e){const t=Eo(n);return t===e||!ni(t)||Fl(t)?!1:ri(t).position==="fixed"||wR(t,e)}function H5(n,e){const t=e.get(n);if(t)return t;let i=zu(n,[],!1).filter(f=>ni(f)&&ec(f)!=="body"),o=null;const l=ri(n).position==="fixed";let c=l?Eo(n):n;for(;ni(c)&&!Fl(c);){const f=ri(c),h=S_(c);!h&&f.position==="fixed"&&(o=null),(l?!h&&!o:!h&&f.position==="static"&&!!o&&B5.has(o.position)||Ju(c)&&!h&&wR(n,c))?i=i.filter(v=>v!==c):o=f,c=Eo(c)}return e.set(n,i),i}function q5(n){let{element:e,boundary:t,rootBoundary:i,strategy:o}=n;const c=[...t==="clippingAncestors"?Cm(e)?[]:H5(e,this._c):[].concat(t),i],f=c[0],h=c.reduce((d,v)=>{const g=Y1(e,v,o);return d.top=pr(g.top,d.top),d.right=wo(g.right,d.right),d.bottom=wo(g.bottom,d.bottom),d.left=pr(g.left,d.left),d},Y1(e,f,o));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function G5(n){const{width:e,height:t}=vR(n);return{width:e,height:t}}function $5(n,e,t){const i=Vi(e),o=zi(e),l=t==="fixed",c=_a(n,!0,l,e);let f={scrollLeft:0,scrollTop:0};const h=Oi(0);function d(){h.x=Nm(o)}if(i||!i&&!l)if((ec(e)!=="body"||Ju(o))&&(f=Im(e)),i){const w=_a(e,!0,l,e);h.x=w.x+e.clientLeft,h.y=w.y+e.clientTop}else o&&d();l&&!i&&o&&d();const v=o&&!i&&!l?bR(o,f):Oi(0),g=c.left+f.scrollLeft-h.x-v.x,_=c.top+f.scrollTop-h.y-v.y;return{x:g,y:_,width:c.width,height:c.height}}function py(n){return ri(n).position==="static"}function X1(n,e){if(!Vi(n)||ri(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return zi(n)===t&&(t=t.ownerDocument.body),t}function ER(n,e){const t=gr(n);if(Cm(n))return t;if(!Vi(n)){let o=Eo(n);for(;o&&!Fl(o);){if(ni(o)&&!py(o))return o;o=Eo(o)}return t}let i=X1(n,e);for(;i&&C5(i)&&py(i);)i=X1(i,e);return i&&Fl(i)&&py(i)&&!S_(i)?t:i||O5(n)||t}const K5=async function(n){const e=this.getOffsetParent||ER,t=this.getDimensions,i=await t(n.floating);return{reference:$5(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function Y5(n){return ri(n).direction==="rtl"}const X5={convertOffsetParentRelativeRectToViewportRelativeRect:V5,getDocumentElement:zi,getClippingRect:q5,getOffsetParent:ER,getElementRects:K5,getClientRects:U5,getDimensions:G5,getScale:Nl,isElement:ni,isRTL:Y5};function SR(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function Q5(n,e){let t=null,i;const o=zi(n);function l(){var f;clearTimeout(i),(f=t)==null||f.disconnect(),t=null}function c(f,h){f===void 0&&(f=!1),h===void 0&&(h=1),l();const d=n.getBoundingClientRect(),{left:v,top:g,width:_,height:w}=d;if(f||e(),!_||!w)return;const T=jh(g),R=jh(o.clientWidth-(v+_)),C=jh(o.clientHeight-(g+w)),k=jh(v),z={rootMargin:-T+"px "+-R+"px "+-C+"px "+-k+"px",threshold:pr(0,wo(1,h))||1};let B=!0;function $(F){const x=F[0].intersectionRatio;if(x!==h){if(!B)return c();x?c(!1,x):i=setTimeout(()=>{c(!1,1e-7)},1e3)}x===1&&!SR(d,n.getBoundingClientRect())&&c(),B=!1}try{t=new IntersectionObserver($,{...z,root:o.ownerDocument})}catch{t=new IntersectionObserver($,z)}t.observe(n)}return c(!0),l}function W5(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:h=!1}=i,d=A_(n),v=o||l?[...d?zu(d):[],...zu(e)]:[];v.forEach(k=>{o&&k.addEventListener("scroll",t,{passive:!0}),l&&k.addEventListener("resize",t)});const g=d&&f?Q5(d,t):null;let _=-1,w=null;c&&(w=new ResizeObserver(k=>{let[U]=k;U&&U.target===d&&w&&(w.unobserve(e),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var z;(z=w)==null||z.observe(e)})),t()}),d&&!h&&w.observe(d),w.observe(e));let T,R=h?_a(n):null;h&&C();function C(){const k=_a(n);R&&!SR(R,k)&&t(),R=k,T=requestAnimationFrame(C)}return t(),()=>{var k;v.forEach(U=>{o&&U.removeEventListener("scroll",t),l&&U.removeEventListener("resize",t)}),g==null||g(),(k=w)==null||k.disconnect(),w=null,h&&cancelAnimationFrame(T)}}const Z5=E5,J5=S5,e9=_5,t9=A5,n9=b5,Q1=v5,r9=T5,i9=(n,e,t)=>{const i=new Map,o={platform:X5,...t},l={...o.platform,_c:i};return y5(n,e,{...o,platform:l})};var s9=typeof document<"u",o9=function(){},dd=s9?I.useLayoutEffect:o9;function Qd(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,o;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!Qd(n[i],e[i]))return!1;return!0}if(o=Object.keys(n),t=o.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,o[i]))return!1;for(i=t;i--!==0;){const l=o[i];if(!(l==="_owner"&&n.$$typeof)&&!Qd(n[l],e[l]))return!1}return!0}return n!==n&&e!==e}function TR(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function W1(n,e){const t=TR(n);return Math.round(e*t)/t}function gy(n){const e=I.useRef(n);return dd(()=>{e.current=n}),e}function a9(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:o,elements:{reference:l,floating:c}={},transform:f=!0,whileElementsMounted:h,open:d}=n,[v,g]=I.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[_,w]=I.useState(i);Qd(_,i)||w(i);const[T,R]=I.useState(null),[C,k]=I.useState(null),U=I.useCallback(X=>{X!==F.current&&(F.current=X,R(X))},[]),z=I.useCallback(X=>{X!==x.current&&(x.current=X,k(X))},[]),B=l||T,$=c||C,F=I.useRef(null),x=I.useRef(null),A=I.useRef(v),M=h!=null,P=gy(h),O=gy(o),j=gy(d),L=I.useCallback(()=>{if(!F.current||!x.current)return;const X={placement:e,strategy:t,middleware:_};O.current&&(X.platform=O.current),i9(F.current,x.current,X).then(ge=>{const we={...ge,isPositioned:j.current!==!1};he.current&&!Qd(A.current,we)&&(A.current=we,Hl.flushSync(()=>{g(we)}))})},[_,e,t,O,j]);dd(()=>{d===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,g(X=>({...X,isPositioned:!1})))},[d]);const he=I.useRef(!1);dd(()=>(he.current=!0,()=>{he.current=!1}),[]),dd(()=>{if(B&&(F.current=B),$&&(x.current=$),B&&$){if(P.current)return P.current(B,$,L);L()}},[B,$,L,P,M]);const pe=I.useMemo(()=>({reference:F,floating:x,setReference:U,setFloating:z}),[U,z]),H=I.useMemo(()=>({reference:B,floating:$}),[B,$]),J=I.useMemo(()=>{const X={position:t,left:0,top:0};if(!H.floating)return X;const ge=W1(H.floating,v.x),we=W1(H.floating,v.y);return f?{...X,transform:"translate("+ge+"px, "+we+"px)",...TR(H.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ge,top:we}},[t,f,H.floating,v.x,v.y]);return I.useMemo(()=>({...v,update:L,refs:pe,elements:H,floatingStyles:J}),[v,L,pe,H,J])}const l9=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:i,padding:o}=typeof n=="function"?n(t):n;return i&&e(i)?i.current!=null?Q1({element:i.current,padding:o}).fn(t):{}:i?Q1({element:i,padding:o}).fn(t):{}}}},c9=(n,e)=>({...Z5(n),options:[n,e]}),u9=(n,e)=>({...J5(n),options:[n,e]}),f9=(n,e)=>({...r9(n),options:[n,e]}),h9=(n,e)=>({...e9(n),options:[n,e]}),d9=(n,e)=>({...t9(n),options:[n,e]}),m9=(n,e)=>({...n9(n),options:[n,e]}),p9=(n,e)=>({...l9(n),options:[n,e]});var g9="Arrow",AR=I.forwardRef((n,e)=>{const{children:t,width:i=10,height:o=5,...l}=n;return N.jsx(pt.svg,{...l,ref:e,width:i,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:N.jsx("polygon",{points:"0,0 30,0 15,10"})})});AR.displayName=g9;var y9=AR;function xR(n){const[e,t]=I.useState(void 0);return jn(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let c,f;if("borderBoxSize"in l){const h=l.borderBoxSize,d=Array.isArray(h)?h[0]:h;c=d.inlineSize,f=d.blockSize}else c=n.offsetWidth,f=n.offsetHeight;t({width:c,height:f})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}var x_="Popper",[RR,CR]=Zu(x_),[v9,IR]=RR(x_),NR=n=>{const{__scopePopper:e,children:t}=n,[i,o]=I.useState(null);return N.jsx(v9,{scope:e,anchor:i,onAnchorChange:o,children:t})};NR.displayName=x_;var MR="PopperAnchor",DR=I.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...o}=n,l=IR(MR,t),c=I.useRef(null),f=Lt(e,c),h=I.useRef(null);return I.useEffect(()=>{const d=h.current;h.current=(i==null?void 0:i.current)||c.current,d!==h.current&&l.onAnchorChange(h.current)}),i?null:N.jsx(pt.div,{...o,ref:f})});DR.displayName=MR;var R_="PopperContent",[_9,b9]=RR(R_),OR=I.forwardRef((n,e)=>{var ae,ye,Ee,Ie,De,Re;const{__scopePopper:t,side:i="bottom",sideOffset:o=0,align:l="center",alignOffset:c=0,arrowPadding:f=0,avoidCollisions:h=!0,collisionBoundary:d=[],collisionPadding:v=0,sticky:g="partial",hideWhenDetached:_=!1,updatePositionStrategy:w="optimized",onPlaced:T,...R}=n,C=IR(R_,t),[k,U]=I.useState(null),z=Lt(e,lt=>U(lt)),[B,$]=I.useState(null),F=xR(B),x=(F==null?void 0:F.width)??0,A=(F==null?void 0:F.height)??0,M=i+(l!=="center"?"-"+l:""),P=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},O=Array.isArray(d)?d:[d],j=O.length>0,L={padding:P,boundary:O.filter(E9),altBoundary:j},{refs:he,floatingStyles:pe,placement:H,isPositioned:J,middlewareData:X}=a9({strategy:"fixed",placement:M,whileElementsMounted:(...lt)=>W5(...lt,{animationFrame:w==="always"}),elements:{reference:C.anchor},middleware:[c9({mainAxis:o+A,alignmentAxis:c}),h&&u9({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?f9():void 0,...L}),h&&h9({...L}),d9({...L,apply:({elements:lt,rects:tt,availableWidth:Vt,availableHeight:xt})=>{const{width:Rt,height:Cn}=tt.reference,Ue=lt.floating.style;Ue.setProperty("--radix-popper-available-width",`${Vt}px`),Ue.setProperty("--radix-popper-available-height",`${xt}px`),Ue.setProperty("--radix-popper-anchor-width",`${Rt}px`),Ue.setProperty("--radix-popper-anchor-height",`${Cn}px`)}}),B&&p9({element:B,padding:f}),S9({arrowWidth:x,arrowHeight:A}),_&&m9({strategy:"referenceHidden",...L})]}),[ge,we]=LR(H),G=va(T);jn(()=>{J&&(G==null||G())},[J,G]);const ie=(ae=X.arrow)==null?void 0:ae.x,ne=(ye=X.arrow)==null?void 0:ye.y,oe=((Ee=X.arrow)==null?void 0:Ee.centerOffset)!==0,[de,_e]=I.useState();return jn(()=>{k&&_e(window.getComputedStyle(k).zIndex)},[k]),N.jsx("div",{ref:he.setFloating,"data-radix-popper-content-wrapper":"",style:{...pe,transform:J?pe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:de,"--radix-popper-transform-origin":[(Ie=X.transformOrigin)==null?void 0:Ie.x,(De=X.transformOrigin)==null?void 0:De.y].join(" "),...((Re=X.hide)==null?void 0:Re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:N.jsx(_9,{scope:t,placedSide:ge,onArrowChange:$,arrowX:ie,arrowY:ne,shouldHideArrow:oe,children:N.jsx(pt.div,{"data-side":ge,"data-align":we,...R,ref:z,style:{...R.style,animation:J?void 0:"none"}})})})});OR.displayName=R_;var PR="PopperArrow",w9={top:"bottom",right:"left",bottom:"top",left:"right"},kR=I.forwardRef(function(e,t){const{__scopePopper:i,...o}=e,l=b9(PR,i),c=w9[l.placedSide];return N.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:N.jsx(y9,{...o,ref:t,style:{...o.style,display:"block"}})})});kR.displayName=PR;function E9(n){return n!==null}var S9=n=>({name:"transformOrigin",options:n,fn(e){var C,k,U;const{placement:t,rects:i,middlewareData:o}=e,c=((C=o.arrow)==null?void 0:C.centerOffset)!==0,f=c?0:n.arrowWidth,h=c?0:n.arrowHeight,[d,v]=LR(t),g={start:"0%",center:"50%",end:"100%"}[v],_=(((k=o.arrow)==null?void 0:k.x)??0)+f/2,w=(((U=o.arrow)==null?void 0:U.y)??0)+h/2;let T="",R="";return d==="bottom"?(T=c?g:`${_}px`,R=`${-h}px`):d==="top"?(T=c?g:`${_}px`,R=`${i.floating.height+h}px`):d==="right"?(T=`${-h}px`,R=c?g:`${w}px`):d==="left"&&(T=`${i.floating.width+h}px`,R=c?g:`${w}px`),{data:{x:T,y:R}}}});function LR(n){const[e,t="center"]=n.split("-");return[e,t]}var T9=NR,A9=DR,x9=OR,R9=kR,C9="Portal",C_=I.forwardRef((n,e)=>{var f;const{container:t,...i}=n,[o,l]=I.useState(!1);jn(()=>l(!0),[]);const c=t||o&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return c?RT.createPortal(N.jsx(pt.div,{...i,ref:e}),c):null});C_.displayName=C9;var I9=yv[" useInsertionEffect ".trim().toString()]||jn;function Wd({prop:n,defaultProp:e,onChange:t=()=>{},caller:i}){const[o,l,c]=N9({defaultProp:e,onChange:t}),f=n!==void 0,h=f?n:o;{const v=I.useRef(n!==void 0);I.useEffect(()=>{const g=v.current;g!==f&&console.warn(`${i} is changing from ${g?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=f},[f,i])}const d=I.useCallback(v=>{var g;if(f){const _=M9(v)?v(n):v;_!==n&&((g=c.current)==null||g.call(c,_))}else l(v)},[f,n,l,c]);return[h,d]}function N9({defaultProp:n,onChange:e}){const[t,i]=I.useState(n),o=I.useRef(t),l=I.useRef(e);return I9(()=>{l.current=e},[e]),I.useEffect(()=>{var c;o.current!==t&&((c=l.current)==null||c.call(l,t),o.current=t)},[t,o]),[t,i,l]}function M9(n){return typeof n=="function"}function VR(n){const e=I.useRef({value:n,previous:n});return I.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var UR=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),D9="VisuallyHidden",O9=I.forwardRef((n,e)=>N.jsx(pt.span,{...n,ref:e,style:{...UR,...n.style}}));O9.displayName=D9;var P9=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},ml=new WeakMap,Bh=new WeakMap,Fh={},yy=0,zR=function(n){return n&&(n.host||zR(n.parentNode))},k9=function(n,e){return e.map(function(t){if(n.contains(t))return t;var i=zR(t);return i&&n.contains(i)?i:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},L9=function(n,e,t,i){var o=k9(e,Array.isArray(n)?n:[n]);Fh[t]||(Fh[t]=new WeakMap);var l=Fh[t],c=[],f=new Set,h=new Set(o),d=function(g){!g||f.has(g)||(f.add(g),d(g.parentNode))};o.forEach(d);var v=function(g){!g||h.has(g)||Array.prototype.forEach.call(g.children,function(_){if(f.has(_))v(_);else try{var w=_.getAttribute(i),T=w!==null&&w!=="false",R=(ml.get(_)||0)+1,C=(l.get(_)||0)+1;ml.set(_,R),l.set(_,C),c.push(_),R===1&&T&&Bh.set(_,!0),C===1&&_.setAttribute(t,"true"),T||_.setAttribute(i,"true")}catch(k){console.error("aria-hidden: cannot operate on ",_,k)}})};return v(e),f.clear(),yy++,function(){c.forEach(function(g){var _=ml.get(g)-1,w=l.get(g)-1;ml.set(g,_),l.set(g,w),_||(Bh.has(g)||g.removeAttribute(i),Bh.delete(g)),w||g.removeAttribute(t)}),yy--,yy||(ml=new WeakMap,ml=new WeakMap,Bh=new WeakMap,Fh={})}},jR=function(n,e,t){t===void 0&&(t="data-aria-hidden");var i=Array.from(Array.isArray(n)?n:[n]),o=P9(n);return o?(i.push.apply(i,Array.from(o.querySelectorAll("[aria-live], script"))),L9(i,o,t,"aria-hidden")):function(){return null}},xi=function(){return xi=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},xi.apply(this,arguments)};function BR(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function V9(n,e,t){if(t||arguments.length===2)for(var i=0,o=e.length,l;i<o;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return n.concat(l||Array.prototype.slice.call(e))}var md="right-scroll-bar-position",pd="width-before-scroll-bar",U9="with-scroll-bars-hidden",z9="--removed-body-scroll-bar-size";function vy(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function j9(n,e){var t=I.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(i){var o=t.value;o!==i&&(t.value=i,t.callback(i,o))}}}})[0];return t.callback=e,t.facade}var B9=typeof window<"u"?I.useLayoutEffect:I.useEffect,Z1=new WeakMap;function F9(n,e){var t=j9(null,function(i){return n.forEach(function(o){return vy(o,i)})});return B9(function(){var i=Z1.get(t);if(i){var o=new Set(i),l=new Set(n),c=t.current;o.forEach(function(f){l.has(f)||vy(f,null)}),l.forEach(function(f){o.has(f)||vy(f,c)})}Z1.set(t,n)},[n]),t}function H9(n){return n}function q9(n,e){e===void 0&&(e=H9);var t=[],i=!1,o={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(l){var c=e(l,i);return t.push(c),function(){t=t.filter(function(f){return f!==c})}},assignSyncMedium:function(l){for(i=!0;t.length;){var c=t;t=[],c.forEach(l)}t={push:function(f){return l(f)},filter:function(){return t}}},assignMedium:function(l){i=!0;var c=[];if(t.length){var f=t;t=[],f.forEach(l),c=t}var h=function(){var v=c;c=[],v.forEach(l)},d=function(){return Promise.resolve().then(h)};d(),t={push:function(v){c.push(v),d()},filter:function(v){return c=c.filter(v),t}}}};return o}function G9(n){n===void 0&&(n={});var e=q9(null);return e.options=xi({async:!0,ssr:!1},n),e}var FR=function(n){var e=n.sideCar,t=BR(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return I.createElement(i,xi({},t))};FR.isSideCarExport=!0;function $9(n,e){return n.useMedium(e),FR}var HR=G9(),_y=function(){},Mm=I.forwardRef(function(n,e){var t=I.useRef(null),i=I.useState({onScrollCapture:_y,onWheelCapture:_y,onTouchMoveCapture:_y}),o=i[0],l=i[1],c=n.forwardProps,f=n.children,h=n.className,d=n.removeScrollBar,v=n.enabled,g=n.shards,_=n.sideCar,w=n.noRelative,T=n.noIsolation,R=n.inert,C=n.allowPinchZoom,k=n.as,U=k===void 0?"div":k,z=n.gapMode,B=BR(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),$=_,F=F9([t,e]),x=xi(xi({},B),o);return I.createElement(I.Fragment,null,v&&I.createElement($,{sideCar:HR,removeScrollBar:d,shards:g,noRelative:w,noIsolation:T,inert:R,setCallbacks:l,allowPinchZoom:!!C,lockRef:t,gapMode:z}),c?I.cloneElement(I.Children.only(f),xi(xi({},x),{ref:F})):I.createElement(U,xi({},x,{className:h,ref:F}),f))});Mm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Mm.classNames={fullWidth:pd,zeroRight:md};var K9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Y9(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=K9();return e&&n.setAttribute("nonce",e),n}function X9(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function Q9(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var W9=function(){var n=0,e=null;return{add:function(t){n==0&&(e=Y9())&&(X9(e,t),Q9(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Z9=function(){var n=W9();return function(e,t){I.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},qR=function(){var n=Z9(),e=function(t){var i=t.styles,o=t.dynamic;return n(i,o),null};return e},J9={left:0,top:0,right:0,gap:0},by=function(n){return parseInt(n||"",10)||0},eU=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],i=e[n==="padding"?"paddingTop":"marginTop"],o=e[n==="padding"?"paddingRight":"marginRight"];return[by(t),by(i),by(o)]},tU=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return J9;var e=eU(n),t=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-t+e[2]-e[0])}},nU=qR(),Ml="data-scroll-locked",rU=function(n,e,t,i){var o=n.left,l=n.top,c=n.right,f=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(U9,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(f,"px ").concat(i,`;
  }
  body[`).concat(Ml,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(i,`;
    `),t==="padding"&&"padding-right: ".concat(f,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(md,` {
    right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(pd,` {
    margin-right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(md," .").concat(md,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(pd," .").concat(pd,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(Ml,`] {
    `).concat(z9,": ").concat(f,`px;
  }
`)},J1=function(){var n=parseInt(document.body.getAttribute(Ml)||"0",10);return isFinite(n)?n:0},iU=function(){I.useEffect(function(){return document.body.setAttribute(Ml,(J1()+1).toString()),function(){var n=J1()-1;n<=0?document.body.removeAttribute(Ml):document.body.setAttribute(Ml,n.toString())}},[])},sU=function(n){var e=n.noRelative,t=n.noImportant,i=n.gapMode,o=i===void 0?"margin":i;iU();var l=I.useMemo(function(){return tU(o)},[o]);return I.createElement(nU,{styles:rU(l,!e,o,t?"":"!important")})},iv=!1;if(typeof window<"u")try{var Hh=Object.defineProperty({},"passive",{get:function(){return iv=!0,!0}});window.addEventListener("test",Hh,Hh),window.removeEventListener("test",Hh,Hh)}catch{iv=!1}var pl=iv?{passive:!1}:!1,oU=function(n){return n.tagName==="TEXTAREA"},GR=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!oU(n)&&t[e]==="visible")},aU=function(n){return GR(n,"overflowY")},lU=function(n){return GR(n,"overflowX")},eT=function(n,e){var t=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var o=$R(n,i);if(o){var l=KR(n,i),c=l[1],f=l[2];if(c>f)return!0}i=i.parentNode}while(i&&i!==t.body);return!1},cU=function(n){var e=n.scrollTop,t=n.scrollHeight,i=n.clientHeight;return[e,t,i]},uU=function(n){var e=n.scrollLeft,t=n.scrollWidth,i=n.clientWidth;return[e,t,i]},$R=function(n,e){return n==="v"?aU(e):lU(e)},KR=function(n,e){return n==="v"?cU(e):uU(e)},fU=function(n,e){return n==="h"&&e==="rtl"?-1:1},hU=function(n,e,t,i,o){var l=fU(n,window.getComputedStyle(e).direction),c=l*i,f=t.target,h=e.contains(f),d=!1,v=c>0,g=0,_=0;do{if(!f)break;var w=KR(n,f),T=w[0],R=w[1],C=w[2],k=R-C-l*T;(T||k)&&$R(n,f)&&(g+=k,_+=T);var U=f.parentNode;f=U&&U.nodeType===Node.DOCUMENT_FRAGMENT_NODE?U.host:U}while(!h&&f!==document.body||h&&(e.contains(f)||e===f));return(v&&Math.abs(g)<1||!v&&Math.abs(_)<1)&&(d=!0),d},qh=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},tT=function(n){return[n.deltaX,n.deltaY]},nT=function(n){return n&&"current"in n?n.current:n},dU=function(n,e){return n[0]===e[0]&&n[1]===e[1]},mU=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},pU=0,gl=[];function gU(n){var e=I.useRef([]),t=I.useRef([0,0]),i=I.useRef(),o=I.useState(pU++)[0],l=I.useState(qR)[0],c=I.useRef(n);I.useEffect(function(){c.current=n},[n]),I.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(o));var R=V9([n.lockRef.current],(n.shards||[]).map(nT),!0).filter(Boolean);return R.forEach(function(C){return C.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),R.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(o))})}}},[n.inert,n.lockRef.current,n.shards]);var f=I.useCallback(function(R,C){if("touches"in R&&R.touches.length===2||R.type==="wheel"&&R.ctrlKey)return!c.current.allowPinchZoom;var k=qh(R),U=t.current,z="deltaX"in R?R.deltaX:U[0]-k[0],B="deltaY"in R?R.deltaY:U[1]-k[1],$,F=R.target,x=Math.abs(z)>Math.abs(B)?"h":"v";if("touches"in R&&x==="h"&&F.type==="range")return!1;var A=window.getSelection(),M=A&&A.anchorNode,P=M?M===F||M.contains(F):!1;if(P)return!1;var O=eT(x,F);if(!O)return!0;if(O?$=x:($=x==="v"?"h":"v",O=eT(x,F)),!O)return!1;if(!i.current&&"changedTouches"in R&&(z||B)&&(i.current=$),!$)return!0;var j=i.current||$;return hU(j,C,R,j==="h"?z:B)},[]),h=I.useCallback(function(R){var C=R;if(!(!gl.length||gl[gl.length-1]!==l)){var k="deltaY"in C?tT(C):qh(C),U=e.current.filter(function($){return $.name===C.type&&($.target===C.target||C.target===$.shadowParent)&&dU($.delta,k)})[0];if(U&&U.should){C.cancelable&&C.preventDefault();return}if(!U){var z=(c.current.shards||[]).map(nT).filter(Boolean).filter(function($){return $.contains(C.target)}),B=z.length>0?f(C,z[0]):!c.current.noIsolation;B&&C.cancelable&&C.preventDefault()}}},[]),d=I.useCallback(function(R,C,k,U){var z={name:R,delta:C,target:k,should:U,shadowParent:yU(k)};e.current.push(z),setTimeout(function(){e.current=e.current.filter(function(B){return B!==z})},1)},[]),v=I.useCallback(function(R){t.current=qh(R),i.current=void 0},[]),g=I.useCallback(function(R){d(R.type,tT(R),R.target,f(R,n.lockRef.current))},[]),_=I.useCallback(function(R){d(R.type,qh(R),R.target,f(R,n.lockRef.current))},[]);I.useEffect(function(){return gl.push(l),n.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:_}),document.addEventListener("wheel",h,pl),document.addEventListener("touchmove",h,pl),document.addEventListener("touchstart",v,pl),function(){gl=gl.filter(function(R){return R!==l}),document.removeEventListener("wheel",h,pl),document.removeEventListener("touchmove",h,pl),document.removeEventListener("touchstart",v,pl)}},[]);var w=n.removeScrollBar,T=n.inert;return I.createElement(I.Fragment,null,T?I.createElement(l,{styles:mU(o)}):null,w?I.createElement(sU,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function yU(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const vU=$9(HR,gU);var I_=I.forwardRef(function(n,e){return I.createElement(Mm,xi({},n,{ref:e,sideCar:vU}))});I_.classNames=Mm.classNames;var _U=[" ","Enter","ArrowUp","ArrowDown"],bU=[" ","Enter"],ba="Select",[Dm,Om,wU]=U6(ba),[tc]=Zu(ba,[wU,CR]),Pm=CR(),[EU,To]=tc(ba),[SU,TU]=tc(ba),YR=n=>{const{__scopeSelect:e,children:t,open:i,defaultOpen:o,onOpenChange:l,value:c,defaultValue:f,onValueChange:h,dir:d,name:v,autoComplete:g,disabled:_,required:w,form:T}=n,R=Pm(e),[C,k]=I.useState(null),[U,z]=I.useState(null),[B,$]=I.useState(!1),F=j6(d),[x,A]=Wd({prop:i,defaultProp:o??!1,onChange:l,caller:ba}),[M,P]=Wd({prop:c,defaultProp:f,onChange:h,caller:ba}),O=I.useRef(null),j=C?T||!!C.closest("form"):!0,[L,he]=I.useState(new Set),pe=Array.from(L).map(H=>H.props.value).join(";");return N.jsx(T9,{...R,children:N.jsxs(EU,{required:w,scope:e,trigger:C,onTriggerChange:k,valueNode:U,onValueNodeChange:z,valueNodeHasChildren:B,onValueNodeHasChildrenChange:$,contentId:Il(),value:M,onValueChange:P,open:x,onOpenChange:A,dir:F,triggerPointerDownPosRef:O,disabled:_,children:[N.jsx(Dm.Provider,{scope:e,children:N.jsx(SU,{scope:n.__scopeSelect,onNativeOptionAdd:I.useCallback(H=>{he(J=>new Set(J).add(H))},[]),onNativeOptionRemove:I.useCallback(H=>{he(J=>{const X=new Set(J);return X.delete(H),X})},[]),children:t})}),j?N.jsxs(gC,{"aria-hidden":!0,required:w,tabIndex:-1,name:v,autoComplete:g,value:M,onChange:H=>P(H.target.value),disabled:_,form:T,children:[M===void 0?N.jsx("option",{value:""}):null,Array.from(L)]},pe):null]})})};YR.displayName=ba;var XR="SelectTrigger",QR=I.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:i=!1,...o}=n,l=Pm(t),c=To(XR,t),f=c.disabled||i,h=Lt(e,c.onTriggerChange),d=Om(t),v=I.useRef("touch"),[g,_,w]=vC(R=>{const C=d().filter(z=>!z.disabled),k=C.find(z=>z.value===c.value),U=_C(C,R,k);U!==void 0&&c.onValueChange(U.value)}),T=R=>{f||(c.onOpenChange(!0),w()),R&&(c.triggerPointerDownPosRef.current={x:Math.round(R.pageX),y:Math.round(R.pageY)})};return N.jsx(A9,{asChild:!0,...l,children:N.jsx(pt.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":yC(c.value)?"":void 0,...o,ref:h,onClick:Et(o.onClick,R=>{R.currentTarget.focus(),v.current!=="mouse"&&T(R)}),onPointerDown:Et(o.onPointerDown,R=>{v.current=R.pointerType;const C=R.target;C.hasPointerCapture(R.pointerId)&&C.releasePointerCapture(R.pointerId),R.button===0&&R.ctrlKey===!1&&R.pointerType==="mouse"&&(T(R),R.preventDefault())}),onKeyDown:Et(o.onKeyDown,R=>{const C=g.current!=="";!(R.ctrlKey||R.altKey||R.metaKey)&&R.key.length===1&&_(R.key),!(C&&R.key===" ")&&_U.includes(R.key)&&(T(),R.preventDefault())})})})});QR.displayName=XR;var WR="SelectValue",ZR=I.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:o,children:l,placeholder:c="",...f}=n,h=To(WR,t),{onValueNodeHasChildrenChange:d}=h,v=l!==void 0,g=Lt(e,h.onValueNodeChange);return jn(()=>{d(v)},[d,v]),N.jsx(pt.span,{...f,ref:g,style:{pointerEvents:"none"},children:yC(h.value)?N.jsx(N.Fragment,{children:c}):l})});ZR.displayName=WR;var AU="SelectIcon",JR=I.forwardRef((n,e)=>{const{__scopeSelect:t,children:i,...o}=n;return N.jsx(pt.span,{"aria-hidden":!0,...o,ref:e,children:i||""})});JR.displayName=AU;var xU="SelectPortal",eC=n=>N.jsx(C_,{asChild:!0,...n});eC.displayName=xU;var wa="SelectContent",tC=I.forwardRef((n,e)=>{const t=To(wa,n.__scopeSelect),[i,o]=I.useState();if(jn(()=>{o(new DocumentFragment)},[]),!t.open){const l=i;return l?Hl.createPortal(N.jsx(nC,{scope:n.__scopeSelect,children:N.jsx(Dm.Slot,{scope:n.__scopeSelect,children:N.jsx("div",{children:n.children})})}),l):null}return N.jsx(rC,{...n,ref:e})});tC.displayName=wa;var Xr=10,[nC,Ao]=tc(wa),RU="SelectContentImpl",CU=Vu("SelectContent.RemoveScroll"),rC=I.forwardRef((n,e)=>{const{__scopeSelect:t,position:i="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:l,onPointerDownOutside:c,side:f,sideOffset:h,align:d,alignOffset:v,arrowPadding:g,collisionBoundary:_,collisionPadding:w,sticky:T,hideWhenDetached:R,avoidCollisions:C,...k}=n,U=To(wa,t),[z,B]=I.useState(null),[$,F]=I.useState(null),x=Lt(e,ae=>B(ae)),[A,M]=I.useState(null),[P,O]=I.useState(null),j=Om(t),[L,he]=I.useState(!1),pe=I.useRef(!1);I.useEffect(()=>{if(z)return jR(z)},[z]),hR();const H=I.useCallback(ae=>{const[ye,...Ee]=j().map(Re=>Re.ref.current),[Ie]=Ee.slice(-1),De=document.activeElement;for(const Re of ae)if(Re===De||(Re==null||Re.scrollIntoView({block:"nearest"}),Re===ye&&$&&($.scrollTop=0),Re===Ie&&$&&($.scrollTop=$.scrollHeight),Re==null||Re.focus(),document.activeElement!==De))return},[j,$]),J=I.useCallback(()=>H([A,z]),[H,A,z]);I.useEffect(()=>{L&&J()},[L,J]);const{onOpenChange:X,triggerPointerDownPosRef:ge}=U;I.useEffect(()=>{if(z){let ae={x:0,y:0};const ye=Ie=>{var De,Re;ae={x:Math.abs(Math.round(Ie.pageX)-(((De=ge.current)==null?void 0:De.x)??0)),y:Math.abs(Math.round(Ie.pageY)-(((Re=ge.current)==null?void 0:Re.y)??0))}},Ee=Ie=>{ae.x<=10&&ae.y<=10?Ie.preventDefault():z.contains(Ie.target)||X(!1),document.removeEventListener("pointermove",ye),ge.current=null};return ge.current!==null&&(document.addEventListener("pointermove",ye),document.addEventListener("pointerup",Ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ye),document.removeEventListener("pointerup",Ee,{capture:!0})}}},[z,X,ge]),I.useEffect(()=>{const ae=()=>X(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[X]);const[we,G]=vC(ae=>{const ye=j().filter(De=>!De.disabled),Ee=ye.find(De=>De.ref.current===document.activeElement),Ie=_C(ye,ae,Ee);Ie&&setTimeout(()=>Ie.ref.current.focus())}),ie=I.useCallback((ae,ye,Ee)=>{const Ie=!pe.current&&!Ee;(U.value!==void 0&&U.value===ye||Ie)&&(M(ae),Ie&&(pe.current=!0))},[U.value]),ne=I.useCallback(()=>z==null?void 0:z.focus(),[z]),oe=I.useCallback((ae,ye,Ee)=>{const Ie=!pe.current&&!Ee;(U.value!==void 0&&U.value===ye||Ie)&&O(ae)},[U.value]),de=i==="popper"?sv:iC,_e=de===sv?{side:f,sideOffset:h,align:d,alignOffset:v,arrowPadding:g,collisionBoundary:_,collisionPadding:w,sticky:T,hideWhenDetached:R,avoidCollisions:C}:{};return N.jsx(nC,{scope:t,content:z,viewport:$,onViewportChange:F,itemRefCallback:ie,selectedItem:A,onItemLeave:ne,itemTextRefCallback:oe,focusSelectedItem:J,selectedItemText:P,position:i,isPositioned:L,searchRef:we,children:N.jsx(I_,{as:CU,allowPinchZoom:!0,children:N.jsx(__,{asChild:!0,trapped:U.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:Et(o,ae=>{var ye;(ye=U.trigger)==null||ye.focus({preventScroll:!0}),ae.preventDefault()}),children:N.jsx(v_,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>U.onOpenChange(!1),children:N.jsx(de,{role:"listbox",id:U.contentId,"data-state":U.open?"open":"closed",dir:U.dir,onContextMenu:ae=>ae.preventDefault(),...k,..._e,onPlaced:()=>he(!0),ref:x,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:Et(k.onKeyDown,ae=>{const ye=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!ye&&ae.key.length===1&&G(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let Ie=j().filter(De=>!De.disabled).map(De=>De.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(Ie=Ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const De=ae.target,Re=Ie.indexOf(De);Ie=Ie.slice(Re+1)}setTimeout(()=>H(Ie)),ae.preventDefault()}})})})})})})});rC.displayName=RU;var IU="SelectItemAlignedPosition",iC=I.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:i,...o}=n,l=To(wa,t),c=Ao(wa,t),[f,h]=I.useState(null),[d,v]=I.useState(null),g=Lt(e,x=>v(x)),_=Om(t),w=I.useRef(!1),T=I.useRef(!0),{viewport:R,selectedItem:C,selectedItemText:k,focusSelectedItem:U}=c,z=I.useCallback(()=>{if(l.trigger&&l.valueNode&&f&&d&&R&&C&&k){const x=l.trigger.getBoundingClientRect(),A=d.getBoundingClientRect(),M=l.valueNode.getBoundingClientRect(),P=k.getBoundingClientRect();if(l.dir!=="rtl"){const De=P.left-A.left,Re=M.left-De,lt=x.left-Re,tt=x.width+lt,Vt=Math.max(tt,A.width),xt=window.innerWidth-Xr,Rt=D1(Re,[Xr,Math.max(Xr,xt-Vt)]);f.style.minWidth=tt+"px",f.style.left=Rt+"px"}else{const De=A.right-P.right,Re=window.innerWidth-M.right-De,lt=window.innerWidth-x.right-Re,tt=x.width+lt,Vt=Math.max(tt,A.width),xt=window.innerWidth-Xr,Rt=D1(Re,[Xr,Math.max(Xr,xt-Vt)]);f.style.minWidth=tt+"px",f.style.right=Rt+"px"}const O=_(),j=window.innerHeight-Xr*2,L=R.scrollHeight,he=window.getComputedStyle(d),pe=parseInt(he.borderTopWidth,10),H=parseInt(he.paddingTop,10),J=parseInt(he.borderBottomWidth,10),X=parseInt(he.paddingBottom,10),ge=pe+H+L+X+J,we=Math.min(C.offsetHeight*5,ge),G=window.getComputedStyle(R),ie=parseInt(G.paddingTop,10),ne=parseInt(G.paddingBottom,10),oe=x.top+x.height/2-Xr,de=j-oe,_e=C.offsetHeight/2,ae=C.offsetTop+_e,ye=pe+H+ae,Ee=ge-ye;if(ye<=oe){const De=O.length>0&&C===O[O.length-1].ref.current;f.style.bottom="0px";const Re=d.clientHeight-R.offsetTop-R.offsetHeight,lt=Math.max(de,_e+(De?ne:0)+Re+J),tt=ye+lt;f.style.height=tt+"px"}else{const De=O.length>0&&C===O[0].ref.current;f.style.top="0px";const lt=Math.max(oe,pe+R.offsetTop+(De?ie:0)+_e)+Ee;f.style.height=lt+"px",R.scrollTop=ye-oe+R.offsetTop}f.style.margin=`${Xr}px 0`,f.style.minHeight=we+"px",f.style.maxHeight=j+"px",i==null||i(),requestAnimationFrame(()=>w.current=!0)}},[_,l.trigger,l.valueNode,f,d,R,C,k,l.dir,i]);jn(()=>z(),[z]);const[B,$]=I.useState();jn(()=>{d&&$(window.getComputedStyle(d).zIndex)},[d]);const F=I.useCallback(x=>{x&&T.current===!0&&(z(),U==null||U(),T.current=!1)},[z,U]);return N.jsx(MU,{scope:t,contentWrapper:f,shouldExpandOnScrollRef:w,onScrollButtonChange:F,children:N.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:B},children:N.jsx(pt.div,{...o,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});iC.displayName=IU;var NU="SelectPopperPosition",sv=I.forwardRef((n,e)=>{const{__scopeSelect:t,align:i="start",collisionPadding:o=Xr,...l}=n,c=Pm(t);return N.jsx(x9,{...c,...l,ref:e,align:i,collisionPadding:o,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});sv.displayName=NU;var[MU,N_]=tc(wa,{}),ov="SelectViewport",sC=I.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:i,...o}=n,l=Ao(ov,t),c=N_(ov,t),f=Lt(e,l.onViewportChange),h=I.useRef(0);return N.jsxs(N.Fragment,{children:[N.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),N.jsx(Dm.Slot,{scope:t,children:N.jsx(pt.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Et(o.onScroll,d=>{const v=d.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:_}=c;if(_!=null&&_.current&&g){const w=Math.abs(h.current-v.scrollTop);if(w>0){const T=window.innerHeight-Xr*2,R=parseFloat(g.style.minHeight),C=parseFloat(g.style.height),k=Math.max(R,C);if(k<T){const U=k+w,z=Math.min(T,U),B=U-z;g.style.height=z+"px",g.style.bottom==="0px"&&(v.scrollTop=B>0?B:0,g.style.justifyContent="flex-end")}}}h.current=v.scrollTop})})})]})});sC.displayName=ov;var oC="SelectGroup",[DU,OU]=tc(oC),PU=I.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,o=Il();return N.jsx(DU,{scope:t,id:o,children:N.jsx(pt.div,{role:"group","aria-labelledby":o,...i,ref:e})})});PU.displayName=oC;var aC="SelectLabel",kU=I.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,o=OU(aC,t);return N.jsx(pt.div,{id:o.id,...i,ref:e})});kU.displayName=aC;var Zd="SelectItem",[LU,lC]=tc(Zd),cC=I.forwardRef((n,e)=>{const{__scopeSelect:t,value:i,disabled:o=!1,textValue:l,...c}=n,f=To(Zd,t),h=Ao(Zd,t),d=f.value===i,[v,g]=I.useState(l??""),[_,w]=I.useState(!1),T=Lt(e,U=>{var z;return(z=h.itemRefCallback)==null?void 0:z.call(h,U,i,o)}),R=Il(),C=I.useRef("touch"),k=()=>{o||(f.onValueChange(i),f.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return N.jsx(LU,{scope:t,value:i,disabled:o,textId:R,isSelected:d,onItemTextChange:I.useCallback(U=>{g(z=>z||((U==null?void 0:U.textContent)??"").trim())},[]),children:N.jsx(Dm.ItemSlot,{scope:t,value:i,disabled:o,textValue:v,children:N.jsx(pt.div,{role:"option","aria-labelledby":R,"data-highlighted":_?"":void 0,"aria-selected":d&&_,"data-state":d?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...c,ref:T,onFocus:Et(c.onFocus,()=>w(!0)),onBlur:Et(c.onBlur,()=>w(!1)),onClick:Et(c.onClick,()=>{C.current!=="mouse"&&k()}),onPointerUp:Et(c.onPointerUp,()=>{C.current==="mouse"&&k()}),onPointerDown:Et(c.onPointerDown,U=>{C.current=U.pointerType}),onPointerMove:Et(c.onPointerMove,U=>{var z;C.current=U.pointerType,o?(z=h.onItemLeave)==null||z.call(h):C.current==="mouse"&&U.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Et(c.onPointerLeave,U=>{var z;U.currentTarget===document.activeElement&&((z=h.onItemLeave)==null||z.call(h))}),onKeyDown:Et(c.onKeyDown,U=>{var B;((B=h.searchRef)==null?void 0:B.current)!==""&&U.key===" "||(bU.includes(U.key)&&k(),U.key===" "&&U.preventDefault())})})})})});cC.displayName=Zd;var gu="SelectItemText",uC=I.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:o,...l}=n,c=To(gu,t),f=Ao(gu,t),h=lC(gu,t),d=TU(gu,t),[v,g]=I.useState(null),_=Lt(e,k=>g(k),h.onItemTextChange,k=>{var U;return(U=f.itemTextRefCallback)==null?void 0:U.call(f,k,h.value,h.disabled)}),w=v==null?void 0:v.textContent,T=I.useMemo(()=>N.jsx("option",{value:h.value,disabled:h.disabled,children:w},h.value),[h.disabled,h.value,w]),{onNativeOptionAdd:R,onNativeOptionRemove:C}=d;return jn(()=>(R(T),()=>C(T)),[R,C,T]),N.jsxs(N.Fragment,{children:[N.jsx(pt.span,{id:h.textId,...l,ref:_}),h.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Hl.createPortal(l.children,c.valueNode):null]})});uC.displayName=gu;var fC="SelectItemIndicator",hC=I.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return lC(fC,t).isSelected?N.jsx(pt.span,{"aria-hidden":!0,...i,ref:e}):null});hC.displayName=fC;var av="SelectScrollUpButton",dC=I.forwardRef((n,e)=>{const t=Ao(av,n.__scopeSelect),i=N_(av,n.__scopeSelect),[o,l]=I.useState(!1),c=Lt(e,i.onScrollButtonChange);return jn(()=>{if(t.viewport&&t.isPositioned){let f=function(){const d=h.scrollTop>0;l(d)};const h=t.viewport;return f(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[t.viewport,t.isPositioned]),o?N.jsx(pC,{...n,ref:c,onAutoScroll:()=>{const{viewport:f,selectedItem:h}=t;f&&h&&(f.scrollTop=f.scrollTop-h.offsetHeight)}}):null});dC.displayName=av;var lv="SelectScrollDownButton",mC=I.forwardRef((n,e)=>{const t=Ao(lv,n.__scopeSelect),i=N_(lv,n.__scopeSelect),[o,l]=I.useState(!1),c=Lt(e,i.onScrollButtonChange);return jn(()=>{if(t.viewport&&t.isPositioned){let f=function(){const d=h.scrollHeight-h.clientHeight,v=Math.ceil(h.scrollTop)<d;l(v)};const h=t.viewport;return f(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[t.viewport,t.isPositioned]),o?N.jsx(pC,{...n,ref:c,onAutoScroll:()=>{const{viewport:f,selectedItem:h}=t;f&&h&&(f.scrollTop=f.scrollTop+h.offsetHeight)}}):null});mC.displayName=lv;var pC=I.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:i,...o}=n,l=Ao("SelectScrollButton",t),c=I.useRef(null),f=Om(t),h=I.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return I.useEffect(()=>()=>h(),[h]),jn(()=>{var v;const d=f().find(g=>g.ref.current===document.activeElement);(v=d==null?void 0:d.ref.current)==null||v.scrollIntoView({block:"nearest"})},[f]),N.jsx(pt.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:Et(o.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(i,50))}),onPointerMove:Et(o.onPointerMove,()=>{var d;(d=l.onItemLeave)==null||d.call(l),c.current===null&&(c.current=window.setInterval(i,50))}),onPointerLeave:Et(o.onPointerLeave,()=>{h()})})}),VU="SelectSeparator",UU=I.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return N.jsx(pt.div,{"aria-hidden":!0,...i,ref:e})});UU.displayName=VU;var cv="SelectArrow",zU=I.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,o=Pm(t),l=To(cv,t),c=Ao(cv,t);return l.open&&c.position==="popper"?N.jsx(R9,{...o,...i,ref:e}):null});zU.displayName=cv;var jU="SelectBubbleInput",gC=I.forwardRef(({__scopeSelect:n,value:e,...t},i)=>{const o=I.useRef(null),l=Lt(i,o),c=VR(e);return I.useEffect(()=>{const f=o.current;if(!f)return;const h=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(h,"value").set;if(c!==e&&v){const g=new Event("change",{bubbles:!0});v.call(f,e),f.dispatchEvent(g)}},[c,e]),N.jsx(pt.select,{...t,style:{...UR,...t.style},ref:l,defaultValue:e})});gC.displayName=jU;function yC(n){return n===""||n===void 0}function vC(n){const e=va(n),t=I.useRef(""),i=I.useRef(0),o=I.useCallback(c=>{const f=t.current+c;e(f),(function h(d){t.current=d,window.clearTimeout(i.current),d!==""&&(i.current=window.setTimeout(()=>h(""),1e3))})(f)},[e]),l=I.useCallback(()=>{t.current="",window.clearTimeout(i.current)},[]);return I.useEffect(()=>()=>window.clearTimeout(i.current),[]),[t,o,l]}function _C(n,e,t){const o=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,l=t?n.indexOf(t):-1;let c=BU(n,Math.max(l,0));o.length===1&&(c=c.filter(d=>d!==t));const h=c.find(d=>d.textValue.toLowerCase().startsWith(o.toLowerCase()));return h!==t?h:void 0}function BU(n,e){return n.map((t,i)=>n[(e+i)%n.length])}var FU=QR,HU=ZR,qU=JR,GU=eC,$U=tC,KU=sC,YU=cC,XU=uC,QU=hC,WU=dC,ZU=mC;const ef=({children:n,className:e="",horizontal:t=!1})=>{const i=`inline-flex gap-1 ${t?"flex-row [&>*:first-child]:rounded-l-xl [&>*:first-child]:rounded-r-none [&>*:last-child]:rounded-r-xl [&>*:last-child]:rounded-l-none [&>*:not(:first-child):not(:last-child)]:rounded-none [&>*:only-child]:rounded-xl":"flex-col [&>*:first-child]:rounded-t-xl [&>*:first-child]:rounded-b-none [&>*:last-child]:rounded-b-xl [&>*:last-child]:rounded-t-none [&>*:not(:first-child):not(:last-child)]:rounded-none [&>*:only-child]:rounded-xl"}`;return N.jsx("div",{className:`${i} ${e}`,children:n})};function bC(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=bC(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function wC(){for(var n,e,t=0,i="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=bC(n))&&(i&&(i+=" "),i+=e);return i}const rT=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,iT=wC,JU=(n,e)=>t=>{var i;if((e==null?void 0:e.variants)==null)return iT(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:o,defaultVariants:l}=e,c=Object.keys(o).map(d=>{const v=t==null?void 0:t[d],g=l==null?void 0:l[d];if(v===null)return null;const _=rT(v)||rT(g);return o[d][_]}),f=t&&Object.entries(t).reduce((d,v)=>{let[g,_]=v;return _===void 0||(d[g]=_),d},{}),h=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((d,v)=>{let{class:g,className:_,...w}=v;return Object.entries(w).every(T=>{let[R,C]=T;return Array.isArray(C)?C.includes({...l,...f}[R]):{...l,...f}[R]===C})?[...d,g,_]:d},[]);return iT(n,c,h,t==null?void 0:t.class,t==null?void 0:t.className)},ez=(n,e)=>{const t=new Array(n.length+e.length);for(let i=0;i<n.length;i++)t[i]=n[i];for(let i=0;i<e.length;i++)t[n.length+i]=e[i];return t},tz=(n,e)=>({classGroupId:n,validator:e}),EC=(n=new Map,e=null,t)=>({nextPart:n,validators:e,classGroupId:t}),Jd="-",sT=[],nz="arbitrary..",rz=n=>{const e=sz(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return iz(c);const f=c.split(Jd),h=f[0]===""&&f.length>1?1:0;return SC(f,h,e)},getConflictingClassGroupIds:(c,f)=>{if(f){const h=i[c],d=t[c];return h?d?ez(d,h):h:d||sT}return t[c]||sT}}},SC=(n,e,t)=>{if(n.length-e===0)return t.classGroupId;const o=n[e],l=t.nextPart.get(o);if(l){const d=SC(n,e+1,l);if(d)return d}const c=t.validators;if(c===null)return;const f=e===0?n.join(Jd):n.slice(e).join(Jd),h=c.length;for(let d=0;d<h;d++){const v=c[d];if(v.validator(f))return v.classGroupId}},iz=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=n.slice(1,-1),t=e.indexOf(":"),i=e.slice(0,t);return i?nz+i:void 0})(),sz=n=>{const{theme:e,classGroups:t}=n;return oz(t,e)},oz=(n,e)=>{const t=EC();for(const i in n){const o=n[i];M_(o,t,i,e)}return t},M_=(n,e,t,i)=>{const o=n.length;for(let l=0;l<o;l++){const c=n[l];az(c,e,t,i)}},az=(n,e,t,i)=>{if(typeof n=="string"){lz(n,e,t);return}if(typeof n=="function"){cz(n,e,t,i);return}uz(n,e,t,i)},lz=(n,e,t)=>{const i=n===""?e:TC(e,n);i.classGroupId=t},cz=(n,e,t,i)=>{if(fz(n)){M_(n(i),e,t,i);return}e.validators===null&&(e.validators=[]),e.validators.push(tz(t,n))},uz=(n,e,t,i)=>{const o=Object.entries(n),l=o.length;for(let c=0;c<l;c++){const[f,h]=o[c];M_(h,TC(e,f),t,i)}},TC=(n,e)=>{let t=n;const i=e.split(Jd),o=i.length;for(let l=0;l<o;l++){const c=i[l];let f=t.nextPart.get(c);f||(f=EC(),t.nextPart.set(c,f)),t=f}return t},fz=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,hz=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=Object.create(null),i=Object.create(null);const o=(l,c)=>{t[l]=c,e++,e>n&&(e=0,i=t,t=Object.create(null))};return{get(l){let c=t[l];if(c!==void 0)return c;if((c=i[l])!==void 0)return o(l,c),c},set(l,c){l in t?t[l]=c:o(l,c)}}},uv="!",oT=":",dz=[],aT=(n,e,t,i,o)=>({modifiers:n,hasImportantModifier:e,baseClassName:t,maybePostfixModifierPosition:i,isExternal:o}),mz=n=>{const{prefix:e,experimentalParseClassName:t}=n;let i=o=>{const l=[];let c=0,f=0,h=0,d;const v=o.length;for(let R=0;R<v;R++){const C=o[R];if(c===0&&f===0){if(C===oT){l.push(o.slice(h,R)),h=R+1;continue}if(C==="/"){d=R;continue}}C==="["?c++:C==="]"?c--:C==="("?f++:C===")"&&f--}const g=l.length===0?o:o.slice(h);let _=g,w=!1;g.endsWith(uv)?(_=g.slice(0,-1),w=!0):g.startsWith(uv)&&(_=g.slice(1),w=!0);const T=d&&d>h?d-h:void 0;return aT(l,w,_,T)};if(e){const o=e+oT,l=i;i=c=>c.startsWith(o)?l(c.slice(o.length)):aT(dz,!1,c,void 0,!0)}if(t){const o=i;i=l=>t({className:l,parseClassName:o})}return i},pz=n=>{const e=new Map;return n.orderSensitiveModifiers.forEach((t,i)=>{e.set(t,1e6+i)}),t=>{const i=[];let o=[];for(let l=0;l<t.length;l++){const c=t[l],f=c[0]==="[",h=e.has(c);f||h?(o.length>0&&(o.sort(),i.push(...o),o=[]),i.push(c)):o.push(c)}return o.length>0&&(o.sort(),i.push(...o)),i}},gz=n=>({cache:hz(n.cacheSize),parseClassName:mz(n),sortModifiers:pz(n),...rz(n)}),yz=/\s+/,vz=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:o,sortModifiers:l}=e,c=[],f=n.trim().split(yz);let h="";for(let d=f.length-1;d>=0;d-=1){const v=f[d],{isExternal:g,modifiers:_,hasImportantModifier:w,baseClassName:T,maybePostfixModifierPosition:R}=t(v);if(g){h=v+(h.length>0?" "+h:h);continue}let C=!!R,k=i(C?T.substring(0,R):T);if(!k){if(!C){h=v+(h.length>0?" "+h:h);continue}if(k=i(T),!k){h=v+(h.length>0?" "+h:h);continue}C=!1}const U=_.length===0?"":_.length===1?_[0]:l(_).join(":"),z=w?U+uv:U,B=z+k;if(c.indexOf(B)>-1)continue;c.push(B);const $=o(k,C);for(let F=0;F<$.length;++F){const x=$[F];c.push(z+x)}h=v+(h.length>0?" "+h:h)}return h},_z=(...n)=>{let e=0,t,i,o="";for(;e<n.length;)(t=n[e++])&&(i=AC(t))&&(o&&(o+=" "),o+=i);return o},AC=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=AC(n[i]))&&(t&&(t+=" "),t+=e);return t},bz=(n,...e)=>{let t,i,o,l;const c=h=>{const d=e.reduce((v,g)=>g(v),n());return t=gz(d),i=t.cache.get,o=t.cache.set,l=f,f(h)},f=h=>{const d=i(h);if(d)return d;const v=vz(h,t);return o(h,v),v};return l=c,(...h)=>l(_z(...h))},wz=[],ln=n=>{const e=t=>t[n]||wz;return e.isThemeGetter=!0,e},xC=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,RC=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Ez=/^\d+\/\d+$/,Sz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Tz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Az=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,xz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Rz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,yl=n=>Ez.test(n),$e=n=>!!n&&!Number.isNaN(Number(n)),Zs=n=>!!n&&Number.isInteger(Number(n)),wy=n=>n.endsWith("%")&&$e(n.slice(0,-1)),ss=n=>Sz.test(n),Cz=()=>!0,Iz=n=>Tz.test(n)&&!Az.test(n),CC=()=>!1,Nz=n=>xz.test(n),Mz=n=>Rz.test(n),Dz=n=>!Ae(n)&&!xe(n),Oz=n=>nc(n,MC,CC),Ae=n=>xC.test(n),Qo=n=>nc(n,DC,Iz),Ey=n=>nc(n,Uz,$e),lT=n=>nc(n,IC,CC),Pz=n=>nc(n,NC,Mz),Gh=n=>nc(n,OC,Nz),xe=n=>RC.test(n),uu=n=>rc(n,DC),kz=n=>rc(n,zz),cT=n=>rc(n,IC),Lz=n=>rc(n,MC),Vz=n=>rc(n,NC),$h=n=>rc(n,OC,!0),nc=(n,e,t)=>{const i=xC.exec(n);return i?i[1]?e(i[1]):t(i[2]):!1},rc=(n,e,t=!1)=>{const i=RC.exec(n);return i?i[1]?e(i[1]):t:!1},IC=n=>n==="position"||n==="percentage",NC=n=>n==="image"||n==="url",MC=n=>n==="length"||n==="size"||n==="bg-size",DC=n=>n==="length",Uz=n=>n==="number",zz=n=>n==="family-name",OC=n=>n==="shadow",jz=()=>{const n=ln("color"),e=ln("font"),t=ln("text"),i=ln("font-weight"),o=ln("tracking"),l=ln("leading"),c=ln("breakpoint"),f=ln("container"),h=ln("spacing"),d=ln("radius"),v=ln("shadow"),g=ln("inset-shadow"),_=ln("text-shadow"),w=ln("drop-shadow"),T=ln("blur"),R=ln("perspective"),C=ln("aspect"),k=ln("ease"),U=ln("animate"),z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],$=()=>[...B(),xe,Ae],F=()=>["auto","hidden","clip","visible","scroll"],x=()=>["auto","contain","none"],A=()=>[xe,Ae,h],M=()=>[yl,"full","auto",...A()],P=()=>[Zs,"none","subgrid",xe,Ae],O=()=>["auto",{span:["full",Zs,xe,Ae]},Zs,xe,Ae],j=()=>[Zs,"auto",xe,Ae],L=()=>["auto","min","max","fr",xe,Ae],he=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],pe=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...A()],J=()=>[yl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],X=()=>[n,xe,Ae],ge=()=>[...B(),cT,lT,{position:[xe,Ae]}],we=()=>["no-repeat",{repeat:["","x","y","space","round"]}],G=()=>["auto","cover","contain",Lz,Oz,{size:[xe,Ae]}],ie=()=>[wy,uu,Qo],ne=()=>["","none","full",d,xe,Ae],oe=()=>["",$e,uu,Qo],de=()=>["solid","dashed","dotted","double"],_e=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ae=()=>[$e,wy,cT,lT],ye=()=>["","none",T,xe,Ae],Ee=()=>["none",$e,xe,Ae],Ie=()=>["none",$e,xe,Ae],De=()=>[$e,xe,Ae],Re=()=>[yl,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ss],breakpoint:[ss],color:[Cz],container:[ss],"drop-shadow":[ss],ease:["in","out","in-out"],font:[Dz],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ss],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ss],shadow:[ss],spacing:["px",$e],text:[ss],"text-shadow":[ss],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",yl,Ae,xe,C]}],container:["container"],columns:[{columns:[$e,Ae,xe,f]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:$()}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:x()}],"overscroll-x":[{"overscroll-x":x()}],"overscroll-y":[{"overscroll-y":x()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[Zs,"auto",xe,Ae]}],basis:[{basis:[yl,"full","auto",f,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[$e,yl,"auto","initial","none",Ae]}],grow:[{grow:["",$e,xe,Ae]}],shrink:[{shrink:["",$e,xe,Ae]}],order:[{order:[Zs,"first","last","none",xe,Ae]}],"grid-cols":[{"grid-cols":P()}],"col-start-end":[{col:O()}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":P()}],"row-start-end":[{row:O()}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":L()}],"auto-rows":[{"auto-rows":L()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...he(),"normal"]}],"justify-items":[{"justify-items":[...pe(),"normal"]}],"justify-self":[{"justify-self":["auto",...pe()]}],"align-content":[{content:["normal",...he()]}],"align-items":[{items:[...pe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...pe(),{baseline:["","last"]}]}],"place-content":[{"place-content":he()}],"place-items":[{"place-items":[...pe(),"baseline"]}],"place-self":[{"place-self":["auto",...pe()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:J()}],w:[{w:[f,"screen",...J()]}],"min-w":[{"min-w":[f,"screen","none",...J()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[c]},...J()]}],h:[{h:["screen","lh",...J()]}],"min-h":[{"min-h":["screen","lh","none",...J()]}],"max-h":[{"max-h":["screen","lh",...J()]}],"font-size":[{text:["base",t,uu,Qo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,xe,Ey]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",wy,Ae]}],"font-family":[{font:[kz,Ae,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,xe,Ae]}],"line-clamp":[{"line-clamp":[$e,"none",xe,Ey]}],leading:[{leading:[l,...A()]}],"list-image":[{"list-image":["none",xe,Ae]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",xe,Ae]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:X()}],"text-color":[{text:X()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...de(),"wavy"]}],"text-decoration-thickness":[{decoration:[$e,"from-font","auto",xe,Qo]}],"text-decoration-color":[{decoration:X()}],"underline-offset":[{"underline-offset":[$e,"auto",xe,Ae]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xe,Ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xe,Ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ge()}],"bg-repeat":[{bg:we()}],"bg-size":[{bg:G()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Zs,xe,Ae],radial:["",xe,Ae],conic:[Zs,xe,Ae]},Vz,Pz]}],"bg-color":[{bg:X()}],"gradient-from-pos":[{from:ie()}],"gradient-via-pos":[{via:ie()}],"gradient-to-pos":[{to:ie()}],"gradient-from":[{from:X()}],"gradient-via":[{via:X()}],"gradient-to":[{to:X()}],rounded:[{rounded:ne()}],"rounded-s":[{"rounded-s":ne()}],"rounded-e":[{"rounded-e":ne()}],"rounded-t":[{"rounded-t":ne()}],"rounded-r":[{"rounded-r":ne()}],"rounded-b":[{"rounded-b":ne()}],"rounded-l":[{"rounded-l":ne()}],"rounded-ss":[{"rounded-ss":ne()}],"rounded-se":[{"rounded-se":ne()}],"rounded-ee":[{"rounded-ee":ne()}],"rounded-es":[{"rounded-es":ne()}],"rounded-tl":[{"rounded-tl":ne()}],"rounded-tr":[{"rounded-tr":ne()}],"rounded-br":[{"rounded-br":ne()}],"rounded-bl":[{"rounded-bl":ne()}],"border-w":[{border:oe()}],"border-w-x":[{"border-x":oe()}],"border-w-y":[{"border-y":oe()}],"border-w-s":[{"border-s":oe()}],"border-w-e":[{"border-e":oe()}],"border-w-t":[{"border-t":oe()}],"border-w-r":[{"border-r":oe()}],"border-w-b":[{"border-b":oe()}],"border-w-l":[{"border-l":oe()}],"divide-x":[{"divide-x":oe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":oe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...de(),"hidden","none"]}],"divide-style":[{divide:[...de(),"hidden","none"]}],"border-color":[{border:X()}],"border-color-x":[{"border-x":X()}],"border-color-y":[{"border-y":X()}],"border-color-s":[{"border-s":X()}],"border-color-e":[{"border-e":X()}],"border-color-t":[{"border-t":X()}],"border-color-r":[{"border-r":X()}],"border-color-b":[{"border-b":X()}],"border-color-l":[{"border-l":X()}],"divide-color":[{divide:X()}],"outline-style":[{outline:[...de(),"none","hidden"]}],"outline-offset":[{"outline-offset":[$e,xe,Ae]}],"outline-w":[{outline:["",$e,uu,Qo]}],"outline-color":[{outline:X()}],shadow:[{shadow:["","none",v,$h,Gh]}],"shadow-color":[{shadow:X()}],"inset-shadow":[{"inset-shadow":["none",g,$h,Gh]}],"inset-shadow-color":[{"inset-shadow":X()}],"ring-w":[{ring:oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:X()}],"ring-offset-w":[{"ring-offset":[$e,Qo]}],"ring-offset-color":[{"ring-offset":X()}],"inset-ring-w":[{"inset-ring":oe()}],"inset-ring-color":[{"inset-ring":X()}],"text-shadow":[{"text-shadow":["none",_,$h,Gh]}],"text-shadow-color":[{"text-shadow":X()}],opacity:[{opacity:[$e,xe,Ae]}],"mix-blend":[{"mix-blend":[..._e(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":_e()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[$e]}],"mask-image-linear-from-pos":[{"mask-linear-from":ae()}],"mask-image-linear-to-pos":[{"mask-linear-to":ae()}],"mask-image-linear-from-color":[{"mask-linear-from":X()}],"mask-image-linear-to-color":[{"mask-linear-to":X()}],"mask-image-t-from-pos":[{"mask-t-from":ae()}],"mask-image-t-to-pos":[{"mask-t-to":ae()}],"mask-image-t-from-color":[{"mask-t-from":X()}],"mask-image-t-to-color":[{"mask-t-to":X()}],"mask-image-r-from-pos":[{"mask-r-from":ae()}],"mask-image-r-to-pos":[{"mask-r-to":ae()}],"mask-image-r-from-color":[{"mask-r-from":X()}],"mask-image-r-to-color":[{"mask-r-to":X()}],"mask-image-b-from-pos":[{"mask-b-from":ae()}],"mask-image-b-to-pos":[{"mask-b-to":ae()}],"mask-image-b-from-color":[{"mask-b-from":X()}],"mask-image-b-to-color":[{"mask-b-to":X()}],"mask-image-l-from-pos":[{"mask-l-from":ae()}],"mask-image-l-to-pos":[{"mask-l-to":ae()}],"mask-image-l-from-color":[{"mask-l-from":X()}],"mask-image-l-to-color":[{"mask-l-to":X()}],"mask-image-x-from-pos":[{"mask-x-from":ae()}],"mask-image-x-to-pos":[{"mask-x-to":ae()}],"mask-image-x-from-color":[{"mask-x-from":X()}],"mask-image-x-to-color":[{"mask-x-to":X()}],"mask-image-y-from-pos":[{"mask-y-from":ae()}],"mask-image-y-to-pos":[{"mask-y-to":ae()}],"mask-image-y-from-color":[{"mask-y-from":X()}],"mask-image-y-to-color":[{"mask-y-to":X()}],"mask-image-radial":[{"mask-radial":[xe,Ae]}],"mask-image-radial-from-pos":[{"mask-radial-from":ae()}],"mask-image-radial-to-pos":[{"mask-radial-to":ae()}],"mask-image-radial-from-color":[{"mask-radial-from":X()}],"mask-image-radial-to-color":[{"mask-radial-to":X()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":B()}],"mask-image-conic-pos":[{"mask-conic":[$e]}],"mask-image-conic-from-pos":[{"mask-conic-from":ae()}],"mask-image-conic-to-pos":[{"mask-conic-to":ae()}],"mask-image-conic-from-color":[{"mask-conic-from":X()}],"mask-image-conic-to-color":[{"mask-conic-to":X()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ge()}],"mask-repeat":[{mask:we()}],"mask-size":[{mask:G()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",xe,Ae]}],filter:[{filter:["","none",xe,Ae]}],blur:[{blur:ye()}],brightness:[{brightness:[$e,xe,Ae]}],contrast:[{contrast:[$e,xe,Ae]}],"drop-shadow":[{"drop-shadow":["","none",w,$h,Gh]}],"drop-shadow-color":[{"drop-shadow":X()}],grayscale:[{grayscale:["",$e,xe,Ae]}],"hue-rotate":[{"hue-rotate":[$e,xe,Ae]}],invert:[{invert:["",$e,xe,Ae]}],saturate:[{saturate:[$e,xe,Ae]}],sepia:[{sepia:["",$e,xe,Ae]}],"backdrop-filter":[{"backdrop-filter":["","none",xe,Ae]}],"backdrop-blur":[{"backdrop-blur":ye()}],"backdrop-brightness":[{"backdrop-brightness":[$e,xe,Ae]}],"backdrop-contrast":[{"backdrop-contrast":[$e,xe,Ae]}],"backdrop-grayscale":[{"backdrop-grayscale":["",$e,xe,Ae]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[$e,xe,Ae]}],"backdrop-invert":[{"backdrop-invert":["",$e,xe,Ae]}],"backdrop-opacity":[{"backdrop-opacity":[$e,xe,Ae]}],"backdrop-saturate":[{"backdrop-saturate":[$e,xe,Ae]}],"backdrop-sepia":[{"backdrop-sepia":["",$e,xe,Ae]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",xe,Ae]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[$e,"initial",xe,Ae]}],ease:[{ease:["linear","initial",k,xe,Ae]}],delay:[{delay:[$e,xe,Ae]}],animate:[{animate:["none",U,xe,Ae]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[R,xe,Ae]}],"perspective-origin":[{"perspective-origin":$()}],rotate:[{rotate:Ee()}],"rotate-x":[{"rotate-x":Ee()}],"rotate-y":[{"rotate-y":Ee()}],"rotate-z":[{"rotate-z":Ee()}],scale:[{scale:Ie()}],"scale-x":[{"scale-x":Ie()}],"scale-y":[{"scale-y":Ie()}],"scale-z":[{"scale-z":Ie()}],"scale-3d":["scale-3d"],skew:[{skew:De()}],"skew-x":[{"skew-x":De()}],"skew-y":[{"skew-y":De()}],transform:[{transform:[xe,Ae,"","none","gpu","cpu"]}],"transform-origin":[{origin:$()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Re()}],"translate-x":[{"translate-x":Re()}],"translate-y":[{"translate-y":Re()}],"translate-z":[{"translate-z":Re()}],"translate-none":["translate-none"],accent:[{accent:X()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:X()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xe,Ae]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xe,Ae]}],fill:[{fill:["none",...X()]}],"stroke-w":[{stroke:[$e,uu,Qo,Ey]}],stroke:[{stroke:["none",...X()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Bz=bz(jz);function sn(...n){return Bz(wC(n))}const Fz=n=>Object.entries(n),Hz=JU("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-none font-bold transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-[#e4c29e] border-2 border-[#b99e81] hover:bg-[#d4b18a] active:bg-[#b99e81] transition-[background-color] duration-100",outline:"border-2 border-[#b99e81] bg-transparent hover:bg-[#e4c29e] active:bg-[#d4b18a]",ghost:"hover:bg-[#e4c29e]/50 active:bg-[#e4c29e]",link:"text-foreground underline-offset-4 hover:underline"},size:{default:"min-w-40 px-1 py-1",sm:"px-3 py-1 text-sm",lg:"px-8 py-3 text-lg",icon:"h-8 w-8 rounded-full border-2 border-[#b99e81] bg-[#e4c29e] hover:bg-[#d4b18a] active:bg-[#b99e81] [&_svg]:size-4"}},defaultVariants:{variant:"default",size:"default"}});function Gt({className:n,variant:e,size:t,...i}){return N.jsx("button",{className:sn(Hz({variant:e,size:t,className:n})),...i})}function D_({className:n,...e}){return N.jsx("div",{"data-slot":"card",className:sn("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",n),...e})}function O_({className:n,...e}){return N.jsx("div",{"data-slot":"card-header",className:sn("@container/card-header text-center grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function P_({className:n,...e}){return N.jsx("div",{"data-slot":"card-title",className:sn("leading-none font-semibold",n),...e})}function k_({className:n,...e}){return N.jsx("div",{"data-slot":"card-content",className:sn("px-6",n),...e})}function L_({className:n,...e}){return N.jsx("div",{"data-slot":"card-footer",className:sn("flex items-center px-6 [.border-t]:pt-6",n),...e})}function qz(n,e){return I.useReducer((t,i)=>e[t][i]??t,n)}var tf=n=>{const{present:e,children:t}=n,i=Gz(e),o=typeof t=="function"?t({present:i.isPresent}):I.Children.only(t),l=Lt(i.ref,$z(o));return typeof t=="function"||i.isPresent?I.cloneElement(o,{ref:l}):null};tf.displayName="Presence";function Gz(n){const[e,t]=I.useState(),i=I.useRef(null),o=I.useRef(n),l=I.useRef("none"),c=n?"mounted":"unmounted",[f,h]=qz(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return I.useEffect(()=>{const d=Kh(i.current);l.current=f==="mounted"?d:"none"},[f]),jn(()=>{const d=i.current,v=o.current;if(v!==n){const _=l.current,w=Kh(d);n?h("MOUNT"):w==="none"||(d==null?void 0:d.display)==="none"?h("UNMOUNT"):h(v&&_!==w?"ANIMATION_OUT":"UNMOUNT"),o.current=n}},[n,h]),jn(()=>{if(e){let d;const v=e.ownerDocument.defaultView??window,g=w=>{const R=Kh(i.current).includes(CSS.escape(w.animationName));if(w.target===e&&R&&(h("ANIMATION_END"),!o.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",d=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},_=w=>{w.target===e&&(l.current=Kh(i.current))};return e.addEventListener("animationstart",_),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{v.clearTimeout(d),e.removeEventListener("animationstart",_),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:I.useCallback(d=>{i.current=d?getComputedStyle(d):null,t(d)},[])}}function Kh(n){return(n==null?void 0:n.animationName)||"none"}function $z(n){var i,o;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(o=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var km="Checkbox",[Kz]=Zu(km),[Yz,V_]=Kz(km);function Xz(n){const{__scopeCheckbox:e,checked:t,children:i,defaultChecked:o,disabled:l,form:c,name:f,onCheckedChange:h,required:d,value:v="on",internal_do_not_use_render:g}=n,[_,w]=Wd({prop:t,defaultProp:o??!1,onChange:h,caller:km}),[T,R]=I.useState(null),[C,k]=I.useState(null),U=I.useRef(!1),z=T?!!c||!!T.closest("form"):!0,B={checked:_,disabled:l,setChecked:w,control:T,setControl:R,name:f,form:c,value:v,hasConsumerStoppedPropagationRef:U,required:d,defaultChecked:mo(o)?!1:o,isFormControl:z,bubbleInput:C,setBubbleInput:k};return N.jsx(Yz,{scope:e,...B,children:Qz(g)?g(B):i})}var PC="CheckboxTrigger",kC=I.forwardRef(({__scopeCheckbox:n,onKeyDown:e,onClick:t,...i},o)=>{const{control:l,value:c,disabled:f,checked:h,required:d,setControl:v,setChecked:g,hasConsumerStoppedPropagationRef:_,isFormControl:w,bubbleInput:T}=V_(PC,n),R=Lt(o,v),C=I.useRef(h);return I.useEffect(()=>{const k=l==null?void 0:l.form;if(k){const U=()=>g(C.current);return k.addEventListener("reset",U),()=>k.removeEventListener("reset",U)}},[l,g]),N.jsx(pt.button,{type:"button",role:"checkbox","aria-checked":mo(h)?"mixed":h,"aria-required":d,"data-state":BC(h),"data-disabled":f?"":void 0,disabled:f,value:c,...i,ref:R,onKeyDown:Et(e,k=>{k.key==="Enter"&&k.preventDefault()}),onClick:Et(t,k=>{g(U=>mo(U)?!0:!U),T&&w&&(_.current=k.isPropagationStopped(),_.current||k.stopPropagation())})})});kC.displayName=PC;var LC=I.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:i,checked:o,defaultChecked:l,required:c,disabled:f,value:h,onCheckedChange:d,form:v,...g}=n;return N.jsx(Xz,{__scopeCheckbox:t,checked:o,defaultChecked:l,disabled:f,required:c,onCheckedChange:d,name:i,form:v,value:h,internal_do_not_use_render:({isFormControl:_})=>N.jsxs(N.Fragment,{children:[N.jsx(kC,{...g,ref:e,__scopeCheckbox:t}),_&&N.jsx(jC,{__scopeCheckbox:t})]})})});LC.displayName=km;var VC="CheckboxIndicator",UC=I.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:i,...o}=n,l=V_(VC,t);return N.jsx(tf,{present:i||mo(l.checked)||l.checked===!0,children:N.jsx(pt.span,{"data-state":BC(l.checked),"data-disabled":l.disabled?"":void 0,...o,ref:e,style:{pointerEvents:"none",...n.style}})})});UC.displayName=VC;var zC="CheckboxBubbleInput",jC=I.forwardRef(({__scopeCheckbox:n,...e},t)=>{const{control:i,hasConsumerStoppedPropagationRef:o,checked:l,defaultChecked:c,required:f,disabled:h,name:d,value:v,form:g,bubbleInput:_,setBubbleInput:w}=V_(zC,n),T=Lt(t,w),R=VR(l),C=xR(i);I.useEffect(()=>{const U=_;if(!U)return;const z=window.HTMLInputElement.prototype,$=Object.getOwnPropertyDescriptor(z,"checked").set,F=!o.current;if(R!==l&&$){const x=new Event("click",{bubbles:F});U.indeterminate=mo(l),$.call(U,mo(l)?!1:l),U.dispatchEvent(x)}},[_,R,l,o]);const k=I.useRef(mo(l)?!1:l);return N.jsx(pt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??k.current,required:f,disabled:h,name:d,value:v,form:g,...e,tabIndex:-1,ref:T,style:{...e.style,...C,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});jC.displayName=zC;function Qz(n){return typeof n=="function"}function mo(n){return n==="indeterminate"}function BC(n){return mo(n)?"indeterminate":n?"checked":"unchecked"}function Wz({className:n,...e}){return N.jsx(LC,{"data-slot":"checkbox",className:sn("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:N.jsx(UC,{"data-slot":"checkbox-indicator",className:"grid place-content-center text-current transition-none",children:N.jsx(OT,{className:"size-3.5"})})})}function Zz({className:n,type:e,...t}){return N.jsx("input",{type:e,"data-slot":"input",className:sn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}var Jz=Symbol.for("react.lazy"),em=yv[" use ".trim().toString()];function ej(n){return typeof n=="object"&&n!==null&&"then"in n}function FC(n){return n!=null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===Jz&&"_payload"in n&&ej(n._payload)}function tj(n){const e=nj(n),t=I.forwardRef((i,o)=>{let{children:l,...c}=i;FC(l)&&typeof em=="function"&&(l=em(l._payload));const f=I.Children.toArray(l),h=f.find(ij);if(h){const d=h.props.children,v=f.map(g=>g===h?I.Children.count(d)>1?I.Children.only(null):I.isValidElement(d)?d.props.children:null:g);return N.jsx(e,{...c,ref:o,children:I.isValidElement(d)?I.cloneElement(d,void 0,v):null})}return N.jsx(e,{...c,ref:o,children:l})});return t.displayName=`${n}.Slot`,t}function nj(n){const e=I.forwardRef((t,i)=>{let{children:o,...l}=t;if(FC(o)&&typeof em=="function"&&(o=em(o._payload)),I.isValidElement(o)){const c=oj(o),f=sj(l,o.props);return o.type!==I.Fragment&&(f.ref=i?y_(i,c):c),I.cloneElement(o,f)}return I.Children.count(o)>1?I.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var rj=Symbol("radix.slottable");function ij(n){return I.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===rj}function sj(n,e){const t={...e};for(const i in e){const o=n[i],l=e[i];/^on[A-Z]/.test(i)?o&&l?t[i]=(...f)=>{const h=l(...f);return o(...f),h}:o&&(t[i]=o):i==="style"?t[i]={...o,...l}:i==="className"&&(t[i]=[o,l].filter(Boolean).join(" "))}return{...n,...t}}function oj(n){var i,o;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(o=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var aj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],lj=aj.reduce((n,e)=>{const t=tj(`Primitive.${e}`),i=I.forwardRef((o,l)=>{const{asChild:c,...f}=o,h=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),N.jsx(h,{...f,ref:l})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{}),cj="Label",HC=I.forwardRef((n,e)=>N.jsx(lj.label,{...n,ref:e,onMouseDown:t=>{var o;t.target.closest("button, input, select, textarea")||((o=n.onMouseDown)==null||o.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));HC.displayName=cj;var uj=HC;function Sy({className:n,...e}){return N.jsx(uj,{"data-slot":"label",className:sn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}function fj({...n}){return N.jsx(HU,{"data-slot":"select-value",...n})}function hj({className:n,size:e="default",children:t,...i}){return N.jsxs(FU,{"data-slot":"select-trigger","data-size":e,className:sn("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...i,children:[t,N.jsx(qU,{asChild:!0,children:N.jsx(PT,{className:"size-4 opacity-50"})})]})}function dj({className:n,children:e,position:t="item-aligned",align:i="center",...o}){return N.jsx(GU,{children:N.jsxs($U,{"data-slot":"select-content",className:sn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,align:i,...o,children:[N.jsx(pj,{}),N.jsx(KU,{className:sn("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),N.jsx(gj,{})]})})}function mj({className:n,children:e,...t}){return N.jsxs(YU,{"data-slot":"select-item",className:sn("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...t,children:[N.jsx("span",{"data-slot":"select-item-indicator",className:"absolute right-2 flex size-3.5 items-center justify-center",children:N.jsx(QU,{children:N.jsx(OT,{className:"size-4"})})}),N.jsx(XU,{children:e})]})}function pj({className:n,...e}){return N.jsx(WU,{"data-slot":"select-scroll-up-button",className:sn("flex cursor-default items-center justify-center py-1",n),...e,children:N.jsx(GM,{className:"size-4"})})}function gj({className:n,...e}){return N.jsx(ZU,{"data-slot":"select-scroll-down-button",className:sn("flex cursor-default items-center justify-center py-1",n),...e,children:N.jsx(PT,{className:"size-4"})})}const yj=()=>{const n=Ui(),{user:e,name:t}=Wu(),{settings:i,saveSettings:o,SettingsMetadata:l}=Tv(),[c,f]=I.useState({...i,displayName:t||i.displayName||""}),h=()=>{try{o(c),n({to:"/"})}catch(v){as.error(v instanceof Error?v.message:"Failed to save settings.")}},d=()=>n({to:"/"});return N.jsxs(D_,{children:[N.jsx(O_,{children:N.jsx(P_,{children:"Settings"})}),N.jsx(k_,{className:"flex flex-col gap-2",children:Fz(l).map(([v,g])=>{var _;if(v==="displayName")return N.jsxs(Sy,{className:"flex flex-col items-start gap-3 rounded-lg border p-3",children:[N.jsxs("div",{className:"grid gap-1.5",children:[N.jsx("p",{className:"text-sm leading-none font-medium",children:g.name}),N.jsx("p",{className:"text-muted-foreground text-sm",children:g.description})]}),N.jsx(Zz,{type:"text",autoComplete:"username",value:c[v],onChange:w=>f({...c,[v]:w.target.value}),disabled:!e,placeholder:e?"":"Please sign-in!"})]},v);switch(g.type){case"boolean":return N.jsxs(Sy,{className:"hover:bg-accent/50 flex items-start gap-3 rounded-lg border p-3 has-aria-checked:border-gray-600 has-aria-checked:bg-gray-50 dark:has-aria-checked:border-gray-900 dark:has-aria-checked:bg-gray-950",children:[N.jsx(Wz,{checked:c[v]===!0,onCheckedChange:w=>f({...c,[v]:w===!0})}),N.jsxs("div",{className:"grid gap-1.5 font-normal",children:[N.jsx("p",{className:"text-sm leading-none font-medium",children:g.name}),N.jsx("p",{className:"text-muted-foreground text-sm",children:g.description})]})]},v);case"select":return N.jsxs(Sy,{className:"flex flex-col items-start gap-3 rounded-lg border p-3",children:[N.jsxs("div",{className:"grid gap-1.5",children:[N.jsx("p",{className:"text-sm leading-none font-medium",children:g.name}),N.jsx("p",{className:"text-muted-foreground text-sm",children:g.description})]}),N.jsxs(YR,{value:c[v],onValueChange:w=>f({...c,[v]:w}),children:[N.jsx(hj,{className:"w-full",children:N.jsx(fj,{placeholder:"Select an option"})}),N.jsx(dj,{children:(_=g.options)==null?void 0:_.map(w=>N.jsx(mj,{value:w.value,children:w.label},w.value))})]})]},v);default:return null}})}),N.jsx(L_,{className:"justify-center",children:N.jsxs(ef,{horizontal:!0,children:[N.jsx(Gt,{type:"button",onClick:h,children:"Save"}),N.jsx(Gt,{type:"button",onClick:d,children:"Cancel"})]})})]})},vj=fa("/settings")({component:yj}),_j=()=>{const n=Ui(),{name:e,getScoreboard:t}=Wu(),[i,o]=I.useState(null),[l,c]=I.useState(!0),[f,h]=I.useState(!1),d=I.useCallback(async()=>{c(!0),h(!1);try{const v=await t();o(v)}catch{as.error("There was an error loading the scoreboard!"),h(!0)}finally{c(!1)}},[t]);return I.useEffect(()=>{d()},[d]),N.jsxs(D_,{children:[N.jsx(O_,{children:N.jsx(P_,{children:"Scoreboard"})}),N.jsx(k_,{children:N.jsxs("div",{className:"flex gap-4",children:[l&&N.jsx("span",{children:"Loading..."}),f&&N.jsxs("div",{className:"flex flex-col items-center gap-2 w-full",children:[N.jsx("span",{className:"text-muted-foreground",children:"Failed to load scoreboard. Please check your internet connection."}),N.jsx(Gt,{onClick:d,variant:"outline",size:"sm",children:"Retry"})]}),!l&&!f&&Object.entries(i||{}).map(([v,g])=>N.jsxs("div",{className:"scoreboard-table",children:[N.jsxs("div",{className:"font-bold text-center",children:[v," Mode"]}),N.jsx("table",{children:N.jsxs("tbody",{children:[g.length===0&&N.jsx("tr",{children:N.jsx("td",{children:"No scores yet!"})}),g.map((_,w)=>N.jsxs("tr",{style:{fontWeight:_.name===e?"bold":"normal"},children:[N.jsxs("td",{className:"pr-2 text-right",children:[w+1,"."]}),N.jsx("td",{className:"pr-4",children:_.name}),N.jsx("td",{className:"text-right",children:_.score})]},_.name))]})})]},v))]})}),N.jsx(L_,{className:"justify-center",children:N.jsx(ef,{horizontal:!0,children:N.jsx(Gt,{type:"button",onClick:()=>n({to:"/"}),children:"Back"})})})]})},bj=fa("/scoreboard")({component:_j}),wj=I.forwardRef(({gameActive:n,game:e,stats:t},i)=>{const o=Ui(),[l,c]=I.useState(""),[f,h]=I.useState(0),d="animate-[fadeOut_2s_ease-in-out_forwards]",v=I.useRef(null),g=()=>{c("Saving...");const w=e.getSaveData();w?(localStorage.setItem(na.savedGameKey,JSON.stringify(w)),c("Saved!")):c("No game to save."),h(T=>T+1),v.current&&clearTimeout(v.current),v.current=window.setTimeout(()=>{c(""),v.current=null},2e3)},_=()=>{c("Autosaved!"),h(w=>w+1),v.current&&clearTimeout(v.current),v.current=window.setTimeout(()=>{c(""),v.current=null},2e3)};return I.useImperativeHandle(i,()=>({showAutosaveIndicator:_})),N.jsxs("div",{className:"absolute bottom-0 left-0 w-full p-4 bg-white flex items-center gap-2",children:[N.jsxs("div",{className:"flex-1 flex gap-2 items-center justify-start",children:[N.jsx(Gt,{type:"button",size:"icon",onClick:()=>o({to:"/"}),children:N.jsx(WM,{})}),N.jsx(Gt,{type:"button",size:"icon",onClick:()=>n&&g(),disabled:!n,children:N.jsx(cD,{})}),N.jsx("span",{className:l?d:"",children:l},f)]}),N.jsxs("div",{className:"flex-1 flex gap-2 items-center justify-center",children:[N.jsxs("span",{className:"flex items-center gap-2 font-bold",children:[N.jsx("img",{src:"./images/shovel.png",alt:"Tiles Dug",className:"w-6 h-6 aspect-square"})," ",t.revealed]}),N.jsxs("span",{className:"flex items-center gap-2 font-bold",children:[N.jsx("img",{src:"./images/flag.png",alt:"Flags",className:"w-6 h-6 aspect-square"})," ",t.flags]})]}),N.jsxs("div",{className:"flex-1 flex gap-2 items-center justify-end",children:[N.jsx(Gt,{type:"button",size:"icon",onClick:()=>e.zoom(1),children:N.jsx(pD,{})}),N.jsx(Gt,{type:"button",size:"icon",onClick:()=>e.zoom(-1),children:N.jsx(yD,{})})]})]})});var Lm="Dialog",[qC]=Zu(Lm),[Ej,ii]=qC(Lm),GC=n=>{const{__scopeDialog:e,children:t,open:i,defaultOpen:o,onOpenChange:l,modal:c=!0}=n,f=I.useRef(null),h=I.useRef(null),[d,v]=Wd({prop:i,defaultProp:o??!1,onChange:l,caller:Lm});return N.jsx(Ej,{scope:e,triggerRef:f,contentRef:h,contentId:Il(),titleId:Il(),descriptionId:Il(),open:d,onOpenChange:v,onOpenToggle:I.useCallback(()=>v(g=>!g),[v]),modal:c,children:t})};GC.displayName=Lm;var $C="DialogTrigger",Sj=I.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=ii($C,t),l=Lt(e,o.triggerRef);return N.jsx(pt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":j_(o.open),...i,ref:l,onClick:Et(n.onClick,o.onOpenToggle)})});Sj.displayName=$C;var U_="DialogPortal",[Tj,KC]=qC(U_,{forceMount:void 0}),YC=n=>{const{__scopeDialog:e,forceMount:t,children:i,container:o}=n,l=ii(U_,e);return N.jsx(Tj,{scope:e,forceMount:t,children:I.Children.map(i,c=>N.jsx(tf,{present:t||l.open,children:N.jsx(C_,{asChild:!0,container:o,children:c})}))})};YC.displayName=U_;var tm="DialogOverlay",XC=I.forwardRef((n,e)=>{const t=KC(tm,n.__scopeDialog),{forceMount:i=t.forceMount,...o}=n,l=ii(tm,n.__scopeDialog);return l.modal?N.jsx(tf,{present:i||l.open,children:N.jsx(xj,{...o,ref:e})}):null});XC.displayName=tm;var Aj=Vu("DialogOverlay.RemoveScroll"),xj=I.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=ii(tm,t);return N.jsx(I_,{as:Aj,allowPinchZoom:!0,shards:[o.contentRef],children:N.jsx(pt.div,{"data-state":j_(o.open),...i,ref:e,style:{pointerEvents:"auto",...i.style}})})}),Ea="DialogContent",QC=I.forwardRef((n,e)=>{const t=KC(Ea,n.__scopeDialog),{forceMount:i=t.forceMount,...o}=n,l=ii(Ea,n.__scopeDialog);return N.jsx(tf,{present:i||l.open,children:l.modal?N.jsx(Rj,{...o,ref:e}):N.jsx(Cj,{...o,ref:e})})});QC.displayName=Ea;var Rj=I.forwardRef((n,e)=>{const t=ii(Ea,n.__scopeDialog),i=I.useRef(null),o=Lt(e,t.contentRef,i);return I.useEffect(()=>{const l=i.current;if(l)return jR(l)},[]),N.jsx(WC,{...n,ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Et(n.onCloseAutoFocus,l=>{var c;l.preventDefault(),(c=t.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Et(n.onPointerDownOutside,l=>{const c=l.detail.originalEvent,f=c.button===0&&c.ctrlKey===!0;(c.button===2||f)&&l.preventDefault()}),onFocusOutside:Et(n.onFocusOutside,l=>l.preventDefault())})}),Cj=I.forwardRef((n,e)=>{const t=ii(Ea,n.__scopeDialog),i=I.useRef(!1),o=I.useRef(!1);return N.jsx(WC,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c,f;(c=n.onCloseAutoFocus)==null||c.call(n,l),l.defaultPrevented||(i.current||(f=t.triggerRef.current)==null||f.focus(),l.preventDefault()),i.current=!1,o.current=!1},onInteractOutside:l=>{var h,d;(h=n.onInteractOutside)==null||h.call(n,l),l.defaultPrevented||(i.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=l.target;((d=t.triggerRef.current)==null?void 0:d.contains(c))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),WC=I.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:l,...c}=n,f=ii(Ea,t),h=I.useRef(null),d=Lt(e,h);return hR(),N.jsxs(N.Fragment,{children:[N.jsx(__,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:o,onUnmountAutoFocus:l,children:N.jsx(v_,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":j_(f.open),...c,ref:d,onDismiss:()=>f.onOpenChange(!1)})}),N.jsxs(N.Fragment,{children:[N.jsx(Ij,{titleId:f.titleId}),N.jsx(Mj,{contentRef:h,descriptionId:f.descriptionId})]})]})}),z_="DialogTitle",ZC=I.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=ii(z_,t);return N.jsx(pt.h2,{id:o.titleId,...i,ref:e})});ZC.displayName=z_;var JC="DialogDescription",eI=I.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=ii(JC,t);return N.jsx(pt.p,{id:o.descriptionId,...i,ref:e})});eI.displayName=JC;var tI="DialogClose",nI=I.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=ii(tI,t);return N.jsx(pt.button,{type:"button",...i,ref:e,onClick:Et(n.onClick,()=>o.onOpenChange(!1))})});nI.displayName=tI;function j_(n){return n?"open":"closed"}var rI="DialogTitleWarning",[hB,iI]=M6(rI,{contentName:Ea,titleName:z_,docsSlug:"dialog"}),Ij=({titleId:n})=>{const e=iI(rI),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return I.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},Nj="DialogDescriptionWarning",Mj=({contentRef:n,descriptionId:e})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${iI(Nj).contentName}}.`;return I.useEffect(()=>{var l;const o=(l=n.current)==null?void 0:l.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(i))},[i,n,e]),null},Dj=GC,Oj=YC,Pj=XC,kj=QC,Lj=ZC,Vj=eI,Uj=nI;function zj({...n}){return N.jsx(Dj,{"data-slot":"dialog",...n})}function jj({...n}){return N.jsx(Oj,{"data-slot":"dialog-portal",...n})}function Bj({className:n,...e}){return N.jsx(Pj,{"data-slot":"dialog-overlay",className:sn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e})}function Fj({className:n,children:e,showCloseButton:t=!0,...i}){return N.jsxs(jj,{"data-slot":"dialog-portal",children:[N.jsx(Bj,{}),N.jsxs(kj,{"data-slot":"dialog-content",className:sn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 outline-none sm:max-w-lg",n),...i,children:[e,t&&N.jsxs(Uj,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[N.jsx(dD,{}),N.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Hj({className:n,...e}){return N.jsx("div",{"data-slot":"dialog-footer",className:sn("flex flex-col-reverse gap-2 sm:flex-row sm:justify-center",n),...e})}function qj({className:n,...e}){return N.jsx(Lj,{"data-slot":"dialog-title",className:sn("text-lg leading-none font-semibold",n),...e})}function Gj({className:n,...e}){return N.jsx(Vj,{"data-slot":"dialog-description",className:sn("text-muted-foreground text-sm",n),...e})}const $j=({dialogVisible:n,subtext:e,stats:t,newGame:i})=>{const o=Ui(),{user:l,name:c,fetchHighScore:f,submitScore:h}=Wu(),[d,v]=I.useState(!1),[g,_]=I.useState(null),[w,T]=I.useState(!1),[R,C]=I.useState(0);I.useEffect(()=>{v(!1),_(null),(async()=>{if(!(!l||!n)){T(!0);try{const M=await f("classic");_(M)}catch{as.error("Failed to load high score!")}finally{T(!1)}}})()},[n,l,f]),I.useEffect(()=>{if(!n){C(0);return}const A=1500,M=Date.now(),O=1/Math.min(30,Math.max(5,Math.floor(t.revealed/10)));let j=0;const L=()=>{const he=Date.now()-M,pe=Math.min(he/A,1),H=1-(1-pe)**3,J=Math.floor(H*t.revealed);if(C(J),pe>=j&&pe<1){const X=1+j*1;Jo.play("blip_1",X),j+=O}pe<1?requestAnimationFrame(L):C(t.revealed)};requestAnimationFrame(L)},[n,t.revealed]);const k=()=>`I just scored ${t.revealed.toString().split("").map(M=>["0","1","2","3","4","5","6","7","8","9"][Number.parseInt(M,10)]).join("")} points in Infinisweeper! Can you beat me? ${window.location.origin}`,U=()=>`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}&quote=${encodeURIComponent(k())}`,z=()=>`https://x.com/intent/tweet?text=${encodeURIComponent(k())}`,B=()=>{const A=k();navigator.clipboard.writeText(A).then(()=>{as.success("Score copied to clipboard!")}).catch(()=>{as.error("Failed to copy score to clipboard.")})},$=async()=>{if(!(!l||!c||d)){v(!0);try{await h(t.revealed,"classic"),v(!0)}catch{as.error("Failed to submit score!"),v(!1)}}},F=g===null||t.revealed>g,x=l&&!d&&F;return N.jsx(zj,{open:n,children:N.jsxs(Fj,{className:"SweepedDialog",showCloseButton:!1,children:[N.jsx(qj,{className:"text-center text-xl",children:"You've been sweeped!"}),N.jsx(Gj,{className:"text-center",children:e}),N.jsxs("div",{className:"flex flex-col items-center",children:[N.jsxs("div",{className:"flex flex-col items-center gap-1 mb-4",children:[N.jsx("span",{className:"text-6xl font-bold bg-linear-to-r from-purple-500 to-purple-700 bg-clip-text text-transparent animate-in zoom-in duration-500",children:R.toLocaleString()}),N.jsx("span",{className:"text-sm text-muted-foreground",children:"Points"}),F&&g!==null&&N.jsxs("span",{className:"text-xs text-green-600 font-semibold animate-in fade-in slide-in-from-bottom-2 duration-300",children:[" New High Score! (+",(t.revealed-g).toLocaleString(),")"]})]}),N.jsxs("div",{className:"flex gap-2",children:[N.jsx(Gt,{size:"icon",children:N.jsx("a",{href:U(),target:"_blank",rel:"noopener noreferrer","aria-label":"Share on Facebook",children:N.jsx("img",{height:"16",width:"16",src:"icons/facebook.svg",alt:""})})}),N.jsx(Gt,{size:"icon",children:N.jsx("a",{href:z(),target:"_blank",rel:"noopener noreferrer","aria-label":"Share on X",children:N.jsx("img",{height:"16",width:"16",src:"icons/x.svg",alt:""})})}),N.jsx(Gt,{type:"button",size:"icon",onClick:B,"aria-label":"Copy score to clipboard",children:N.jsx(XM,{height:"16",width:"16"})})]})]}),N.jsx(Hj,{children:N.jsxs(ef,{children:[N.jsx(Gt,{type:"button",disabled:!x||w,onClick:$,children:l?w?"Loading...":d?"Score Submitted!":F?"Submit Score":`High Score: ${g??0}`:"Login to Submit Score!"}),i&&N.jsx(Gt,{type:"button",onClick:i,children:"New Game"}),N.jsx(Gt,{type:"button",onClick:()=>o({to:"/"}),children:"Main Menu"})]})})]})})},Kj=({game:n,newGame:e})=>{const t=I.useRef(null),i=I.useRef(null),[o,l]=I.useState(""),[c,f]=I.useState([]),{settings:h}=Tv(),[d,v]=I.useState({flags:0,revealed:0}),g=I.useRef(d);I.useEffect(()=>{g.current=d},[d]);const[_,w]=I.useState(!0),T=I.useRef(_);I.useEffect(()=>{T.current=_},[_]);const[R,C]=I.useState(!1),k=I.useRef(R);return I.useEffect(()=>{k.current=R},[R]),I.useEffect(()=>{fetch("subtexts.json").then(U=>U.json()).then(U=>f(U)).catch(U=>console.error("Failed to load subtexts:",U))},[]),I.useEffect(()=>{const U=t.current,z=(U==null?void 0:U.parentElement)??null;n.canvas=U,n.settings=h,n.addEventListeners(),n.setHooks({setStats:v,setGameActive:O=>{w(O),!O&&c.length>0&&l(c[Math.floor(Math.random()*c.length)])},setDialogVisible:C}),C(!1),w(!0);const B=()=>{if(!z||!U)return;const{width:O,height:j}=z.getBoundingClientRect();U.width=O,U.height=j,n.updateSize()};window.addEventListener("resize",B),B();const $=(U==null?void 0:U.getContext("2d"))??null;if(!$)throw new Error("Failed to get canvas context.");const F=1e3/60;let x=0,A=performance.now(),M;const P=()=>{const O=performance.now()-A;for(A=performance.now(),x+=O;x>=F;)n.update(F/1e3),x-=F;$.resetTransform(),$.clearRect(0,0,(U==null?void 0:U.width)??0,(U==null?void 0:U.height)??0),n.render($),M=requestAnimationFrame(P)};return M=requestAnimationFrame(P),()=>{window.removeEventListener("resize",B),n.removeEventListeners(),n.canvas=null,cancelAnimationFrame(M)}},[n,h,c]),I.useEffect(()=>{const U=parseInt(h.autosaveInterval||"0",10);if(U===0)return;const z=setInterval(()=>{var $;if(!n.gameActive||!n.gameStarted)return;const B=n.getSaveData();B&&(localStorage.setItem(na.savedGameKey,JSON.stringify(B)),($=i.current)==null||$.showAutosaveIndicator())},U*1e3);return()=>clearInterval(z)},[n,h.autosaveInterval]),I.useEffect(()=>{const U=()=>{if(n!=null&&n.gameActive&&(n!=null&&n.gameStarted)){const z=n.getSaveData();z&&localStorage.setItem(na.savedGameKey,JSON.stringify(z))}};return window.addEventListener("beforeunload",U),()=>window.removeEventListener("beforeunload",U)},[n]),N.jsxs("div",{className:"w-full h-full relative overflow-hidden",children:[N.jsx("canvas",{ref:t,className:"absolute inset-0 touch-none"}),N.jsx(wj,{ref:i,gameActive:_,game:n,stats:d}),N.jsx($j,{dialogVisible:R,subtext:o,stats:d,newGame:e})]})},Yj=()=>{const{game:n,newGame:e,existingGame:t,continueGame:i}=lR();return I.useEffect(()=>{n||(t?i():e())},[n,e,t,i]),n?N.jsx(Kj,{game:n,newGame:e}):N.jsx("div",{className:"flex items-center justify-center h-full",children:N.jsx("span",{children:"Loading..."})})},Xj=fa("/game")({component:Yj}),Qj=()=>{const n=Ui(),[e,t]=I.useState(null),i=I.useCallback(()=>{fetch("changelog.json").then(o=>o.json()).then(t)},[]);return I.useEffect(()=>{i()},[i]),N.jsxs(D_,{className:"w-xl max-h-9/12",children:[N.jsx(O_,{children:N.jsx(P_,{children:"Changelog"})}),N.jsx(k_,{className:" overflow-auto",children:N.jsx("div",{children:e?e.map(o=>N.jsxs("details",{className:"mb-2 group",children:[N.jsx("summary",{className:"cursor-pointer selection:font-bold flex items-center [&::marker]:content-none before:content-[''] before:mr-2 before:text-xs before:transition-transform before:inline-block group-open:before:rotate-90",children:N.jsxs("span",{className:"flex-1 flex justify-between items-center",children:[N.jsx("span",{children:o.version}),N.jsx("span",{children:new Date(o.date).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"})})]})}),N.jsx("ul",{className:"ml-8 list-disc",children:o.changes.map(l=>N.jsx("li",{children:l},l))})]},o.version)):N.jsx("span",{children:"Loading..."})})}),N.jsx(L_,{className:"justify-center",children:N.jsx(ef,{children:N.jsx(Gt,{type:"button",onClick:()=>n({to:"/"}),children:"Back"})})})]})},Wj=fa("/changelog")({component:Qj}),Zj=()=>{const{user:n,name:e,login:t,logout:i}=Wu(),{existingGame:o,newGame:l,continueGame:c}=lR(),f=Ui();return N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"w-full h-full flex items-center justify-center",children:N.jsxs("div",{className:"w-fit flex flex-col items-center gap-8",children:[N.jsx("div",{className:"flex font-bold items-center gap-4",children:N.jsx("h1",{className:"text-4xl",children:"infinisweeper"})}),N.jsxs(ef,{children:[N.jsx(Gt,{type:"button",onClick:l,children:"New Game"}),N.jsx(Gt,{type:"button",onClick:()=>o&&c(),disabled:!o,children:"Continue Game"}),N.jsx(Gt,{type:"button",onClick:()=>f({to:"/scoreboard"}),children:"Scoreboard"}),N.jsx(Gt,{type:"button",onClick:()=>f({to:"/settings"}),children:"Settings"})]})]})}),N.jsx("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:n?N.jsxs(N.Fragment,{children:[N.jsx("span",{children:e||"Loading..."}),N.jsx(Gt,{type:"button",size:"icon",onClick:async()=>{try{await i()}catch{as.error("Failed to log out!")}},children:N.jsx(sD,{})})]}):N.jsxs(N.Fragment,{children:[N.jsx("span",{className:"text-red-900",children:"Signed Out"}),N.jsx(Gt,{type:"button",size:"icon",onClick:async()=>{try{await t()}catch{as.error("Failed to log in!")}},children:N.jsx(rD,{})})]})}),N.jsxs("div",{className:"absolute bottom-4 left-4 flex gap-2",children:[N.jsx("a",{href:"https://edlessz.com",target:"_blank",rel:"noreferrer",children:"edlessz"}),N.jsx("span",{children:""}),N.jsx("a",{href:"https://github.com/edlessz/infinisweeper",target:"_blank",rel:"noreferrer",children:"GitHub"}),N.jsx("span",{children:""}),N.jsx(Sv,{to:"/changelog",children:"Changelog"})]})]})},Jj=fa("/")({component:Zj}),eB=vj.update({id:"/settings",path:"/settings",getParentRoute:()=>Zl}),tB=bj.update({id:"/scoreboard",path:"/scoreboard",getParentRoute:()=>Zl}),nB=Xj.update({id:"/game",path:"/game",getParentRoute:()=>Zl}),rB=Wj.update({id:"/changelog",path:"/changelog",getParentRoute:()=>Zl}),iB=Jj.update({id:"/",path:"/",getParentRoute:()=>Zl}),sB={IndexRoute:iB,ChangelogRoute:rB,GameRoute:nB,ScoreboardRoute:tB,SettingsRoute:eB},oB=Zl._addFileChildren(sB)._addFileTypes(),aB=EM({routeTree:oB}),sI=document.getElementById("root");if(!sI)throw new Error("Root element not found");NM.createRoot(sI).render(N.jsx(I.StrictMode,{children:N.jsx(AM,{router:aB})}));
