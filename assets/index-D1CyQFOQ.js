var vC=Object.defineProperty;var _C=(n,e,t)=>e in n?vC(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var at=(n,e,t)=>_C(n,typeof e!="symbol"?e+"":e,t);function bC(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in n)){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(n,a,l.get?l:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function uy(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function EC(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var a=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:function(){return n[i]}})}),t}var zp={exports:{}},Ic={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $b;function SC(){if($b)return Ic;$b=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:u,ref:a!==void 0?a:null,props:l}}return Ic.Fragment=e,Ic.jsx=t,Ic.jsxs=t,Ic}var Qb;function TC(){return Qb||(Qb=1,zp.exports=SC()),zp.exports}var P=TC();const Mg=new WeakMap,wC=new WeakMap,Vh={current:[]};let jp=!1,Hc=0;const Uc=new Set,Yf=new Map;function jS(n){for(const e of n){if(Vh.current.includes(e))continue;Vh.current.push(e),e.recompute();const t=wC.get(e);if(t)for(const i of t){const a=Mg.get(i);a!=null&&a.length&&jS(a)}}}function AC(n){const e={prevVal:n.prevState,currentVal:n.state};for(const t of n.listeners)t(e)}function RC(n){const e={prevVal:n.prevState,currentVal:n.state};for(const t of n.listeners)t(e)}function BS(n){if(Hc>0&&!Yf.has(n)&&Yf.set(n,n.prevState),Uc.add(n),!(Hc>0)&&!jp)try{for(jp=!0;Uc.size>0;){const e=Array.from(Uc);Uc.clear();for(const t of e){const i=Yf.get(t)??t.prevState;t.prevState=i,AC(t)}for(const t of e){const i=Mg.get(t);i&&(Vh.current.push(t),jS(i))}for(const t of e){const i=Mg.get(t);if(i)for(const a of i)RC(a)}}}finally{jp=!1,Vh.current=[],Yf.clear()}}function Gc(n){Hc++;try{n()}finally{if(Hc--,Hc===0){const e=Uc.values().next().value;e&&BS(e)}}}function xC(n){return typeof n=="function"}class CC{constructor(e,t){this.listeners=new Set,this.subscribe=i=>{var a,l;this.listeners.add(i);const u=(l=(a=this.options)==null?void 0:a.onSubscribe)==null?void 0:l.call(a,i,this);return()=>{this.listeners.delete(i),u==null||u()}},this.prevState=e,this.state=e,this.options=t}setState(e){var t,i,a;this.prevState=this.state,(t=this.options)!=null&&t.updateFn?this.state=this.options.updateFn(this.prevState)(e):xC(e)?this.state=e(this.prevState):this.state=e,(a=(i=this.options)==null?void 0:i.onUpdate)==null||a.call(i),BS(this)}}const $s="__TSR_index",Xb="popstate",Wb="beforeunload";function IC(n){let e=n.getLocation();const t=new Set,i=u=>{e=n.getLocation(),t.forEach(h=>h({location:e,action:u}))},a=u=>{n.notifyOnIndexChange??!0?i(u):e=n.getLocation()},l=async({task:u,navigateOpts:h,...f})=>{var _,S;if((h==null?void 0:h.ignoreBlocker)??!1){u();return}const v=((_=n.getBlockers)==null?void 0:_.call(n))??[],g=f.type==="PUSH"||f.type==="REPLACE";if(typeof document<"u"&&v.length&&g)for(const R of v){const M=Uh(f.path,f.state);if(await R.blockerFn({currentLocation:e,nextLocation:M,action:f.type})){(S=n.onBlocked)==null||S.call(n);return}}u()};return{get location(){return e},get length(){return n.getLength()},subscribers:t,subscribe:u=>(t.add(u),()=>{t.delete(u)}),push:(u,h,f)=>{const p=e.state[$s];h=Zb(p+1,h),l({task:()=>{n.pushState(u,h),i({type:"PUSH"})},navigateOpts:f,type:"PUSH",path:u,state:h})},replace:(u,h,f)=>{const p=e.state[$s];h=Zb(p,h),l({task:()=>{n.replaceState(u,h),i({type:"REPLACE"})},navigateOpts:f,type:"REPLACE",path:u,state:h})},go:(u,h)=>{l({task:()=>{n.go(u),a({type:"GO",index:u})},navigateOpts:h,type:"GO"})},back:u=>{l({task:()=>{n.back((u==null?void 0:u.ignoreBlocker)??!1),a({type:"BACK"})},navigateOpts:u,type:"BACK"})},forward:u=>{l({task:()=>{n.forward((u==null?void 0:u.ignoreBlocker)??!1),a({type:"FORWARD"})},navigateOpts:u,type:"FORWARD"})},canGoBack:()=>e.state[$s]!==0,createHref:u=>n.createHref(u),block:u=>{var f;if(!n.setBlockers)return()=>{};const h=((f=n.getBlockers)==null?void 0:f.call(n))??[];return n.setBlockers([...h,u]),()=>{var v,g;const p=((v=n.getBlockers)==null?void 0:v.call(n))??[];(g=n.setBlockers)==null||g.call(n,p.filter(_=>_!==u))}},flush:()=>{var u;return(u=n.flush)==null?void 0:u.call(n)},destroy:()=>{var u;return(u=n.destroy)==null?void 0:u.call(n)},notify:i}}function Zb(n,e){e||(e={});const t=fy();return{...e,key:t,__TSR_key:t,[$s]:n}}function NC(n){var w,C;const e=typeof document<"u"?window:void 0,t=e.history.pushState,i=e.history.replaceState;let a=[];const l=()=>a,u=D=>a=D,h=(D=>D),f=(()=>Uh(`${e.location.pathname}${e.location.search}${e.location.hash}`,e.history.state));if(!((w=e.history.state)!=null&&w.__TSR_key)&&!((C=e.history.state)!=null&&C.key)){const D=fy();e.history.replaceState({[$s]:0,key:D,__TSR_key:D},"")}let p=f(),v,g=!1,_=!1,S=!1,R=!1;const M=()=>p;let k,V;const H=()=>{k&&(A._ignoreSubscribers=!0,(k.isPush?e.history.pushState:e.history.replaceState)(k.state,"",k.href),A._ignoreSubscribers=!1,k=void 0,V=void 0,v=void 0)},G=(D,N,U)=>{const O=h(N);V||(v=p),p=Uh(N,U),k={href:O,state:U,isPush:(k==null?void 0:k.isPush)||D==="push"},V||(V=Promise.resolve().then(()=>H()))},Y=D=>{p=f(),A.notify({type:D})},$=async()=>{if(_){_=!1;return}const D=f(),N=D.state[$s]-p.state[$s],U=N===1,O=N===-1,ye=!U&&!O||g;g=!1;const Se=ye?"GO":O?"BACK":"FORWARD",F=ye?{type:"GO",index:N}:{type:O?"BACK":"FORWARD"};if(S)S=!1;else{const ie=l();if(typeof document<"u"&&ie.length){for(const re of ie)if(await re.blockerFn({currentLocation:p,nextLocation:D,action:Se})){_=!0,e.history.go(1),A.notify(F);return}}}p=f(),A.notify(F)},q=D=>{if(R){R=!1;return}let N=!1;const U=l();if(typeof document<"u"&&U.length)for(const O of U){const ye=O.enableBeforeUnload??!0;if(ye===!0){N=!0;break}if(typeof ye=="function"&&ye()===!0){N=!0;break}}if(N)return D.preventDefault(),D.returnValue=""},A=IC({getLocation:M,getLength:()=>e.history.length,pushState:(D,N)=>G("push",D,N),replaceState:(D,N)=>G("replace",D,N),back:D=>(D&&(S=!0),R=!0,e.history.back()),forward:D=>{D&&(S=!0),R=!0,e.history.forward()},go:D=>{g=!0,e.history.go(D)},createHref:D=>h(D),flush:H,destroy:()=>{e.history.pushState=t,e.history.replaceState=i,e.removeEventListener(Wb,q,{capture:!0}),e.removeEventListener(Xb,$)},onBlocked:()=>{v&&p!==v&&(p=v)},getBlockers:l,setBlockers:u,notifyOnIndexChange:!1});return e.addEventListener(Wb,q,{capture:!0}),e.addEventListener(Xb,$),e.history.pushState=function(...D){const N=t.apply(e.history,D);return A._ignoreSubscribers||Y("PUSH"),N},e.history.replaceState=function(...D){const N=i.apply(e.history,D);return A._ignoreSubscribers||Y("REPLACE"),N},A}function Uh(n,e){const t=n.indexOf("#"),i=n.indexOf("?"),a=fy();return{href:n,pathname:n.substring(0,t>0?i>0?Math.min(t,i):t:i>0?i:n.length),hash:t>-1?n.substring(t):"",search:i>-1?n.slice(i,t===-1?void 0:t):"",state:e||{[$s]:0,key:a,__TSR_key:a}}}function fy(){return(Math.random()+1).toString(36).substring(7)}function zh(n){return n[n.length-1]}function MC(n){return typeof n=="function"}function Gs(n,e){return MC(n)?n(e):n}const DC=Object.prototype.hasOwnProperty;function Ir(n,e){if(n===e)return n;const t=e,i=tE(n)&&tE(t);if(!i&&!(jh(n)&&jh(t)))return t;const a=i?n:Jb(n);if(!a)return t;const l=i?t:Jb(t);if(!l)return t;const u=a.length,h=l.length,f=i?new Array(h):{};let p=0;for(let v=0;v<h;v++){const g=i?v:l[v],_=n[g],S=t[g];if(_===S){f[g]=_,(i?v<u:DC.call(n,g))&&p++;continue}if(_===null||S===null||typeof _!="object"||typeof S!="object"){f[g]=S;continue}const R=Ir(_,S);f[g]=R,R===_&&p++}return u===h&&p===u?n:f}function Jb(n){const e=[],t=Object.getOwnPropertyNames(n);for(const a of t){if(!Object.prototype.propertyIsEnumerable.call(n,a))return!1;e.push(a)}const i=Object.getOwnPropertySymbols(n);for(const a of i){if(!Object.prototype.propertyIsEnumerable.call(n,a))return!1;e.push(a)}return e}function jh(n){if(!eE(n))return!1;const e=n.constructor;if(typeof e>"u")return!0;const t=e.prototype;return!(!eE(t)||!t.hasOwnProperty("isPrototypeOf"))}function eE(n){return Object.prototype.toString.call(n)==="[object Object]"}function tE(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function ja(n,e,t){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;for(let i=0,a=n.length;i<a;i++)if(!ja(n[i],e[i],t))return!1;return!0}if(jh(n)&&jh(e)){const i=(t==null?void 0:t.ignoreUndefined)??!0;if(t!=null&&t.partial){for(const u in e)if((!i||e[u]!==void 0)&&!ja(n[u],e[u],t))return!1;return!0}let a=0;if(!i)a=Object.keys(n).length;else for(const u in n)n[u]!==void 0&&a++;let l=0;for(const u in e)if((!i||e[u]!==void 0)&&(l++,l>a||!ja(n[u],e[u],t)))return!1;return a===l}return!1}function cl(n){let e,t;const i=new Promise((a,l)=>{e=a,t=l});return i.status="pending",i.resolve=a=>{i.status="resolved",i.value=a,e(a),n==null||n(a)},i.reject=a=>{i.status="rejected",t(a)},i}function Qs(n){return!!(n&&typeof n=="object"&&typeof n.then=="function")}function nE(n){try{return decodeURI(n)}catch{return n.replaceAll(/%[0-9A-F]{2}/gi,e=>{try{return decodeURI(e)}catch{return e}})}}function rE(n,e){if(!n)return n;const t=/%25|%5C/gi;let i=0,a="",l;for(;(l=t.exec(n))!==null;)a+=nE(n.slice(i,l.index))+l[0],i=t.lastIndex;return a+nE(i?n.slice(i):n)}var OC="Invariant failed";function ts(n,e){if(!n)throw new Error(OC)}function Bh(n){const e=new Map;let t,i;const a=l=>{l.next&&(l.prev?(l.prev.next=l.next,l.next.prev=l.prev,l.next=void 0,i&&(i.next=l,l.prev=i)):(l.next.prev=void 0,t=l.next,l.next=void 0,i&&(l.prev=i,i.next=l)),i=l)};return{get(l){const u=e.get(l);if(u)return a(u),u.value},set(l,u){if(e.size>=n&&t){const f=t;e.delete(f.key),f.next&&(t=f.next,f.next.prev=void 0),f===i&&(i=void 0)}const h=e.get(l);if(h)h.value=u,a(h);else{const f={key:l,value:u,prev:i};i&&(i.next=f),i=f,t||(t=f),e.set(l,f)}},clear(){e.clear(),t=void 0,i=void 0}}}const ul=0,Ga=1,Ka=2,Jc=3,kC=/^([^{]*)\{\$([a-zA-Z_$][a-zA-Z0-9_$]*)\}([^}]*)$/,PC=/^([^{]*)\{-\$([a-zA-Z_$][a-zA-Z0-9_$]*)\}([^}]*)$/,LC=/^([^{]*)\{\$\}([^}]*)$/;function hy(n,e,t=new Uint16Array(6)){const i=n.indexOf("/",e),a=i===-1?n.length:i,l=n.substring(e,a);if(!l||!l.includes("$"))return t[0]=ul,t[1]=e,t[2]=e,t[3]=a,t[4]=a,t[5]=a,t;if(l==="$"){const p=n.length;return t[0]=Ka,t[1]=e,t[2]=e,t[3]=p,t[4]=p,t[5]=p,t}if(l.charCodeAt(0)===36)return t[0]=Ga,t[1]=e,t[2]=e+1,t[3]=a,t[4]=a,t[5]=a,t;const u=l.match(LC);if(u){const v=u[1].length;return t[0]=Ka,t[1]=e+v,t[2]=e+v+1,t[3]=e+v+2,t[4]=e+v+3,t[5]=n.length,t}const h=l.match(PC);if(h){const p=h[1],v=h[2],g=h[3],_=p.length;return t[0]=Jc,t[1]=e+_,t[2]=e+_+3,t[3]=e+_+3+v.length,t[4]=a-g.length,t[5]=a,t}const f=l.match(kC);if(f){const p=f[1],v=f[2],g=f[3],_=p.length;return t[0]=Ga,t[1]=e+_,t[2]=e+_+2,t[3]=e+_+2+v.length,t[4]=a-g.length,t[5]=a,t}return t[0]=ul,t[1]=e,t[2]=e,t[3]=a,t[4]=a,t[5]=a,t}function yd(n,e,t,i,a,l,u){var f,p,v,g,_;u==null||u(t);let h=i;{const S=t.fullPath??t.from,R=S.length,M=((f=t.options)==null?void 0:f.caseSensitive)??n;for(;h<R;){const k=hy(S,h,e);let V;const H=h,G=k[5];switch(h=G+1,l++,k[0]){case ul:{const $=S.substring(k[2],k[3]);if(M){const q=(p=a.static)==null?void 0:p.get($);if(q)V=q;else{a.static??(a.static=new Map);const A=eu(t.fullPath??t.from);A.parent=a,A.depth=l,V=A,a.static.set($,A)}}else{const q=$.toLowerCase(),A=(v=a.staticInsensitive)==null?void 0:v.get(q);if(A)V=A;else{a.staticInsensitive??(a.staticInsensitive=new Map);const w=eu(t.fullPath??t.from);w.parent=a,w.depth=l,V=w,a.staticInsensitive.set(q,w)}}break}case Ga:{const $=S.substring(H,k[1]),q=S.substring(k[4],G),A=M&&!!($||q),w=$?A?$:$.toLowerCase():void 0,C=q?A?q:q.toLowerCase():void 0,D=(g=a.dynamic)==null?void 0:g.find(N=>N.caseSensitive===A&&N.prefix===w&&N.suffix===C);if(D)V=D;else{const N=Fp(Ga,t.fullPath??t.from,A,w,C);V=N,N.depth=l,N.parent=a,a.dynamic??(a.dynamic=[]),a.dynamic.push(N)}break}case Jc:{const $=S.substring(H,k[1]),q=S.substring(k[4],G),A=M&&!!($||q),w=$?A?$:$.toLowerCase():void 0,C=q?A?q:q.toLowerCase():void 0,D=(_=a.optional)==null?void 0:_.find(N=>N.caseSensitive===A&&N.prefix===w&&N.suffix===C);if(D)V=D;else{const N=Fp(Jc,t.fullPath??t.from,A,w,C);V=N,N.parent=a,N.depth=l,a.optional??(a.optional=[]),a.optional.push(N)}break}case Ka:{const $=S.substring(H,k[1]),q=S.substring(k[4],G),A=M&&!!($||q),w=$?A?$:$.toLowerCase():void 0,C=q?A?q:q.toLowerCase():void 0,D=Fp(Ka,t.fullPath??t.from,A,w,C);V=D,D.parent=a,D.depth=l,a.wildcard??(a.wildcard=[]),a.wildcard.push(D)}}a=V}if((t.path||!t.children)&&!t.isRoot){const k=S.endsWith("/");k||(a.notFound=t),(!a.route||!a.isIndex&&k)&&(a.route=t,a.fullPath=t.fullPath??t.from),a.isIndex||(a.isIndex=k)}}if(t.children)for(const S of t.children)yd(n,e,S,h,a,l,u)}function Bp(n,e){if(n.prefix&&e.prefix&&n.prefix!==e.prefix){if(n.prefix.startsWith(e.prefix))return-1;if(e.prefix.startsWith(n.prefix))return 1}if(n.suffix&&e.suffix&&n.suffix!==e.suffix){if(n.suffix.endsWith(e.suffix))return-1;if(e.suffix.endsWith(n.suffix))return 1}return n.prefix&&!e.prefix?-1:!n.prefix&&e.prefix?1:n.suffix&&!e.suffix?-1:!n.suffix&&e.suffix?1:n.caseSensitive&&!e.caseSensitive?-1:!n.caseSensitive&&e.caseSensitive?1:0}function Pa(n){var e,t,i;if(n.static)for(const a of n.static.values())Pa(a);if(n.staticInsensitive)for(const a of n.staticInsensitive.values())Pa(a);if((e=n.dynamic)!=null&&e.length){n.dynamic.sort(Bp);for(const a of n.dynamic)Pa(a)}if((t=n.optional)!=null&&t.length){n.optional.sort(Bp);for(const a of n.optional)Pa(a)}if((i=n.wildcard)!=null&&i.length){n.wildcard.sort(Bp);for(const a of n.wildcard)Pa(a)}}function eu(n){return{kind:ul,depth:0,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:n,parent:null,isIndex:!1,notFound:null}}function Fp(n,e,t,i,a){return{kind:n,depth:0,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:e,parent:null,isIndex:!1,notFound:null,caseSensitive:t,prefix:i,suffix:a}}function VC(n,e){const t=eu("/"),i=new Uint16Array(6);for(const a of n)yd(!1,i,a,1,t,0);Pa(t),e.masksTree=t,e.flatCache=Bh(1e3)}function UC(n,e){n||(n="/");const t=e.flatCache.get(n);if(t)return t;const i=dy(n,e.masksTree);return e.flatCache.set(n,i),i}function zC(n,e,t,i,a){n||(n="/"),i||(i="/");const l=e?`case\0${n}`:n;let u=a.singleCache.get(l);if(!u){u=eu("/");const h=new Uint16Array(6);yd(e,h,{from:n},1,u,0),a.singleCache.set(l,u)}return dy(i,u,t)}function jC(n,e,t=!1){const i=t?n:`nofuzz\0${n}`,a=e.matchCache.get(i);if(a!==void 0)return a;n||(n="/");const l=dy(n,e.segmentTree,t);return l&&(l.branch=HC(l.route)),e.matchCache.set(i,l),l}function BC(n){return n==="/"?n:n.replace(/\/{1,}$/,"")}function FC(n,e=!1,t){const i=eu(n.fullPath),a=new Uint16Array(6),l={},u={};let h=0;return yd(e,a,n,1,i,0,p=>{if(t==null||t(p,h),ts(!(p.id in l),`Duplicate routes found with id: ${String(p.id)}`),l[p.id]=p,h!==0&&p.path){const v=BC(p.fullPath);(!u[v]||p.fullPath.endsWith("/"))&&(u[v]=p)}h++}),Pa(i),{processedTree:{segmentTree:i,singleCache:Bh(1e3),matchCache:Bh(1e3),flatCache:null,masksTree:null},routesById:l,routesByPath:u}}function dy(n,e,t=!1){const i=n.split("/"),a=KC(n,i,e,t);if(!a)return null;const l=qC(n,i,a),u="**"in a;return u&&(l["**"]=a["**"]),{route:u?a.node.notFound??a.node.route:a.node.route,params:l}}function qC(n,e,t){var u,h,f,p,v,g;const i=GC(t.node);let a=null;const l={};for(let _=0,S=0,R=0;S<i.length;_++,S++,R++){const M=i[S],k=e[_],V=R;if(k&&(R+=k.length),M.kind===Ga){a??(a=t.node.fullPath.split("/"));const H=a[S],G=((u=M.prefix)==null?void 0:u.length)??0;if(H.charCodeAt(G)===123){const $=((h=M.suffix)==null?void 0:h.length)??0,q=H.substring(G+2,H.length-$-1),A=k.substring(G,k.length-$);l[q]=decodeURIComponent(A)}else{const $=H.substring(1);l[$]=decodeURIComponent(k)}}else if(M.kind===Jc){if(t.skipped&1<<S){_--;continue}a??(a=t.node.fullPath.split("/"));const H=a[S],G=((f=M.prefix)==null?void 0:f.length)??0,Y=((p=M.suffix)==null?void 0:p.length)??0,$=H.substring(G+3,H.length-Y-1),q=M.suffix||M.prefix?k.substring(G,k.length-Y):k;q&&(l[$]=decodeURIComponent(q))}else if(M.kind===Ka){const H=M,G=n.substring(V+(((v=H.prefix)==null?void 0:v.length)??0),n.length-(((g=H.suffix)==null?void 0:g.length)??0)),Y=decodeURIComponent(G);l["*"]=Y,l._splat=Y;break}}return l}function HC(n){const e=[n];for(;n.parentRoute;)n=n.parentRoute,e.push(n);return e.reverse(),e}function GC(n){const e=Array(n.depth+1);do e[n.depth]=n,n=n.parent;while(n);return e}function KC(n,e,t,i){const a=!zh(e),l=a&&n!=="/",u=e.length-(a?1:0),h=[{node:t,index:1,skipped:0,depth:1,statics:1,dynamics:0,optionals:0}];let f=null,p=null,v=null;for(;h.length;){const g=h.pop();let{node:_,index:S,skipped:R,depth:M,statics:k,dynamics:V,optionals:H}=g;i&&_.notFound&&$f(p,g)&&(p=g);const G=S===u;if(G){if(_.route&&(!l||_.isIndex)&&($f(v,g)&&(v=g),k===u&&_.isIndex))return v;if(!_.optional&&!_.wildcard)continue}const Y=G?void 0:e[S];let $;if(_.wildcard&&$f(f,g))for(const q of _.wildcard){const{prefix:A,suffix:w}=q;if(!(A&&(G||!(q.caseSensitive?Y:$??($=Y.toLowerCase())).startsWith(A)))){if(w){if(G)continue;const C=e.slice(S).join("/").slice(-w.length);if((q.caseSensitive?C:C.toLowerCase())!==w)continue}f={node:q,index:S,skipped:R,depth:M,statics:k,dynamics:V,optionals:H};break}}if(_.optional){const q=R|1<<M,A=M+1;for(let w=_.optional.length-1;w>=0;w--){const C=_.optional[w];h.push({node:C,index:S,skipped:q,depth:A,statics:k,dynamics:V,optionals:H})}if(!G)for(let w=_.optional.length-1;w>=0;w--){const C=_.optional[w],{prefix:D,suffix:N}=C;if(D||N){const U=C.caseSensitive?Y:$??($=Y.toLowerCase());if(D&&!U.startsWith(D)||N&&!U.endsWith(N))continue}h.push({node:C,index:S+1,skipped:R,depth:A,statics:k,dynamics:V,optionals:H+1})}}if(!G&&_.dynamic&&Y)for(let q=_.dynamic.length-1;q>=0;q--){const A=_.dynamic[q],{prefix:w,suffix:C}=A;if(w||C){const D=A.caseSensitive?Y:$??($=Y.toLowerCase());if(w&&!D.startsWith(w)||C&&!D.endsWith(C))continue}h.push({node:A,index:S+1,skipped:R,depth:M+1,statics:k,dynamics:V+1,optionals:H})}if(!G&&_.staticInsensitive){const q=_.staticInsensitive.get($??($=Y.toLowerCase()));q&&h.push({node:q,index:S+1,skipped:R,depth:M+1,statics:k+1,dynamics:V,optionals:H})}if(!G&&_.static){const q=_.static.get(Y);q&&h.push({node:q,index:S+1,skipped:R,depth:M+1,statics:k+1,dynamics:V,optionals:H})}}if(v&&f)return $f(f,v)?v:f;if(v)return v;if(f)return f;if(i&&p){let g=p.index;for(let S=0;S<p.index;S++)g+=e[S].length;const _=g===n.length?"/":n.slice(g);return{node:p.node,skipped:p.skipped,"**":decodeURIComponent(_)}}return null}function $f(n,e){return n?e.statics>n.statics||e.statics===n.statics&&(e.dynamics>n.dynamics||e.dynamics===n.dynamics&&(e.optionals>n.optionals||e.optionals===n.optionals&&(e.node.isIndex>n.node.isIndex||e.node.isIndex===n.node.isIndex&&e.depth>n.depth))):!0}function gh(n){return my(n.filter(e=>e!==void 0).join("/"))}function my(n){return n.replace(/\/{2,}/g,"/")}function FS(n){return n==="/"?n:n.replace(/^\/{1,}/,"")}function Ba(n){const e=n.length;return e>1&&n[e-1]==="/"?n.replace(/\/{1,}$/,""):n}function qS(n){return Ba(FS(n))}function Fh(n,e){return n!=null&&n.endsWith("/")&&n!=="/"&&n!==`${e}/`?n.slice(0,-1):n}function YC(n,e,t){return Fh(n,t)===Fh(e,t)}function $C({base:n,to:e,trailingSlash:t="never",cache:i}){const a=e.startsWith("/"),l=!a&&e===".";let u;if(i){u=a?e:l?n:n+"\0"+e;const g=i.get(u);if(g)return g}let h;if(l)h=n.split("/");else if(a)h=e.split("/");else{for(h=n.split("/");h.length>1&&zh(h)==="";)h.pop();const g=e.split("/");for(let _=0,S=g.length;_<S;_++){const R=g[_];R===""?_?_===S-1&&h.push(R):h=[R]:R===".."?h.pop():R==="."||h.push(R)}}h.length>1&&(zh(h)===""?t==="never"&&h.pop():t==="always"&&h.push(""));let f,p="";for(let g=0;g<h.length;g++){g>0&&(p+="/");const _=h[g];if(!_)continue;f=hy(_,0,f);const S=f[0];if(S===ul){p+=_;continue}const R=f[5],M=_.substring(0,f[1]),k=_.substring(f[4],R),V=_.substring(f[2],f[3]);S===Ga?p+=M||k?`${M}{$${V}}${k}`:`$${V}`:S===Ka?p+=M||k?`${M}{$}${k}`:"$":p+=`${M}{-$${V}}${k}`}p=my(p);const v=p||"/";return u&&i&&i.set(u,v),v}function qp(n,e,t){const i=e[n];return typeof i!="string"?i:n==="_splat"?encodeURI(i):QC(i,t)}function Hp({path:n,params:e,decodeCharMap:t}){let i=!1;const a={};if(!n||n==="/")return{interpolatedPath:"/",usedParams:a,isMissingParams:i};if(!n.includes("$"))return{interpolatedPath:n,usedParams:a,isMissingParams:i};const l=n.length;let u=0,h,f="";for(;u<l;){const v=u;h=hy(n,v,h);const g=h[5];if(u=g+1,v===g)continue;const _=h[0];if(_===ul){f+="/"+n.substring(v,g);continue}if(_===Ka){const S=e._splat;a._splat=S,a["*"]=S;const R=n.substring(v,h[1]),M=n.substring(h[4],g);if(!S){i=!0,(R||M)&&(f+="/"+R+M);continue}const k=qp("_splat",e,t);f+="/"+R+k+M;continue}if(_===Ga){const S=n.substring(h[2],h[3]);!i&&!(S in e)&&(i=!0),a[S]=e[S];const R=n.substring(v,h[1]),M=n.substring(h[4],g),k=qp(S,e,t)??"undefined";f+="/"+R+k+M;continue}if(_===Jc){const S=n.substring(h[2],h[3]),R=e[S];if(R==null)continue;a[S]=R;const M=n.substring(v,h[1]),k=n.substring(h[4],g),V=qp(S,e,t)??"";f+="/"+M+V+k;continue}}return n.endsWith("/")&&(f+="/"),{usedParams:a,interpolatedPath:f||"/",isMissingParams:i}}function QC(n,e){let t=encodeURIComponent(n);if(e)for(const[i,a]of e)t=t.replaceAll(i,a);return t}function Dr(n){return!!(n!=null&&n.isNotFound)}function XC(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{}}const qh="tsr-scroll-restoration-v1_3",WC=(n,e)=>{let t;return(...i)=>{t||(t=setTimeout(()=>{n(...i),t=null},e))}};function ZC(){const n=XC();if(!n)return null;const e=n.getItem(qh);let t=e?JSON.parse(e):{};return{state:t,set:i=>(t=Gs(i,t)||t,n.setItem(qh,JSON.stringify(t)))}}const Qf=ZC(),Dg=n=>n.state.__TSR_key||n.href;function JC(n){const e=[];let t;for(;t=n.parentNode;)e.push(`${n.tagName}:nth-child(${Array.prototype.indexOf.call(t.children,n)+1})`),n=t;return`${e.reverse().join(" > ")}`.toLowerCase()}let Hh=!1;function HS({storageKey:n,key:e,behavior:t,shouldScrollRestoration:i,scrollToTopSelectors:a,location:l}){var p,v;let u;try{u=JSON.parse(sessionStorage.getItem(n)||"{}")}catch(g){console.error(g);return}const h=e||((p=window.history.state)==null?void 0:p.__TSR_key),f=u[h];Hh=!0;e:{if(i&&f&&Object.keys(f).length>0){for(const S in f){const R=f[S];if(S==="window")window.scrollTo({top:R.scrollY,left:R.scrollX,behavior:t});else if(S){const M=document.querySelector(S);M&&(M.scrollLeft=R.scrollX,M.scrollTop=R.scrollY)}}break e}const g=(l??window.location).hash.split("#",2)[1];if(g){const S=((v=window.history.state)==null?void 0:v.__hashScrollIntoViewOptions)??!0;if(S){const R=document.getElementById(g);R&&R.scrollIntoView(S)}break e}const _={top:0,left:0,behavior:t};if(window.scrollTo(_),a)for(const S of a){if(S==="window")continue;const R=typeof S=="function"?S():document.querySelector(S);R&&R.scrollTo(_)}}Hh=!1}function eI(n,e){if(!Qf&&!n.isServer||((n.options.scrollRestoration??!1)&&(n.isScrollRestoring=!0),n.isServer||n.isScrollRestorationSetup||!Qf))return;n.isScrollRestorationSetup=!0,Hh=!1;const i=n.options.getScrollRestorationKey||Dg;window.history.scrollRestoration="manual";const a=l=>{if(Hh||!n.isScrollRestoring)return;let u="";if(l.target===document||l.target===window)u="window";else{const f=l.target.getAttribute("data-scroll-restoration-id");f?u=`[data-scroll-restoration-id="${f}"]`:u=JC(l.target)}const h=i(n.state.location);Qf.set(f=>{const p=f[h]||(f[h]={}),v=p[u]||(p[u]={});if(u==="window")v.scrollX=window.scrollX||0,v.scrollY=window.scrollY||0;else if(u){const g=document.querySelector(u);g&&(v.scrollX=g.scrollLeft||0,v.scrollY=g.scrollTop||0)}return f})};typeof document<"u"&&document.addEventListener("scroll",WC(a,100),!0),n.subscribe("onRendered",l=>{const u=i(l.toLocation);if(!n.resetNextScroll){n.resetNextScroll=!0;return}typeof n.options.scrollRestoration=="function"&&!n.options.scrollRestoration({location:n.latestLocation})||(HS({storageKey:qh,key:u,behavior:n.options.scrollRestorationBehavior,shouldScrollRestoration:n.isScrollRestoring,scrollToTopSelectors:n.options.scrollToTopSelectors,location:n.history.location}),n.isScrollRestoring&&Qf.set(h=>(h[u]||(h[u]={}),h)))})}function tI(n){if(typeof document<"u"&&document.querySelector){const e=n.state.location.state.__hashScrollIntoViewOptions??!0;if(e&&n.state.location.hash!==""){const t=document.getElementById(n.state.location.hash);t&&t.scrollIntoView(e)}}}function nI(n,e=String){const t=new URLSearchParams;for(const i in n){const a=n[i];a!==void 0&&t.set(i,e(a))}return t.toString()}function Gp(n){return n?n==="false"?!1:n==="true"?!0:+n*0===0&&+n+""===n?+n:n:""}function rI(n){const e=new URLSearchParams(n),t={};for(const[i,a]of e.entries()){const l=t[i];l==null?t[i]=Gp(a):Array.isArray(l)?l.push(Gp(a)):t[i]=[l,Gp(a)]}return t}const iI=aI(JSON.parse),sI=oI(JSON.stringify,JSON.parse);function aI(n){return e=>{e[0]==="?"&&(e=e.substring(1));const t=rI(e);for(const i in t){const a=t[i];if(typeof a=="string")try{t[i]=n(a)}catch{}}return t}}function oI(n,e){const t=typeof e=="function";function i(a){if(typeof a=="object"&&a!==null)try{return n(a)}catch{}else if(t&&typeof a=="string")try{return e(a),n(a)}catch{}return a}return a=>{const l=nI(a,i);return l?`?${l}`:""}}const ur="__root__";function lI(n){if(n.statusCode=n.statusCode||n.code||307,!n.reloadDocument&&typeof n.href=="string")try{new URL(n.href),n.reloadDocument=!0}catch{}const e=new Headers(n.headers);n.href&&e.get("Location")===null&&e.set("Location",n.href);const t=new Response(null,{status:n.statusCode,headers:e});if(t.options=n,n.throw)throw t;return t}function Gr(n){return n instanceof Response&&!!n.options}const yh=n=>{var e;if(!n.rendered)return n.rendered=!0,(e=n.onReady)==null?void 0:e.call(n)},vd=(n,e)=>!!(n.preload&&!n.router.state.matches.some(t=>t.id===e)),py=(n,e,t=!0)=>{const i={...n.router.options.context??{}},a=t?e:e-1;for(let l=0;l<=a;l++){const u=n.matches[l];if(!u)continue;const h=n.router.getMatch(u.id);h&&Object.assign(i,h.__routeContext,h.__beforeLoadContext)}return i},GS=(n,e)=>{var a;const t=n.router.routesById[e.routeId??""]??n.router.routeTree;!t.options.notFoundComponent&&((a=n.router.options)!=null&&a.defaultNotFoundComponent)&&(t.options.notFoundComponent=n.router.options.defaultNotFoundComponent),ts(t.options.notFoundComponent);const i=n.matches.find(l=>l.routeId===t.id);ts(i,"Could not find match for route: "+t.id),n.updateMatch(i.id,l=>({...l,status:"notFound",error:e,isFetching:!1})),e.routerCode==="BEFORE_LOAD"&&t.parentRoute&&(e.routeId=t.parentRoute.id,GS(n,e))},Ks=(n,e,t)=>{var i,a,l;if(!(!Gr(t)&&!Dr(t))){if(Gr(t)&&t.redirectHandled&&!t.options.reloadDocument)throw t;if(e){(i=e._nonReactive.beforeLoadPromise)==null||i.resolve(),(a=e._nonReactive.loaderPromise)==null||a.resolve(),e._nonReactive.beforeLoadPromise=void 0,e._nonReactive.loaderPromise=void 0;const u=Gr(t)?"redirected":"notFound";e._nonReactive.error=t,n.updateMatch(e.id,h=>({...h,status:u,isFetching:!1,error:t})),Dr(t)&&!t.routeId&&(t.routeId=e.routeId),(l=e._nonReactive.loadPromise)==null||l.resolve()}throw Gr(t)?(n.rendered=!0,t.options._fromLocation=n.location,t.redirectHandled=!0,t=n.router.resolveRedirect(t),t):(GS(n,t),t)}},KS=(n,e)=>{const t=n.router.getMatch(e);return!!(!n.router.isServer&&t._nonReactive.dehydrated||n.router.isServer&&t.ssr===!1)},Nc=(n,e,t,i)=>{var h,f;const{id:a,routeId:l}=n.matches[e],u=n.router.looseRoutesById[l];if(t instanceof Promise)throw t;t.routerCode=i,n.firstBadMatchIndex??(n.firstBadMatchIndex=e),Ks(n,n.router.getMatch(a),t);try{(f=(h=u.options).onError)==null||f.call(h,t)}catch(p){t=p,Ks(n,n.router.getMatch(a),t)}n.updateMatch(a,p=>{var v,g;return(v=p._nonReactive.beforeLoadPromise)==null||v.resolve(),p._nonReactive.beforeLoadPromise=void 0,(g=p._nonReactive.loadPromise)==null||g.resolve(),{...p,error:t,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController}})},cI=(n,e,t,i)=>{var S;const a=n.router.getMatch(e),l=(S=n.matches[t-1])==null?void 0:S.id,u=l?n.router.getMatch(l):void 0;if(n.router.isShell()){a.ssr=i.id===ur;return}if((u==null?void 0:u.ssr)===!1){a.ssr=!1;return}const h=R=>R===!0&&(u==null?void 0:u.ssr)==="data-only"?"data-only":R,f=n.router.options.defaultSsr??!0;if(i.options.ssr===void 0){a.ssr=h(f);return}if(typeof i.options.ssr!="function"){a.ssr=h(i.options.ssr);return}const{search:p,params:v}=a,g={search:Xf(p,a.searchError),params:Xf(v,a.paramsError),location:n.location,matches:n.matches.map(R=>({index:R.index,pathname:R.pathname,fullPath:R.fullPath,staticData:R.staticData,id:R.id,routeId:R.routeId,search:Xf(R.search,R.searchError),params:Xf(R.params,R.paramsError),ssr:R.ssr}))},_=i.options.ssr(g);if(Qs(_))return _.then(R=>{a.ssr=h(R??f)});a.ssr=h(_??f)},YS=(n,e,t,i)=>{var u;if(i._nonReactive.pendingTimeout!==void 0)return;const a=t.options.pendingMs??n.router.options.defaultPendingMs;if(!!(n.onReady&&!n.router.isServer&&!vd(n,e)&&(t.options.loader||t.options.beforeLoad||XS(t))&&typeof a=="number"&&a!==1/0&&(t.options.pendingComponent??((u=n.router.options)==null?void 0:u.defaultPendingComponent)))){const h=setTimeout(()=>{yh(n)},a);i._nonReactive.pendingTimeout=h}},uI=(n,e,t)=>{const i=n.router.getMatch(e);if(!i._nonReactive.beforeLoadPromise&&!i._nonReactive.loaderPromise)return;YS(n,e,t,i);const a=()=>{const l=n.router.getMatch(e);l.preload&&(l.status==="redirected"||l.status==="notFound")&&Ks(n,l,l.error)};return i._nonReactive.beforeLoadPromise?i._nonReactive.beforeLoadPromise.then(a):a()},fI=(n,e,t,i)=>{var q;const a=n.router.getMatch(e),l=a._nonReactive.loadPromise;a._nonReactive.loadPromise=cl(()=>{l==null||l.resolve()});const{paramsError:u,searchError:h}=a;u&&Nc(n,t,u,"PARSE_PARAMS"),h&&Nc(n,t,h,"VALIDATE_SEARCH"),YS(n,e,i,a);const f=new AbortController,p=(q=n.matches[t-1])==null?void 0:q.id,v=p?n.router.getMatch(p):void 0;(v==null?void 0:v.context)??n.router.options.context;let g=!1;const _=()=>{g||(g=!0,n.updateMatch(e,A=>({...A,isFetching:"beforeLoad",fetchCount:A.fetchCount+1,abortController:f})))},S=()=>{var A;(A=a._nonReactive.beforeLoadPromise)==null||A.resolve(),a._nonReactive.beforeLoadPromise=void 0,n.updateMatch(e,w=>({...w,isFetching:!1}))};if(!i.options.beforeLoad){Gc(()=>{_(),S()});return}a._nonReactive.beforeLoadPromise=cl();const R={...py(n,t,!1),...a.__routeContext},{search:M,params:k,cause:V}=a,H=vd(n,e),G={search:M,abortController:f,params:k,preload:H,context:R,location:n.location,navigate:A=>n.router.navigate({...A,_fromLocation:n.location}),buildLocation:n.router.buildLocation,cause:H?"preload":V,matches:n.matches,...n.router.options.additionalContext},Y=A=>{if(A===void 0){Gc(()=>{_(),S()});return}(Gr(A)||Dr(A))&&(_(),Nc(n,t,A,"BEFORE_LOAD")),Gc(()=>{_(),n.updateMatch(e,w=>({...w,__beforeLoadContext:A})),S()})};let $;try{if($=i.options.beforeLoad(G),Qs($))return _(),$.catch(A=>{Nc(n,t,A,"BEFORE_LOAD")}).then(Y)}catch(A){_(),Nc(n,t,A,"BEFORE_LOAD")}Y($)},hI=(n,e)=>{const{id:t,routeId:i}=n.matches[e],a=n.router.looseRoutesById[i],l=()=>{if(n.router.isServer){const f=cI(n,t,e,a);if(Qs(f))return f.then(h)}return h()},u=()=>fI(n,t,e,a),h=()=>{if(KS(n,t))return;const f=uI(n,t,a);return Qs(f)?f.then(u):u()};return l()},Kc=(n,e,t)=>{var l,u,h,f,p,v;const i=n.router.getMatch(e);if(!i||!t.options.head&&!t.options.scripts&&!t.options.headers)return;const a={matches:n.matches,match:i,params:i.params,loaderData:i.loaderData};return Promise.all([(u=(l=t.options).head)==null?void 0:u.call(l,a),(f=(h=t.options).scripts)==null?void 0:f.call(h,a),(v=(p=t.options).headers)==null?void 0:v.call(p,a)]).then(([g,_,S])=>{const R=g==null?void 0:g.meta,M=g==null?void 0:g.links,k=g==null?void 0:g.scripts,V=g==null?void 0:g.styles;return{meta:R,links:M,headScripts:k,headers:S,scripts:_,styles:V}})},$S=(n,e,t,i)=>{const a=n.matchPromises[t-1],{params:l,loaderDeps:u,abortController:h,cause:f}=n.router.getMatch(e),p=py(n,t),v=vd(n,e);return{params:l,deps:u,preload:!!v,parentMatchPromise:a,abortController:h,context:p,location:n.location,navigate:g=>n.router.navigate({...g,_fromLocation:n.location}),cause:v?"preload":f,route:i,...n.router.options.additionalContext}},iE=async(n,e,t,i)=>{var a,l,u,h,f,p;try{const v=n.router.getMatch(e);try{(!n.router.isServer||v.ssr===!0)&&QS(i);const g=(l=(a=i.options).loader)==null?void 0:l.call(a,$S(n,e,t,i)),_=i.options.loader&&Qs(g);if(!!(_||i._lazyPromise||i._componentsPromise||i.options.head||i.options.scripts||i.options.headers||v._nonReactive.minPendingPromise)&&n.updateMatch(e,V=>({...V,isFetching:"loader"})),i.options.loader){const V=_?await g:g;Ks(n,n.router.getMatch(e),V),V!==void 0&&n.updateMatch(e,H=>({...H,loaderData:V}))}i._lazyPromise&&await i._lazyPromise;const R=Kc(n,e,i),M=R?await R:void 0,k=v._nonReactive.minPendingPromise;k&&await k,i._componentsPromise&&await i._componentsPromise,n.updateMatch(e,V=>({...V,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),...M}))}catch(g){let _=g;const S=v._nonReactive.minPendingPromise;S&&await S,Dr(g)&&await((h=(u=i.options.notFoundComponent)==null?void 0:u.preload)==null?void 0:h.call(u)),Ks(n,n.router.getMatch(e),g);try{(p=(f=i.options).onError)==null||p.call(f,g)}catch(k){_=k,Ks(n,n.router.getMatch(e),k)}const R=Kc(n,e,i),M=R?await R:void 0;n.updateMatch(e,k=>({...k,error:_,status:"error",isFetching:!1,...M}))}}catch(v){const g=n.router.getMatch(e);if(g){const _=Kc(n,e,i);if(_){const S=await _;n.updateMatch(e,R=>({...R,...S}))}g._nonReactive.loaderPromise=void 0}Ks(n,g,v)}},dI=async(n,e)=>{var v,g;const{id:t,routeId:i}=n.matches[e];let a=!1,l=!1;const u=n.router.looseRoutesById[i],h=()=>{n.updateMatch(t,_=>({..._,context:py(n,e)}))};if(KS(n,t)){if(n.router.isServer){const _=Kc(n,t,u);if(_){const S=await _;n.updateMatch(t,R=>({...R,...S}))}return n.router.getMatch(t)}}else{const _=n.router.getMatch(t);if(_._nonReactive.loaderPromise){if(_.status==="success"&&!n.sync&&!_.preload)return _;await _._nonReactive.loaderPromise;const S=n.router.getMatch(t),R=S._nonReactive.error||S.error;R&&Ks(n,S,R)}else{const S=Date.now()-_.updatedAt,R=vd(n,t),M=R?u.options.preloadStaleTime??n.router.options.defaultPreloadStaleTime??3e4:u.options.staleTime??n.router.options.defaultStaleTime??0,k=u.options.shouldReload,V=typeof k=="function"?k($S(n,t,e,u)):k,H=!!R&&!n.router.state.matches.some(q=>q.id===t),G=n.router.getMatch(t);G._nonReactive.loaderPromise=cl(),H!==G.preload&&n.updateMatch(t,q=>({...q,preload:H}));const{status:Y,invalid:$}=G;if(a=Y==="success"&&($||(V??S>M)),!(R&&u.options.preload===!1))if(a&&!n.sync)l=!0,(async()=>{var q,A;try{await iE(n,t,e,u),h();const w=n.router.getMatch(t);(q=w._nonReactive.loaderPromise)==null||q.resolve(),(A=w._nonReactive.loadPromise)==null||A.resolve(),w._nonReactive.loaderPromise=void 0}catch(w){Gr(w)&&await n.router.navigate(w.options)}})();else if(Y!=="success"||a&&n.sync)await iE(n,t,e,u);else{const q=Kc(n,t,u);if(q){const A=await q;n.updateMatch(t,w=>({...w,...A}))}}}}const f=n.router.getMatch(t);l||((v=f._nonReactive.loaderPromise)==null||v.resolve(),(g=f._nonReactive.loadPromise)==null||g.resolve()),clearTimeout(f._nonReactive.pendingTimeout),f._nonReactive.pendingTimeout=void 0,l||(f._nonReactive.loaderPromise=void 0),f._nonReactive.dehydrated=void 0,l||h();const p=l?f.isFetching:!1;return p!==f.isFetching||f.invalid!==!1?(n.updateMatch(t,_=>({..._,isFetching:p,invalid:!1})),n.router.getMatch(t)):f};async function sE(n){const e=Object.assign(n,{matchPromises:[]});!e.router.isServer&&e.router.state.matches.some(t=>t._forcePending)&&yh(e);try{for(let a=0;a<e.matches.length;a++){const l=hI(e,a);Qs(l)&&await l}const t=e.firstBadMatchIndex??e.matches.length;for(let a=0;a<t;a++)e.matchPromises.push(dI(e,a));await Promise.all(e.matchPromises);const i=yh(e);Qs(i)&&await i}catch(t){if(Dr(t)&&!e.preload){const i=yh(e);throw Qs(i)&&await i,t}if(Gr(t))throw t}return e.matches}async function QS(n){if(!n._lazyLoaded&&n._lazyPromise===void 0&&(n.lazyFn?n._lazyPromise=n.lazyFn().then(e=>{const{id:t,...i}=e.options;Object.assign(n.options,i),n._lazyLoaded=!0,n._lazyPromise=void 0}):n._lazyLoaded=!0),!n._componentsLoaded&&n._componentsPromise===void 0){const e=()=>{var i;const t=[];for(const a of WS){const l=(i=n.options[a])==null?void 0:i.preload;l&&t.push(l())}if(t.length)return Promise.all(t).then(()=>{n._componentsLoaded=!0,n._componentsPromise=void 0});n._componentsLoaded=!0,n._componentsPromise=void 0};n._componentsPromise=n._lazyPromise?n._lazyPromise.then(e):e()}return n._componentsPromise}function Xf(n,e){return e?{status:"error",error:e}:{status:"success",value:n}}function XS(n){var e;for(const t of WS)if((e=n.options[t])!=null&&e.preload)return!0;return!1}const WS=["component","errorComponent","pendingComponent","notFoundComponent"];function mI(n){return{input:({url:e})=>{for(const t of n)e=ZS(t,e);return e},output:({url:e})=>{for(let t=n.length-1;t>=0;t--)e=JS(n[t],e);return e}}}function pI(n){const e=qS(n.basepath),t=`/${e}`,i=`${t}/`,a=n.caseSensitive?t:t.toLowerCase(),l=n.caseSensitive?i:i.toLowerCase();return{input:({url:u})=>{const h=n.caseSensitive?u.pathname:u.pathname.toLowerCase();return h===a?u.pathname="/":h.startsWith(l)&&(u.pathname=u.pathname.slice(t.length)),u},output:({url:u})=>(u.pathname=gh(["/",e,u.pathname]),u)}}function ZS(n,e){var i;const t=(i=n==null?void 0:n.input)==null?void 0:i.call(n,{url:e});if(t){if(typeof t=="string")return new URL(t);if(t instanceof URL)return t}return e}function JS(n,e){var i;const t=(i=n==null?void 0:n.output)==null?void 0:i.call(n,{url:e});if(t){if(typeof t=="string")return new URL(t);if(t instanceof URL)return t}return e}function Fa(n){const e=n.resolvedLocation,t=n.location,i=(e==null?void 0:e.pathname)!==t.pathname,a=(e==null?void 0:e.href)!==t.href,l=(e==null?void 0:e.hash)!==t.hash;return{fromLocation:e,toLocation:t,pathChanged:i,hrefChanged:a,hashChanged:l}}class gI{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=t=>t(),this.update=t=>{var _;t.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const i=this.options,a=this.basepath??(i==null?void 0:i.basepath)??"/",l=this.basepath===void 0,u=i==null?void 0:i.rewrite;this.options={...i,...t},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(S=>[encodeURIComponent(S),S])):void 0,(!this.history||this.options.history&&this.options.history!==this.history)&&(this.options.history?this.history=this.options.history:this.isServer||(this.history=NC())),this.origin=this.options.origin,this.origin||(!this.isServer&&(window!=null&&window.origin)&&window.origin!=="null"?this.origin=window.origin:this.origin="http://localhost"),this.history&&this.updateLatestLocation(),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),!this.__store&&this.latestLocation&&(this.__store=new CC(vI(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(S=>!["redirected"].includes(S.status))}}}),eI(this));let h=!1;const f=this.options.basepath??"/",p=this.options.rewrite;if(l||a!==f||u!==p){this.basepath=f;const S=[];qS(f)!==""&&S.push(pI({basepath:f})),p&&S.push(p),this.rewrite=S.length===0?void 0:S.length===1?S[0]:mI(S),this.history&&this.updateLatestLocation(),h=!0}h&&this.__store&&(this.__store.state={...this.state,location:this.latestLocation}),typeof window<"u"&&"CSS"in window&&typeof((_=window.CSS)==null?void 0:_.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.updateLatestLocation=()=>{this.latestLocation=this.parseLocation(this.history.location,this.latestLocation)},this.buildRouteTree=()=>{const{routesById:t,routesByPath:i,processedTree:a}=FC(this.routeTree,this.options.caseSensitive,(u,h)=>{u.init({originalIndex:h})});this.options.routeMasks&&VC(this.options.routeMasks,a),this.routesById=t,this.routesByPath=i,this.processedTree=a;const l=this.options.notFoundRoute;l&&(l.init({originalIndex:99999999999}),this.routesById[l.id]=l)},this.subscribe=(t,i)=>{const a={eventType:t,fn:i};return this.subscribers.add(a),()=>{this.subscribers.delete(a)}},this.emit=t=>{this.subscribers.forEach(i=>{i.eventType===t.type&&i.fn(t)})},this.parseLocation=(t,i)=>{const a=({href:f,state:p})=>{const v=new URL(f,this.origin),g=ZS(this.rewrite,v),_=this.options.parseSearch(g.search),S=this.options.stringifySearch(_);return g.search=S,{href:g.href.replace(g.origin,""),publicHref:f,url:g,pathname:rE(g.pathname),searchStr:S,search:Ir(i==null?void 0:i.search,_),hash:g.hash.split("#").reverse()[0]??"",state:Ir(i==null?void 0:i.state,p)}},l=a(t),{__tempLocation:u,__tempKey:h}=l.state;if(u&&(!h||h===this.tempLocationKey)){const f=a(u);return f.state.key=l.state.key,f.state.__TSR_key=l.state.__TSR_key,delete f.state.__tempLocation,{...f,maskedLocation:l}}return l},this.resolvePathCache=Bh(1e3),this.resolvePathWithBase=(t,i)=>$C({base:t,to:my(i),trailingSlash:this.options.trailingSlash,cache:this.resolvePathCache}),this.matchRoutes=(t,i,a)=>typeof t=="string"?this.matchRoutesInternal({pathname:t,search:i},a):this.matchRoutesInternal(t,i),this.getMatchedRoutes=t=>_I({pathname:t,routesById:this.routesById,processedTree:this.processedTree}),this.cancelMatch=t=>{const i=this.getMatch(t);i&&(i.abortController.abort(),clearTimeout(i._nonReactive.pendingTimeout),i._nonReactive.pendingTimeout=void 0)},this.cancelMatches=()=>{const t=this.state.matches.filter(l=>l.status==="pending"),i=this.state.matches.filter(l=>l.isFetching==="loader");new Set([...this.state.pendingMatches??[],...t,...i]).forEach(l=>{this.cancelMatch(l.id)})},this.buildLocation=t=>{const i=(l={})=>{var D,N;const u=l._fromLocation||this.pendingBuiltLocation||this.latestLocation,h=this.matchRoutes(u,{_buildLocation:!0}),f=zh(h);l.from;const p=l.unsafeRelative==="path"?u.pathname:l.from??f.fullPath,v=this.resolvePathWithBase(p,"."),g=f.search,_={...f.params},S=l.to?this.resolvePathWithBase(v,`${l.to}`):this.resolvePathWithBase(v,"."),R=l.params===!1||l.params===null?{}:(l.params??!0)===!0?_:Object.assign(_,Gs(l.params,_)),M=Hp({path:S,params:R}).interpolatedPath,k=this.matchRoutes(M,void 0,{_buildLocation:!0}).map(U=>this.looseRoutesById[U.routeId]);if(Object.keys(R).length>0)for(const U of k){const O=((D=U.options.params)==null?void 0:D.stringify)??U.options.stringifyParams;O&&Object.assign(R,O(R))}const V=t.leaveParams?S:rE(Hp({path:S,params:R,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath);let H=g;if(t._includeValidateSearch&&((N=this.options.search)!=null&&N.strict)){const U={};k.forEach(O=>{if(O.options.validateSearch)try{Object.assign(U,Og(O.options.validateSearch,{...U,...H}))}catch{}}),H=U}H=bI({search:H,dest:l,destRoutes:k,_includeValidateSearch:t._includeValidateSearch}),H=Ir(g,H);const G=this.options.stringifySearch(H),Y=l.hash===!0?u.hash:l.hash?Gs(l.hash,u.hash):void 0,$=Y?`#${Y}`:"";let q=l.state===!0?u.state:l.state?Gs(l.state,u.state):{};q=Ir(u.state,q);const A=`${V}${G}${$}`,w=new URL(A,this.origin),C=JS(this.rewrite,w);return{publicHref:C.pathname+C.search+C.hash,href:A,url:C,pathname:V,search:H,searchStr:G,state:q,hash:Y??"",unmaskOnReload:l.unmaskOnReload}},a=(l={},u)=>{const h=i(l);let f=u?i(u):void 0;if(!f){const p={};if(this.options.routeMasks){const v=UC(h.pathname,this.processedTree);if(v){Object.assign(p,v.params);const{from:g,params:_,...S}=v.route,R=_===!1||_===null?{}:(_??!0)===!0?p:Object.assign(p,Gs(_,p));u={from:t.from,...S,params:R},f=i(u)}}}return f&&(h.maskedLocation=f),h};return t.mask?a(t,{from:t.from,...t.mask}):a(t)},this.commitLocation=({viewTransition:t,ignoreBlocker:i,...a})=>{const l=()=>{const f=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];f.forEach(v=>{a.state[v]=this.latestLocation.state[v]});const p=ja(a.state,this.latestLocation.state);return f.forEach(v=>{delete a.state[v]}),p},u=Ba(this.latestLocation.href)===Ba(a.href),h=this.commitLocationPromise;if(this.commitLocationPromise=cl(()=>{h==null||h.resolve()}),u&&l())this.load();else{let{maskedLocation:f,hashScrollIntoView:p,url:v,...g}=a;f&&(g={...f,state:{...f.state,__tempKey:void 0,__tempLocation:{...g,search:g.searchStr,state:{...g.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(g.unmaskOnReload??this.options.unmaskOnReload??!1)&&(g.state.__tempKey=this.tempLocationKey)),g.state.__hashScrollIntoViewOptions=p??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=t,this.history[a.replace?"replace":"push"](g.publicHref,g.state,{ignoreBlocker:i})}return this.resetNextScroll=a.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:t,resetScroll:i,hashScrollIntoView:a,viewTransition:l,ignoreBlocker:u,href:h,...f}={})=>{if(h){const g=this.history.location.state.__TSR_index,_=Uh(h,{__TSR_index:t?g:g+1});f.to=_.pathname,f.search=this.options.parseSearch(_.search),f.hash=_.hash.slice(1)}const p=this.buildLocation({...f,_includeValidateSearch:!0});this.pendingBuiltLocation=p;const v=this.commitLocation({...p,viewTransition:l,replace:t,resetScroll:i,hashScrollIntoView:a,ignoreBlocker:u});return Promise.resolve().then(()=>{this.pendingBuiltLocation===p&&(this.pendingBuiltLocation=void 0)}),v},this.navigate=async({to:t,reloadDocument:i,href:a,...l})=>{var u;if(!i&&a)try{new URL(`${a}`),i=!0}catch{}if(i){if(a||(a=this.buildLocation({to:t,...l}).url.href),!l.ignoreBlocker){const h=this.history,f=((u=h.getBlockers)==null?void 0:u.call(h))??[];for(const p of f)if(p!=null&&p.blockerFn&&await p.blockerFn({currentLocation:this.latestLocation,nextLocation:this.latestLocation,action:"PUSH"}))return Promise.resolve()}return l.replace?window.location.replace(a):window.location.href=a,Promise.resolve()}return this.buildAndCommitLocation({...l,href:a,to:t,_isNavigate:!0})},this.beforeLoad=()=>{if(this.cancelMatches(),this.updateLatestLocation(),this.isServer){const i=this.buildLocation({to:this.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});if(this.latestLocation.publicHref!==i.publicHref||i.url.origin!==this.origin){const a=this.getParsedLocationHref(i);throw lI({href:a})}}const t=this.matchRoutes(this.latestLocation);this.__store.setState(i=>({...i,status:"pending",statusCode:200,isLoading:!0,location:this.latestLocation,pendingMatches:t,cachedMatches:i.cachedMatches.filter(a=>!t.some(l=>l.id===a.id))}))},this.load=async t=>{let i,a,l;for(l=new Promise(h=>{this.startTransition(async()=>{var f;try{this.beforeLoad();const p=this.latestLocation,v=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...Fa({resolvedLocation:v,location:p})}),this.emit({type:"onBeforeLoad",...Fa({resolvedLocation:v,location:p})}),await sE({router:this,sync:t==null?void 0:t.sync,matches:this.state.pendingMatches,location:p,updateMatch:this.updateMatch,onReady:async()=>{this.startTransition(()=>{this.startViewTransition(async()=>{let g=[],_=[],S=[];Gc(()=>{this.__store.setState(R=>{const M=R.matches,k=R.pendingMatches||R.matches;return g=M.filter(V=>!k.some(H=>H.id===V.id)),_=k.filter(V=>!M.some(H=>H.id===V.id)),S=k.filter(V=>M.some(H=>H.id===V.id)),{...R,isLoading:!1,loadedAt:Date.now(),matches:k,pendingMatches:void 0,cachedMatches:[...R.cachedMatches,...g.filter(V=>V.status!=="error"&&V.status!=="notFound")]}}),this.clearExpiredCache()}),[[g,"onLeave"],[_,"onEnter"],[S,"onStay"]].forEach(([R,M])=>{R.forEach(k=>{var V,H;(H=(V=this.looseRoutesById[k.routeId].options)[M])==null||H.call(V,k)})})})})}})}catch(p){Gr(p)?(i=p,this.isServer||this.navigate({...i.options,replace:!0,ignoreBlocker:!0})):Dr(p)&&(a=p),this.__store.setState(v=>({...v,statusCode:i?i.status:a?404:v.matches.some(g=>g.status==="error")?500:200,redirect:i}))}this.latestLoadPromise===l&&((f=this.commitLocationPromise)==null||f.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),h()})}),this.latestLoadPromise=l,await l;this.latestLoadPromise&&l!==this.latestLoadPromise;)await this.latestLoadPromise;let u;this.hasNotFoundMatch()?u=404:this.__store.state.matches.some(h=>h.status==="error")&&(u=500),u!==void 0&&this.__store.setState(h=>({...h,statusCode:u}))},this.startViewTransition=t=>{const i=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,i&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let a;if(typeof i=="object"&&this.isViewTransitionTypesSupported){const l=this.latestLocation,u=this.state.resolvedLocation,h=typeof i.types=="function"?i.types(Fa({resolvedLocation:u,location:l})):i.types;if(h===!1){t();return}a={update:t,types:h}}else a=t;document.startViewTransition(a)}else t()},this.updateMatch=(t,i)=>{this.startTransition(()=>{var l;const a=(l=this.state.pendingMatches)!=null&&l.some(u=>u.id===t)?"pendingMatches":this.state.matches.some(u=>u.id===t)?"matches":this.state.cachedMatches.some(u=>u.id===t)?"cachedMatches":"";a&&this.__store.setState(u=>{var h;return{...u,[a]:(h=u[a])==null?void 0:h.map(f=>f.id===t?i(f):f)}})})},this.getMatch=t=>{var a;const i=l=>l.id===t;return this.state.cachedMatches.find(i)??((a=this.state.pendingMatches)==null?void 0:a.find(i))??this.state.matches.find(i)},this.invalidate=t=>{const i=a=>{var l;return((l=t==null?void 0:t.filter)==null?void 0:l.call(t,a))??!0?{...a,invalid:!0,...t!=null&&t.forcePending||a.status==="error"||a.status==="notFound"?{status:"pending",error:void 0}:void 0}:a};return this.__store.setState(a=>{var l;return{...a,matches:a.matches.map(i),cachedMatches:a.cachedMatches.map(i),pendingMatches:(l=a.pendingMatches)==null?void 0:l.map(i)}}),this.shouldViewTransition=!1,this.load({sync:t==null?void 0:t.sync})},this.getParsedLocationHref=t=>{let i=t.url.href;return this.origin&&t.url.origin===this.origin&&(i=i.replace(this.origin,"")||"/"),i},this.resolveRedirect=t=>{if(!t.options.href){const i=this.buildLocation(t.options),a=this.getParsedLocationHref(i);t.options.href=i.href,t.headers.set("Location",a)}return t.headers.get("Location")||t.headers.set("Location",t.options.href),t},this.clearCache=t=>{const i=t==null?void 0:t.filter;i!==void 0?this.__store.setState(a=>({...a,cachedMatches:a.cachedMatches.filter(l=>!i(l))})):this.__store.setState(a=>({...a,cachedMatches:[]}))},this.clearExpiredCache=()=>{const t=i=>{const a=this.looseRoutesById[i.routeId];if(!a.options.loader)return!0;const l=(i.preload?a.options.preloadGcTime??this.options.defaultPreloadGcTime:a.options.gcTime??this.options.defaultGcTime)??300*1e3;return i.status==="error"?!0:Date.now()-i.updatedAt>=l};this.clearCache({filter:t})},this.loadRouteChunk=QS,this.preloadRoute=async t=>{const i=this.buildLocation(t);let a=this.matchRoutes(i,{throwOnError:!0,preload:!0,dest:t});const l=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(h=>h.id)),u=new Set([...l,...this.state.cachedMatches.map(h=>h.id)]);Gc(()=>{a.forEach(h=>{u.has(h.id)||this.__store.setState(f=>({...f,cachedMatches:[...f.cachedMatches,h]}))})});try{return a=await sE({router:this,matches:a,location:i,preload:!0,updateMatch:(h,f)=>{l.has(h)?a=a.map(p=>p.id===h?f(p):p):this.updateMatch(h,f)}}),a}catch(h){if(Gr(h))return h.options.reloadDocument?void 0:await this.preloadRoute({...h.options,_fromLocation:i});Dr(h)||console.error(h);return}},this.matchRoute=(t,i)=>{const a={...t,to:t.to?this.resolvePathWithBase(t.from||"",t.to):void 0,params:t.params||{},leaveParams:!0},l=this.buildLocation(a);if(i!=null&&i.pending&&this.state.status!=="pending")return!1;const h=((i==null?void 0:i.pending)===void 0?!this.state.isLoading:i.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,f=zC(l.pathname,(i==null?void 0:i.caseSensitive)??!1,(i==null?void 0:i.fuzzy)??!1,h.pathname,this.processedTree);return!f||t.params&&!ja(f.params,t.params,{partial:!0})?!1:(i==null?void 0:i.includeSearch)??!0?ja(h.search,l.search,{partial:!0})?f.params:!1:f.params},this.hasNotFoundMatch=()=>this.__store.state.matches.some(t=>t.status==="notFound"||t.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??sI,parseSearch:e.parseSearch??iI}),typeof document<"u"&&(self.__TSR_ROUTER__=this)}isShell(){return!!this.options.isShell}isPrerendering(){return!!this.options.isPrerendering}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutesInternal(e,t){const i=this.getMatchedRoutes(e.pathname),{foundRoute:a,routeParams:l}=i;let{matchedRoutes:u}=i,h=!1;(a?a.path!=="/"&&l["**"]:Ba(e.pathname))&&(this.options.notFoundRoute?u=[...u,this.options.notFoundRoute]:h=!0);const f=(()=>{if(h){if(this.options.notFoundMode!=="root")for(let g=u.length-1;g>=0;g--){const _=u[g];if(_.children)return _.id}return ur}})(),p=[],v=g=>(g==null?void 0:g.id)?g.context??this.options.context??void 0:this.options.context??void 0;return u.forEach((g,_)=>{var O,ye,Se;const S=p[_-1],[R,M,k]=(()=>{const F=(S==null?void 0:S.search)??e.search,ie=(S==null?void 0:S._strictSearch)??void 0;try{const re=Og(g.options.validateSearch,{...F})??void 0;return[{...F,...re},{...ie,...re},void 0]}catch(re){let we=re;if(re instanceof Gh||(we=new Gh(re.message,{cause:re})),t!=null&&t.throwOnError)throw we;return[F,{},we]}})(),V=((ye=(O=g.options).loaderDeps)==null?void 0:ye.call(O,{search:R}))??"",H=V?JSON.stringify(V):"",{interpolatedPath:G,usedParams:Y}=Hp({path:g.fullPath,params:l,decodeCharMap:this.pathParamsDecodeCharMap}),$=g.id+G+H,q=this.getMatch($),A=this.state.matches.find(F=>F.routeId===g.id),w=(q==null?void 0:q._strictParams)??Y;let C;if(!q){const F=((Se=g.options.params)==null?void 0:Se.parse)??g.options.parseParams;if(F)try{Object.assign(w,F(w))}catch(ie){if(Dr(ie)||Gr(ie)?C=ie:C=new yI(ie.message,{cause:ie}),t!=null&&t.throwOnError)throw C}}Object.assign(l,w);const D=A?"stay":"enter";let N;if(q)N={...q,cause:D,params:A?Ir(A.params,l):l,_strictParams:w,search:Ir(A?A.search:q.search,R),_strictSearch:M};else{const F=g.options.loader||g.options.beforeLoad||g.lazyFn||XS(g)?"pending":"success";N={id:$,ssr:this.isServer?void 0:g.options.ssr,index:_,routeId:g.id,params:A?Ir(A.params,l):l,_strictParams:w,pathname:G,updatedAt:Date.now(),search:A?Ir(A.search,R):R,_strictSearch:M,searchError:void 0,status:F,isFetching:!1,error:void 0,paramsError:C,__routeContext:void 0,_nonReactive:{loadPromise:cl()},__beforeLoadContext:void 0,context:{},abortController:new AbortController,fetchCount:0,cause:D,loaderDeps:A?Ir(A.loaderDeps,V):V,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:g.options.staticData||{},fullPath:g.fullPath}}t!=null&&t.preload||(N.globalNotFound=f===g.id),N.searchError=k;const U=v(S);N.context={...U,...N.__routeContext,...N.__beforeLoadContext},p.push(N)}),p.forEach((g,_)=>{const S=this.looseRoutesById[g.routeId];if(!this.getMatch(g.id)&&(t==null?void 0:t._buildLocation)!==!0){const M=p[_-1],k=v(M);if(S.options.context){const V={deps:g.loaderDeps,params:g.params,context:k??{},location:e,navigate:H=>this.navigate({...H,_fromLocation:e}),buildLocation:this.buildLocation,cause:g.cause,abortController:g.abortController,preload:!!g.preload,matches:p};g.__routeContext=S.options.context(V)??void 0}g.context={...k,...g.__routeContext,...g.__beforeLoadContext}}}),p}}class Gh extends Error{}class yI extends Error{}function vI(n){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:n,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function Og(n,e){if(n==null)return{};if("~standard"in n){const t=n["~standard"].validate(e);if(t instanceof Promise)throw new Gh("Async validation not supported");if(t.issues)throw new Gh(JSON.stringify(t.issues,void 0,2),{cause:t});return t.value}return"parse"in n?n.parse(e):typeof n=="function"?n(e):{}}function _I({pathname:n,routesById:e,processedTree:t}){const i={},a=Ba(n);let l;const u=jC(a,t,!0);return u&&(l=u.route,Object.assign(i,u.params)),{matchedRoutes:(u==null?void 0:u.branch)||[e[ur]],routeParams:i,foundRoute:l}}function bI({search:n,dest:e,destRoutes:t,_includeValidateSearch:i}){const a=t.reduce((h,f)=>{var v;const p=[];if("search"in f.options)(v=f.options.search)!=null&&v.middlewares&&p.push(...f.options.search.middlewares);else if(f.options.preSearchFilters||f.options.postSearchFilters){const g=({search:_,next:S})=>{let R=_;"preSearchFilters"in f.options&&f.options.preSearchFilters&&(R=f.options.preSearchFilters.reduce((k,V)=>V(k),_));const M=S(R);return"postSearchFilters"in f.options&&f.options.postSearchFilters?f.options.postSearchFilters.reduce((k,V)=>V(k),M):M};p.push(g)}if(i&&f.options.validateSearch){const g=({search:_,next:S})=>{const R=S(_);try{return{...R,...Og(f.options.validateSearch,R)??void 0}}catch{return R}};p.push(g)}return h.concat(p)},[])??[],l=({search:h})=>e.search?e.search===!0?h:Gs(e.search,h):{};a.push(l);const u=(h,f)=>{if(h>=a.length)return f;const p=a[h];return p({search:f,next:g=>u(h+1,g)})};return u(0,n)}const EI="Error preloading route! ";class eT{constructor(e){if(this.init=t=>{var p,v;this.originalIndex=t.originalIndex;const i=this.options,a=!(i!=null&&i.path)&&!(i!=null&&i.id);this.parentRoute=(v=(p=this.options).getParentRoute)==null?void 0:v.call(p),a?this._path=ur:this.parentRoute||ts(!1);let l=a?ur:i==null?void 0:i.path;l&&l!=="/"&&(l=FS(l));const u=(i==null?void 0:i.id)||l;let h=a?ur:gh([this.parentRoute.id===ur?"":this.parentRoute.id,u]);l===ur&&(l="/"),h!==ur&&(h=gh(["/",h]));const f=h===ur?"/":gh([this.parentRoute.fullPath,l]);this._path=l,this._id=h,this._fullPath=f,this._to=f},this.addChildren=t=>this._addFileChildren(t),this._addFileChildren=t=>(Array.isArray(t)&&(this.children=t),typeof t=="object"&&t!==null&&(this.children=Object.values(t)),this),this._addFileTypes=()=>this,this.updateLoader=t=>(Object.assign(this.options,t),this),this.update=t=>(Object.assign(this.options,t),this),this.lazy=t=>(this.lazyFn=t,this),this.options=e||{},this.isRoot=!(e!=null&&e.getParentRoute),e!=null&&e.id&&(e!=null&&e.path))throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}}class SI extends eT{constructor(e){super(e)}}var Kp={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aE;function TI(){if(aE)return Le;aE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),_=Symbol.iterator;function S(j){return j===null||typeof j!="object"?null:(j=_&&j[_]||j["@@iterator"],typeof j=="function"?j:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,k={};function V(j,ne,te){this.props=j,this.context=ne,this.refs=k,this.updater=te||R}V.prototype.isReactComponent={},V.prototype.setState=function(j,ne){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ne,"setState")},V.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function H(){}H.prototype=V.prototype;function G(j,ne,te){this.props=j,this.context=ne,this.refs=k,this.updater=te||R}var Y=G.prototype=new H;Y.constructor=G,M(Y,V.prototype),Y.isPureReactComponent=!0;var $=Array.isArray;function q(){}var A={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(j,ne,te){var ce=te.ref;return{$$typeof:n,type:j,key:ne,ref:ce!==void 0?ce:null,props:te}}function D(j,ne){return C(j.type,ne,j.props)}function N(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function U(j){var ne={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(te){return ne[te]})}var O=/\/+/g;function ye(j,ne){return typeof j=="object"&&j!==null&&j.key!=null?U(""+j.key):ne.toString(36)}function Se(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(q,q):(j.status="pending",j.then(function(ne){j.status==="pending"&&(j.status="fulfilled",j.value=ne)},function(ne){j.status==="pending"&&(j.status="rejected",j.reason=ne)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function F(j,ne,te,ce,fe){var pe=typeof j;(pe==="undefined"||pe==="boolean")&&(j=null);var me=!1;if(j===null)me=!0;else switch(pe){case"bigint":case"string":case"number":me=!0;break;case"object":switch(j.$$typeof){case n:case e:me=!0;break;case v:return me=j._init,F(me(j._payload),ne,te,ce,fe)}}if(me)return fe=fe(j),me=ce===""?"."+ye(j,0):ce,$(fe)?(te="",me!=null&&(te=me.replace(O,"$&/")+"/"),F(fe,ne,te,"",function(ft){return ft})):fe!=null&&(N(fe)&&(fe=D(fe,te+(fe.key==null||j&&j.key===fe.key?"":(""+fe.key).replace(O,"$&/")+"/")+me)),ne.push(fe)),1;me=0;var Ae=ce===""?".":ce+":";if($(j))for(var Ne=0;Ne<j.length;Ne++)ce=j[Ne],pe=Ae+ye(ce,Ne),me+=F(ce,ne,te,pe,fe);else if(Ne=S(j),typeof Ne=="function")for(j=Ne.call(j),Ne=0;!(ce=j.next()).done;)ce=ce.value,pe=Ae+ye(ce,Ne++),me+=F(ce,ne,te,pe,fe);else if(pe==="object"){if(typeof j.then=="function")return F(Se(j),ne,te,ce,fe);throw ne=String(j),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return me}function ie(j,ne,te){if(j==null)return j;var ce=[],fe=0;return F(j,ce,"","",function(pe){return ne.call(te,pe,fe++)}),ce}function re(j){if(j._status===-1){var ne=j._result;ne=ne(),ne.then(function(te){(j._status===0||j._status===-1)&&(j._status=1,j._result=te)},function(te){(j._status===0||j._status===-1)&&(j._status=2,j._result=te)}),j._status===-1&&(j._status=0,j._result=ne)}if(j._status===1)return j._result.default;throw j._result}var we=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Ce={map:ie,forEach:function(j,ne,te){ie(j,function(){ne.apply(this,arguments)},te)},count:function(j){var ne=0;return ie(j,function(){ne++}),ne},toArray:function(j){return ie(j,function(ne){return ne})||[]},only:function(j){if(!N(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Le.Activity=g,Le.Children=Ce,Le.Component=V,Le.Fragment=t,Le.Profiler=a,Le.PureComponent=G,Le.StrictMode=i,Le.Suspense=f,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Le.__COMPILER_RUNTIME={__proto__:null,c:function(j){return A.H.useMemoCache(j)}},Le.cache=function(j){return function(){return j.apply(null,arguments)}},Le.cacheSignal=function(){return null},Le.cloneElement=function(j,ne,te){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ce=M({},j.props),fe=j.key;if(ne!=null)for(pe in ne.key!==void 0&&(fe=""+ne.key),ne)!w.call(ne,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&ne.ref===void 0||(ce[pe]=ne[pe]);var pe=arguments.length-2;if(pe===1)ce.children=te;else if(1<pe){for(var me=Array(pe),Ae=0;Ae<pe;Ae++)me[Ae]=arguments[Ae+2];ce.children=me}return C(j.type,fe,ce)},Le.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:l,_context:j},j},Le.createElement=function(j,ne,te){var ce,fe={},pe=null;if(ne!=null)for(ce in ne.key!==void 0&&(pe=""+ne.key),ne)w.call(ne,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(fe[ce]=ne[ce]);var me=arguments.length-2;if(me===1)fe.children=te;else if(1<me){for(var Ae=Array(me),Ne=0;Ne<me;Ne++)Ae[Ne]=arguments[Ne+2];fe.children=Ae}if(j&&j.defaultProps)for(ce in me=j.defaultProps,me)fe[ce]===void 0&&(fe[ce]=me[ce]);return C(j,pe,fe)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(j){return{$$typeof:h,render:j}},Le.isValidElement=N,Le.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:re}},Le.memo=function(j,ne){return{$$typeof:p,type:j,compare:ne===void 0?null:ne}},Le.startTransition=function(j){var ne=A.T,te={};A.T=te;try{var ce=j(),fe=A.S;fe!==null&&fe(te,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(q,we)}catch(pe){we(pe)}finally{ne!==null&&te.types!==null&&(ne.types=te.types),A.T=ne}},Le.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Le.use=function(j){return A.H.use(j)},Le.useActionState=function(j,ne,te){return A.H.useActionState(j,ne,te)},Le.useCallback=function(j,ne){return A.H.useCallback(j,ne)},Le.useContext=function(j){return A.H.useContext(j)},Le.useDebugValue=function(){},Le.useDeferredValue=function(j,ne){return A.H.useDeferredValue(j,ne)},Le.useEffect=function(j,ne){return A.H.useEffect(j,ne)},Le.useEffectEvent=function(j){return A.H.useEffectEvent(j)},Le.useId=function(){return A.H.useId()},Le.useImperativeHandle=function(j,ne,te){return A.H.useImperativeHandle(j,ne,te)},Le.useInsertionEffect=function(j,ne){return A.H.useInsertionEffect(j,ne)},Le.useLayoutEffect=function(j,ne){return A.H.useLayoutEffect(j,ne)},Le.useMemo=function(j,ne){return A.H.useMemo(j,ne)},Le.useOptimistic=function(j,ne){return A.H.useOptimistic(j,ne)},Le.useReducer=function(j,ne,te){return A.H.useReducer(j,ne,te)},Le.useRef=function(j){return A.H.useRef(j)},Le.useState=function(j){return A.H.useState(j)},Le.useSyncExternalStore=function(j,ne,te){return A.H.useSyncExternalStore(j,ne,te)},Le.useTransition=function(){return A.H.useTransition()},Le.version="19.2.3",Le}var oE;function fu(){return oE||(oE=1,Kp.exports=TI()),Kp.exports}var L=fu();const he=uy(L),gy=bC({__proto__:null,default:he},[L]);function yy(n){const e=n.errorComponent??_d;return P.jsx(wI,{getResetKey:n.getResetKey,onCatch:n.onCatch,children:({error:t,reset:i})=>t?L.createElement(e,{error:t,reset:i}):n.children})}class wI extends L.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,t){t.error&&t.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,t){this.props.onCatch&&this.props.onCatch(e,t)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function _d({error:n}){const[e,t]=L.useState(!1);return P.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[P.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[P.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),P.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>t(i=>!i),children:e?"Hide Error":"Show Error"})]}),P.jsx("div",{style:{height:".25rem"}}),e?P.jsx("div",{children:P.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:n.message?P.jsx("code",{children:n.message}):null})}):null]})}function AI({children:n,fallback:e=null}){return RI()?P.jsx(he.Fragment,{children:n}):P.jsx(he.Fragment,{children:e})}function RI(){return he.useSyncExternalStore(xI,()=>!0,()=>!1)}function xI(){return()=>{}}var Yp={exports:{}},$p={},Qp={exports:{}},Xp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lE;function CI(){if(lE)return Xp;lE=1;var n=fu();function e(g,_){return g===_&&(g!==0||1/g===1/_)||g!==g&&_!==_}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,a=n.useEffect,l=n.useLayoutEffect,u=n.useDebugValue;function h(g,_){var S=_(),R=i({inst:{value:S,getSnapshot:_}}),M=R[0].inst,k=R[1];return l(function(){M.value=S,M.getSnapshot=_,f(M)&&k({inst:M})},[g,S,_]),a(function(){return f(M)&&k({inst:M}),g(function(){f(M)&&k({inst:M})})},[g]),u(S),S}function f(g){var _=g.getSnapshot;g=g.value;try{var S=_();return!t(g,S)}catch{return!0}}function p(g,_){return _()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:h;return Xp.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:v,Xp}var cE;function II(){return cE||(cE=1,Qp.exports=CI()),Qp.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uE;function NI(){if(uE)return $p;uE=1;var n=fu(),e=II();function t(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var i=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,l=n.useRef,u=n.useEffect,h=n.useMemo,f=n.useDebugValue;return $p.useSyncExternalStoreWithSelector=function(p,v,g,_,S){var R=l(null);if(R.current===null){var M={hasValue:!1,value:null};R.current=M}else M=R.current;R=h(function(){function V(q){if(!H){if(H=!0,G=q,q=_(q),S!==void 0&&M.hasValue){var A=M.value;if(S(A,q))return Y=A}return Y=q}if(A=Y,i(G,q))return A;var w=_(q);return S!==void 0&&S(A,w)?(G=q,A):(G=q,Y=w)}var H=!1,G,Y,$=g===void 0?null:g;return[function(){return V(v())},$===null?void 0:function(){return V($())}]},[v,g,_,S]);var k=a(p,R[0],R[1]);return u(function(){M.hasValue=!0,M.value=k},[k]),f(k),k},$p}var fE;function MI(){return fE||(fE=1,Yp.exports=NI()),Yp.exports}var DI=MI();function OI(n,e=i=>i,t={}){const i=t.equal??kI;return DI.useSyncExternalStoreWithSelector(n.subscribe,()=>n.state,()=>n.state,e,i)}function kI(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;if(n instanceof Map&&e instanceof Map){if(n.size!==e.size)return!1;for(const[i,a]of n)if(!e.has(i)||!Object.is(a,e.get(i)))return!1;return!0}if(n instanceof Set&&e instanceof Set){if(n.size!==e.size)return!1;for(const i of n)if(!e.has(i))return!1;return!0}if(n instanceof Date&&e instanceof Date)return n.getTime()===e.getTime();const t=hE(n);if(t.length!==hE(e).length)return!1;for(let i=0;i<t.length;i++)if(!Object.prototype.hasOwnProperty.call(e,t[i])||!Object.is(n[t[i]],e[t[i]]))return!1;return!0}function hE(n){return Object.keys(n).concat(Object.getOwnPropertySymbols(n))}const Wp=L.createContext(null);function tT(){return typeof document>"u"?Wp:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=Wp,Wp)}function fr(n){const e=L.useContext(tT());return n==null||n.warn,e}function Qn(n){const e=fr({warn:(n==null?void 0:n.router)===void 0}),t=(n==null?void 0:n.router)||e,i=L.useRef(void 0);return OI(t.__store,a=>{if(n!=null&&n.select){if(n.structuralSharing??t.options.defaultStructuralSharing){const l=Ir(i.current,n.select(a));return i.current=l,l}return n.select(a)}return a})}const bd=L.createContext(void 0),PI=L.createContext(void 0);function Ai(n){const e=L.useContext(n.from?PI:bd);return Qn({select:i=>{const a=i.matches.find(l=>n.from?n.from===l.routeId:l.id===e);if(ts(!((n.shouldThrow??!0)&&!a),`Could not find ${n.from?`an active match from "${n.from}"`:"a nearest match!"}`),a!==void 0)return n.select?n.select(a):a},structuralSharing:n.structuralSharing})}function vy(n){return Ai({from:n.from,strict:n.strict,structuralSharing:n.structuralSharing,select:e=>n.select?n.select(e.loaderData):e.loaderData})}function _y(n){const{select:e,...t}=n;return Ai({...t,select:i=>e?e(i.loaderDeps):i.loaderDeps})}function by(n){return Ai({from:n.from,shouldThrow:n.shouldThrow,structuralSharing:n.structuralSharing,strict:n.strict,select:e=>{const t=n.strict===!1?e.params:e._strictParams;return n.select?n.select(t):t}})}function Ey(n){return Ai({from:n.from,strict:n.strict,shouldThrow:n.shouldThrow,structuralSharing:n.structuralSharing,select:e=>n.select?n.select(e.search):e.search})}const Wf=typeof window<"u"?L.useLayoutEffect:L.useEffect;function Zp(n){const e=L.useRef({value:n,prev:null}),t=e.current.value;return n!==t&&(e.current={value:n,prev:t}),e.current.prev}function LI(n,e,t={},i={}){L.useEffect(()=>{if(!n.current||i.disabled||typeof IntersectionObserver!="function")return;const a=new IntersectionObserver(([l])=>{e(l)},t);return a.observe(n.current),()=>{a.disconnect()}},[e,t,i.disabled,n])}function VI(n){const e=L.useRef(null);return L.useImperativeHandle(n,()=>e.current,[]),e}function Ci(n){const e=fr();return L.useCallback(t=>e.navigate({...t,from:t.from??(n==null?void 0:n.from)}),[n==null?void 0:n.from,e])}var Jp={exports:{}},Nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dE;function UI(){if(dE)return Nn;dE=1;var n=fu();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,p,v){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:p,implementation:v}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Nn.createPortal=function(f,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(f,p,null,v)},Nn.flushSync=function(f){var p=u.T,v=i.p;try{if(u.T=null,i.p=2,f)return f()}finally{u.T=p,i.p=v,i.d.f()}},Nn.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(f,p))},Nn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Nn.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var v=p.as,g=h(v,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?i.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:g,integrity:_,fetchPriority:S}):v==="script"&&i.d.X(f,{crossOrigin:g,integrity:_,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Nn.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=h(p.as,p.crossOrigin);i.d.M(f,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(f)},Nn.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,g=h(v,p.crossOrigin);i.d.L(f,v,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Nn.preloadModule=function(f,p){if(typeof f=="string")if(p){var v=h(p.as,p.crossOrigin);i.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(f)},Nn.requestFormReset=function(f){i.d.r(f)},Nn.unstable_batchedUpdates=function(f,p){return f(p)},Nn.useFormState=function(f,p,v){return u.H.useFormState(f,p,v)},Nn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Nn.version="19.2.3",Nn}var mE;function nT(){if(mE)return Jp.exports;mE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Jp.exports=UI(),Jp.exports}var Sy=nT();const rT=uy(Sy);function zI(n,e){const t=fr(),[i,a]=L.useState(!1),l=L.useRef(!1),u=VI(e),{activeProps:h,inactiveProps:f,activeOptions:p,to:v,preload:g,preloadDelay:_,hashScrollIntoView:S,replace:R,startTransition:M,resetScroll:k,viewTransition:V,children:H,target:G,disabled:Y,style:$,className:q,onClick:A,onFocus:w,onMouseEnter:C,onMouseLeave:D,onTouchStart:N,ignoreBlocker:U,params:O,search:ye,hash:Se,state:F,mask:ie,reloadDocument:re,unsafeRelative:we,from:Ce,_fromLocation:j,...ne}=n,te=Qn({select:Pe=>Pe.location.search,structuralSharing:!0}),ce=n.from,fe=L.useMemo(()=>({...n,from:ce}),[t,te,ce,n._fromLocation,n.hash,n.to,n.search,n.params,n.state,n.mask,n.unsafeRelative]),pe=L.useMemo(()=>t.buildLocation({...fe}),[t,fe]),me=L.useMemo(()=>{if(Y)return;let Pe=pe.maskedLocation?pe.maskedLocation.url.href:pe.url.href,je=!1;return t.origin&&(Pe.startsWith(t.origin)?Pe=t.history.createHref(Pe.replace(t.origin,""))||"/":je=!0),{href:Pe,external:je}},[Y,pe.maskedLocation,pe.url,t.origin,t.history]),Ae=L.useMemo(()=>{if(me!=null&&me.external)return me.href;try{return new URL(v),v}catch{}},[v,me]),Ne=n.reloadDocument||Ae?!1:g??t.options.defaultPreload,ft=_??t.options.defaultPreloadDelay??0,Et=Qn({select:Pe=>{if(Ae)return!1;if(p!=null&&p.exact){if(!YC(Pe.location.pathname,pe.pathname,t.basepath))return!1}else{const je=Fh(Pe.location.pathname,t.basepath),gt=Fh(pe.pathname,t.basepath);if(!(je.startsWith(gt)&&(je.length===gt.length||je[gt.length]==="/")))return!1}return((p==null?void 0:p.includeSearch)??!0)&&!ja(Pe.location.search,pe.search,{partial:!(p!=null&&p.exact),ignoreUndefined:!(p!=null&&p.explicitUndefined)})?!1:p!=null&&p.includeHash?Pe.location.hash===pe.hash:!0}}),Je=L.useCallback(()=>{t.preloadRoute({...fe}).catch(Pe=>{console.warn(Pe),console.warn(EI)})},[t,fe]),Sn=L.useCallback(Pe=>{Pe!=null&&Pe.isIntersecting&&Je()},[Je]);LI(u,Sn,HI,{disabled:!!Y||Ne!=="viewport"}),L.useEffect(()=>{l.current||!Y&&Ne==="render"&&(Je(),l.current=!0)},[Y,Je,Ne]);const It=Pe=>{const je=Pe.currentTarget.getAttribute("target"),gt=G!==void 0?G:je;if(!Y&&!GI(Pe)&&!Pe.defaultPrevented&&(!gt||gt==="_self")&&Pe.button===0){Pe.preventDefault(),Sy.flushSync(()=>{a(!0)});const Jt=t.subscribe("onResolved",()=>{Jt(),a(!1)});t.navigate({...fe,replace:R,resetScroll:k,hashScrollIntoView:S,startTransition:M,viewTransition:V,ignoreBlocker:U})}};if(Ae)return{...ne,ref:u,href:Ae,...H&&{children:H},...G&&{target:G},...Y&&{disabled:Y},...$&&{style:$},...q&&{className:q},...A&&{onClick:A},...w&&{onFocus:w},...C&&{onMouseEnter:C},...D&&{onMouseLeave:D},...N&&{onTouchStart:N}};const Tn=Pe=>{Y||Ne&&Je()},Wt=Tn,Zt=Pe=>{if(!(Y||!Ne))if(!ft)Je();else{const je=Pe.target;if(Mc.has(je))return;const gt=setTimeout(()=>{Mc.delete(je),Je()},ft);Mc.set(je,gt)}},Un=Pe=>{if(Y||!Ne||!ft)return;const je=Pe.target,gt=Mc.get(je);gt&&(clearTimeout(gt),Mc.delete(je))},Fe=Et?Gs(h,{})??jI:eg,it=Et?eg:Gs(f,{})??eg,un=[q,Fe.className,it.className].filter(Boolean).join(" "),Rt=($||Fe.style||it.style)&&{...$,...Fe.style,...it.style};return{...ne,...Fe,...it,href:me==null?void 0:me.href,ref:u,onClick:Dc([A,It]),onFocus:Dc([w,Tn]),onMouseEnter:Dc([C,Zt]),onMouseLeave:Dc([D,Un]),onTouchStart:Dc([N,Wt]),disabled:!!Y,target:G,...Rt&&{style:Rt},...un&&{className:un},...Y&&BI,...Et&&FI,...i&&qI}}const eg={},jI={className:"active"},BI={role:"link","aria-disabled":!0},FI={"data-status":"active","aria-current":"page"},qI={"data-transitioning":"transitioning"},Mc=new WeakMap,HI={rootMargin:"100px"},Dc=n=>e=>{for(const t of n)if(t){if(e.defaultPrevented)return;t(e)}},Ty=L.forwardRef((n,e)=>{const{_asChild:t,...i}=n,{type:a,ref:l,...u}=zI(i,e),h=typeof i.children=="function"?i.children({isActive:u["data-status"]==="active"}):i.children;return t===void 0&&delete u.disabled,L.createElement(t||"a",{...u,ref:l},h)});function GI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}let KI=class extends eT{constructor(e){super(e),this.useMatch=t=>Ai({select:t==null?void 0:t.select,from:this.id,structuralSharing:t==null?void 0:t.structuralSharing}),this.useRouteContext=t=>Ai({...t,from:this.id,select:i=>t!=null&&t.select?t.select(i.context):i.context}),this.useSearch=t=>Ey({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.id}),this.useParams=t=>by({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.id}),this.useLoaderDeps=t=>_y({...t,from:this.id}),this.useLoaderData=t=>vy({...t,from:this.id}),this.useNavigate=()=>Ci({from:this.fullPath}),this.Link=he.forwardRef((t,i)=>P.jsx(Ty,{ref:i,from:this.fullPath,...t})),this.$$typeof=Symbol.for("react.memo")}};function YI(n){return new KI(n)}class $I extends SI{constructor(e){super(e),this.useMatch=t=>Ai({select:t==null?void 0:t.select,from:this.id,structuralSharing:t==null?void 0:t.structuralSharing}),this.useRouteContext=t=>Ai({...t,from:this.id,select:i=>t!=null&&t.select?t.select(i.context):i.context}),this.useSearch=t=>Ey({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.id}),this.useParams=t=>by({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.id}),this.useLoaderDeps=t=>_y({...t,from:this.id}),this.useLoaderData=t=>vy({...t,from:this.id}),this.useNavigate=()=>Ci({from:this.fullPath}),this.Link=he.forwardRef((t,i)=>P.jsx(Ty,{ref:i,from:this.fullPath,...t})),this.$$typeof=Symbol.for("react.memo")}}function QI(n){return new $I(n)}function Ya(n){return typeof n=="object"?new pE(n,{silent:!0}).createRoute(n):new pE(n,{silent:!0}).createRoute}class pE{constructor(e,t){this.path=e,this.createRoute=i=>{this.silent;const a=YI(i);return a.isRoot=!1,a},this.silent=t==null?void 0:t.silent}}class gE{constructor(e){this.useMatch=t=>Ai({select:t==null?void 0:t.select,from:this.options.id,structuralSharing:t==null?void 0:t.structuralSharing}),this.useRouteContext=t=>Ai({from:this.options.id,select:i=>t!=null&&t.select?t.select(i.context):i.context}),this.useSearch=t=>Ey({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.options.id}),this.useParams=t=>by({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.options.id}),this.useLoaderDeps=t=>_y({...t,from:this.options.id}),this.useLoaderData=t=>vy({...t,from:this.options.id}),this.useNavigate=()=>{const t=fr();return Ci({from:t.routesById[this.options.id].fullPath})},this.options=e,this.$$typeof=Symbol.for("react.memo")}}function yE(n){return typeof n=="object"?new gE(n):e=>new gE({id:n,...e})}function XI(){const n=fr(),e=L.useRef({router:n,mounted:!1}),[t,i]=L.useState(!1),{hasPendingMatches:a,isLoading:l}=Qn({select:g=>({isLoading:g.isLoading,hasPendingMatches:g.matches.some(_=>_.status==="pending")}),structuralSharing:!0}),u=Zp(l),h=l||t||a,f=Zp(h),p=l||a,v=Zp(p);return n.startTransition=g=>{i(!0),L.startTransition(()=>{g(),i(!1)})},L.useEffect(()=>{const g=n.history.subscribe(n.load),_=n.buildLocation({to:n.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Ba(n.latestLocation.href)!==Ba(_.href)&&n.commitLocation({..._,replace:!0}),()=>{g()}},[n,n.history]),Wf(()=>{if(typeof window<"u"&&n.ssr||e.current.router===n&&e.current.mounted)return;e.current={router:n,mounted:!0},(async()=>{try{await n.load()}catch(_){console.error(_)}})()},[n]),Wf(()=>{u&&!l&&n.emit({type:"onLoad",...Fa(n.state)})},[u,n,l]),Wf(()=>{v&&!p&&n.emit({type:"onBeforeRouteMount",...Fa(n.state)})},[p,v,n]),Wf(()=>{if(f&&!h){const g=Fa(n.state);n.emit({type:"onResolved",...g}),n.__store.setState(_=>({..._,status:"idle",resolvedLocation:_.location})),g.hrefChanged&&tI(n)}},[h,f,n]),null}function WI(n){const e=Qn({select:t=>`not-found-${t.location.pathname}-${t.status}`});return P.jsx(yy,{getResetKey:()=>e,onCatch:(t,i)=>{var a;if(Dr(t))(a=n.onCatch)==null||a.call(n,t,i);else throw t},errorComponent:({error:t})=>{var i;if(Dr(t))return(i=n.fallback)==null?void 0:i.call(n,t);throw t},children:n.children})}function ZI(){return P.jsx("p",{children:"Not Found"})}function Wo(n){return P.jsx(P.Fragment,{children:n.children})}function iT(n,e,t){return e.options.notFoundComponent?P.jsx(e.options.notFoundComponent,{...t}):n.options.defaultNotFoundComponent?P.jsx(n.options.defaultNotFoundComponent,{...t}):P.jsx(ZI,{})}function JI({children:n}){var t;const e=fr();return e.isServer?P.jsx("script",{nonce:(t=e.options.ssr)==null?void 0:t.nonce,dangerouslySetInnerHTML:{__html:n+";document.currentScript.remove()"}}):null}function e2(){const n=fr();if(!n.isScrollRestoring||!n.isServer||typeof n.options.scrollRestoration=="function"&&!n.options.scrollRestoration({location:n.latestLocation}))return null;const t=(n.options.getScrollRestorationKey||Dg)(n.latestLocation),i=t!==Dg(n.latestLocation)?t:void 0,a={storageKey:qh,shouldScrollRestoration:!0};return i&&(a.key=i),P.jsx(JI,{children:`(${HS.toString()})(${JSON.stringify(a)})`})}const sT=L.memo(function({matchId:e}){var V,H;const t=fr(),i=Qn({select:G=>{const Y=G.matches.find($=>$.id===e);return ts(Y),{routeId:Y.routeId,ssr:Y.ssr,_displayPending:Y._displayPending}},structuralSharing:!0}),a=t.routesById[i.routeId],l=a.options.pendingComponent??t.options.defaultPendingComponent,u=l?P.jsx(l,{}):null,h=a.options.errorComponent??t.options.defaultErrorComponent,f=a.options.onCatch??t.options.defaultOnCatch,p=a.isRoot?a.options.notFoundComponent??((V=t.options.notFoundRoute)==null?void 0:V.options.component):a.options.notFoundComponent,v=i.ssr===!1||i.ssr==="data-only",g=(!a.isRoot||a.options.wrapInSuspense||v)&&(a.options.wrapInSuspense??l??(((H=a.options.errorComponent)==null?void 0:H.preload)||v))?L.Suspense:Wo,_=h?yy:Wo,S=p?WI:Wo,R=Qn({select:G=>G.loadedAt}),M=Qn({select:G=>{var $;const Y=G.matches.findIndex(q=>q.id===e);return($=G.matches[Y-1])==null?void 0:$.routeId}}),k=a.isRoot?a.options.shellComponent??Wo:Wo;return P.jsxs(k,{children:[P.jsx(bd.Provider,{value:e,children:P.jsx(g,{fallback:u,children:P.jsx(_,{getResetKey:()=>R,errorComponent:h||_d,onCatch:(G,Y)=>{if(Dr(G))throw G;f==null||f(G,Y)},children:P.jsx(S,{fallback:G=>{if(!p||G.routeId&&G.routeId!==i.routeId||!G.routeId&&!a.isRoot)throw G;return L.createElement(p,G)},children:v||i._displayPending?P.jsx(AI,{fallback:u,children:P.jsx(vE,{matchId:e})}):P.jsx(vE,{matchId:e})})})})}),M===ur&&t.options.scrollRestoration?P.jsxs(P.Fragment,{children:[P.jsx(t2,{}),P.jsx(e2,{})]}):null]})});function t2(){const n=fr(),e=L.useRef(void 0);return P.jsx("script",{suppressHydrationWarning:!0,ref:t=>{t&&(e.current===void 0||e.current.href!==n.latestLocation.href)&&(n.emit({type:"onRendered",...Fa(n.state)}),e.current=n.latestLocation)}},n.latestLocation.state.__TSR_key)}const vE=L.memo(function({matchId:e}){var f,p,v,g;const t=fr(),{match:i,key:a,routeId:l}=Qn({select:_=>{const S=_.matches.find(H=>H.id===e),R=S.routeId,M=t.routesById[R].options.remountDeps??t.options.defaultRemountDeps,k=M==null?void 0:M({routeId:R,loaderDeps:S.loaderDeps,params:S._strictParams,search:S._strictSearch});return{key:k?JSON.stringify(k):void 0,routeId:R,match:{id:S.id,status:S.status,error:S.error,_forcePending:S._forcePending,_displayPending:S._displayPending}}},structuralSharing:!0}),u=t.routesById[l],h=L.useMemo(()=>{const _=u.options.component??t.options.defaultComponent;return _?P.jsx(_,{},a):P.jsx(aT,{})},[a,u.options.component,t.options.defaultComponent]);if(i._displayPending)throw(f=t.getMatch(i.id))==null?void 0:f._nonReactive.displayPendingPromise;if(i._forcePending)throw(p=t.getMatch(i.id))==null?void 0:p._nonReactive.minPendingPromise;if(i.status==="pending"){const _=u.options.pendingMinMs??t.options.defaultPendingMinMs;if(_){const S=t.getMatch(i.id);if(S&&!S._nonReactive.minPendingPromise&&!t.isServer){const R=cl();S._nonReactive.minPendingPromise=R,setTimeout(()=>{R.resolve(),S._nonReactive.minPendingPromise=void 0},_)}}throw(v=t.getMatch(i.id))==null?void 0:v._nonReactive.loadPromise}if(i.status==="notFound")return ts(Dr(i.error)),iT(t,u,i.error);if(i.status==="redirected")throw ts(Gr(i.error)),(g=t.getMatch(i.id))==null?void 0:g._nonReactive.loadPromise;if(i.status==="error"){if(t.isServer){const _=(u.options.errorComponent??t.options.defaultErrorComponent)||_d;return P.jsx(_,{error:i.error,reset:void 0,info:{componentStack:""}})}throw i.error}return h}),aT=L.memo(function(){const e=fr(),t=L.useContext(bd),i=Qn({select:p=>{var v;return(v=p.matches.find(g=>g.id===t))==null?void 0:v.routeId}}),a=e.routesById[i],l=Qn({select:p=>{const g=p.matches.find(_=>_.id===t);return ts(g),g.globalNotFound}}),u=Qn({select:p=>{var _;const v=p.matches,g=v.findIndex(S=>S.id===t);return(_=v[g+1])==null?void 0:_.id}}),h=e.options.defaultPendingComponent?P.jsx(e.options.defaultPendingComponent,{}):null;if(l)return iT(e,a,void 0);if(!u)return null;const f=P.jsx(sT,{matchId:u});return i===ur?P.jsx(L.Suspense,{fallback:h,children:f}):f});function n2(){const n=fr(),t=n.routesById[ur].options.pendingComponent??n.options.defaultPendingComponent,i=t?P.jsx(t,{}):null,a=n.isServer||typeof document<"u"&&n.ssr?Wo:L.Suspense,l=P.jsxs(a,{fallback:i,children:[!n.isServer&&P.jsx(XI,{}),P.jsx(r2,{})]});return n.options.InnerWrap?P.jsx(n.options.InnerWrap,{children:l}):l}function r2(){const n=fr(),e=Qn({select:a=>{var l;return(l=a.matches[0])==null?void 0:l.id}}),t=Qn({select:a=>a.loadedAt}),i=e?P.jsx(sT,{matchId:e}):null;return P.jsx(bd.Provider,{value:e,children:n.options.disableGlobalCatchBoundary?i:P.jsx(yy,{getResetKey:()=>t,errorComponent:_d,onCatch:a=>{a.message||a.toString()},children:i})})}const i2=n=>new s2(n);class s2 extends gI{constructor(e){super(e)}}typeof globalThis<"u"?(globalThis.createFileRoute=Ya,globalThis.createLazyFileRoute=yE):typeof window<"u"&&(window.createFileRoute=Ya,window.createLazyFileRoute=yE);function a2({router:n,children:e,...t}){Object.keys(t).length>0&&n.update({...n.options,...t,context:{...n.options.context,...t.context}});const i=tT(),a=P.jsx(i.Provider,{value:n,children:e});return n.options.Wrap?P.jsx(n.options.Wrap,{children:a}):a}function o2({router:n,...e}){return P.jsx(a2,{router:n,...e,children:P.jsx(n2,{})})}var tg={exports:{}},Oc={},ng={exports:{}},rg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _E;function l2(){return _E||(_E=1,(function(n){function e(F,ie){var re=F.length;F.push(ie);e:for(;0<re;){var we=re-1>>>1,Ce=F[we];if(0<a(Ce,ie))F[we]=ie,F[re]=Ce,re=we;else break e}}function t(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var ie=F[0],re=F.pop();if(re!==ie){F[0]=re;e:for(var we=0,Ce=F.length,j=Ce>>>1;we<j;){var ne=2*(we+1)-1,te=F[ne],ce=ne+1,fe=F[ce];if(0>a(te,re))ce<Ce&&0>a(fe,te)?(F[we]=fe,F[ce]=re,we=ce):(F[we]=te,F[ne]=re,we=ne);else if(ce<Ce&&0>a(fe,re))F[we]=fe,F[ce]=re,we=ce;else break e}}return ie}function a(F,ie){var re=F.sortIndex-ie.sortIndex;return re!==0?re:F.id-ie.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],p=[],v=1,g=null,_=3,S=!1,R=!1,M=!1,k=!1,V=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function Y(F){for(var ie=t(p);ie!==null;){if(ie.callback===null)i(p);else if(ie.startTime<=F)i(p),ie.sortIndex=ie.expirationTime,e(f,ie);else break;ie=t(p)}}function $(F){if(M=!1,Y(F),!R)if(t(f)!==null)R=!0,q||(q=!0,U());else{var ie=t(p);ie!==null&&Se($,ie.startTime-F)}}var q=!1,A=-1,w=5,C=-1;function D(){return k?!0:!(n.unstable_now()-C<w)}function N(){if(k=!1,q){var F=n.unstable_now();C=F;var ie=!0;try{e:{R=!1,M&&(M=!1,H(A),A=-1),S=!0;var re=_;try{t:{for(Y(F),g=t(f);g!==null&&!(g.expirationTime>F&&D());){var we=g.callback;if(typeof we=="function"){g.callback=null,_=g.priorityLevel;var Ce=we(g.expirationTime<=F);if(F=n.unstable_now(),typeof Ce=="function"){g.callback=Ce,Y(F),ie=!0;break t}g===t(f)&&i(f),Y(F)}else i(f);g=t(f)}if(g!==null)ie=!0;else{var j=t(p);j!==null&&Se($,j.startTime-F),ie=!1}}break e}finally{g=null,_=re,S=!1}ie=void 0}}finally{ie?U():q=!1}}}var U;if(typeof G=="function")U=function(){G(N)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,ye=O.port2;O.port1.onmessage=N,U=function(){ye.postMessage(null)}}else U=function(){V(N,0)};function Se(F,ie){A=V(function(){F(n.unstable_now())},ie)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(F){switch(_){case 1:case 2:case 3:var ie=3;break;default:ie=_}var re=_;_=ie;try{return F()}finally{_=re}},n.unstable_requestPaint=function(){k=!0},n.unstable_runWithPriority=function(F,ie){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var re=_;_=F;try{return ie()}finally{_=re}},n.unstable_scheduleCallback=function(F,ie,re){var we=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?we+re:we):re=we,F){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=re+Ce,F={id:v++,callback:ie,priorityLevel:F,startTime:re,expirationTime:Ce,sortIndex:-1},re>we?(F.sortIndex=re,e(p,F),t(f)===null&&F===t(p)&&(M?(H(A),A=-1):M=!0,Se($,re-we))):(F.sortIndex=Ce,e(f,F),R||S||(R=!0,q||(q=!0,U()))),F},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(F){var ie=_;return function(){var re=_;_=ie;try{return F.apply(this,arguments)}finally{_=re}}}})(rg)),rg}var bE;function c2(){return bE||(bE=1,ng.exports=l2()),ng.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EE;function u2(){if(EE)return Oc;EE=1;var n=c2(),e=fu(),t=nT();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function h(r){if(r.tag===31){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(l(r)!==r)throw Error(i(188))}function p(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,c=s;;){var m=o.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===o)return f(m),r;if(y===c)return f(m),s;y=y.sibling}throw Error(i(188))}if(o.return!==c.return)o=m,c=y;else{for(var E=!1,x=m.child;x;){if(x===o){E=!0,o=m,c=y;break}if(x===c){E=!0,c=m,o=y;break}x=x.sibling}if(!E){for(x=y.child;x;){if(x===o){E=!0,o=y,c=m;break}if(x===c){E=!0,c=y,o=m;break}x=x.sibling}if(!E)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function v(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=v(r),s!==null)return s;r=r.sibling}return null}var g=Object.assign,_=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),G=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(r){return r===null||typeof r!="object"?null:(r=N&&r[N]||r["@@iterator"],typeof r=="function"?r:null)}var O=Symbol.for("react.client.reference");function ye(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===O?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case M:return"Fragment";case V:return"Profiler";case k:return"StrictMode";case $:return"Suspense";case q:return"SuspenseList";case C:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case R:return"Portal";case G:return r.displayName||"Context";case H:return(r._context.displayName||"Context")+".Consumer";case Y:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case A:return s=r.displayName||null,s!==null?s:ye(r.type)||"Memo";case w:s=r._payload,r=r._init;try{return ye(r(s))}catch{}}return null}var Se=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},we=[],Ce=-1;function j(r){return{current:r}}function ne(r){0>Ce||(r.current=we[Ce],we[Ce]=null,Ce--)}function te(r,s){Ce++,we[Ce]=r.current,r.current=s}var ce=j(null),fe=j(null),pe=j(null),me=j(null);function Ae(r,s){switch(te(pe,s),te(fe,r),te(ce,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?yb(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=yb(s),r=vb(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ne(ce),te(ce,r)}function Ne(){ne(ce),ne(fe),ne(pe)}function ft(r){r.memoizedState!==null&&te(me,r);var s=ce.current,o=vb(s,r.type);s!==o&&(te(fe,r),te(ce,o))}function Et(r){fe.current===r&&(ne(ce),ne(fe)),me.current===r&&(ne(me),Ac._currentValue=re)}var Je,Sn;function It(r){if(Je===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Je=s&&s[1]||"",Sn=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Je+r+Sn}var Tn=!1;function Wt(r,s){if(!r||Tn)return"";Tn=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(ee){var Z=ee}Reflect.construct(r,[],le)}else{try{le.call()}catch(ee){Z=ee}r.call(le.prototype)}}else{try{throw Error()}catch(ee){Z=ee}(le=r())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(ee){if(ee&&Z&&typeof ee.stack=="string")return[ee.stack,Z.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),E=y[0],x=y[1];if(E&&x){var z=E.split(`
`),W=x.split(`
`);for(m=c=0;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;for(;m<W.length&&!W[m].includes("DetermineComponentFrameRoot");)m++;if(c===z.length||m===W.length)for(c=z.length-1,m=W.length-1;1<=c&&0<=m&&z[c]!==W[m];)m--;for(;1<=c&&0<=m;c--,m--)if(z[c]!==W[m]){if(c!==1||m!==1)do if(c--,m--,0>m||z[c]!==W[m]){var se=`
`+z[c].replace(" at new "," at ");return r.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",r.displayName)),se}while(1<=c&&0<=m);break}}}finally{Tn=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?It(o):""}function Zt(r,s){switch(r.tag){case 26:case 27:case 5:return It(r.type);case 16:return It("Lazy");case 13:return r.child!==s&&s!==null?It("Suspense Fallback"):It("Suspense");case 19:return It("SuspenseList");case 0:case 15:return Wt(r.type,!1);case 11:return Wt(r.type.render,!1);case 1:return Wt(r.type,!0);case 31:return It("Activity");default:return""}}function Un(r){try{var s="",o=null;do s+=Zt(r,o),o=r,r=r.return;while(r);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Fe=Object.prototype.hasOwnProperty,it=n.unstable_scheduleCallback,un=n.unstable_cancelCallback,Rt=n.unstable_shouldYield,Pe=n.unstable_requestPaint,je=n.unstable_now,gt=n.unstable_getCurrentPriorityLevel,Jt=n.unstable_ImmediatePriority,Jn=n.unstable_UserBlockingPriority,wn=n.unstable_NormalPriority,hr=n.unstable_LowPriority,An=n.unstable_IdlePriority,dr=n.log,Rn=n.unstable_setDisableYieldValue,xn=null,Ot=null;function rn(r){if(typeof dr=="function"&&Rn(r),Ot&&typeof Ot.setStrictMode=="function")try{Ot.setStrictMode(xn,r)}catch{}}var _t=Math.clz32?Math.clz32:Cn,Ii=Math.log,mr=Math.LN2;function Cn(r){return r>>>=0,r===0?32:31-(Ii(r)/mr|0)|0}var zn=256,pr=262144,St=4194304;function er(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Ie(r,s,o){var c=r.pendingLanes;if(c===0)return 0;var m=0,y=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var x=c&134217727;return x!==0?(c=x&~y,c!==0?m=er(c):(E&=x,E!==0?m=er(E):o||(o=x&~r,o!==0&&(m=er(o))))):(x=c&~y,x!==0?m=er(x):E!==0?m=er(E):o||(o=c&~r,o!==0&&(m=er(o)))),m===0?0:s!==0&&s!==m&&(s&y)===0&&(y=m&-m,o=s&-s,y>=o||y===32&&(o&4194048)!==0)?s:m}function st(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function zt(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sn(){var r=St;return St<<=1,(St&62914560)===0&&(St=4194304),r}function Pn(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function Tt(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function In(r,s,o,c,m,y){var E=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var x=r.entanglements,z=r.expirationTimes,W=r.hiddenUpdates;for(o=E&~o;0<o;){var se=31-_t(o),le=1<<se;x[se]=0,z[se]=-1;var Z=W[se];if(Z!==null)for(W[se]=null,se=0;se<Z.length;se++){var ee=Z[se];ee!==null&&(ee.lane&=-536870913)}o&=~le}c!==0&&gr(r,c,0),y!==0&&m===0&&r.tag!==0&&(r.suspendedLanes|=y&~(E&~s))}function gr(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-_t(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|o&261930}function fn(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var c=31-_t(o),m=1<<c;m&s|r[c]&s&&(r[c]|=s),o&=~m}}function hn(r,s){var o=s&-s;return o=(o&42)!==0?1:Wr(o),(o&(r.suspendedLanes|s))!==0?0:o}function Wr(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function dn(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Ml(){var r=ie.p;return r!==0?r:(r=window.event,r===void 0?32:Bb(r.type))}function kr(r,s){var o=ie.p;try{return ie.p=r,s()}finally{ie.p=o}}var Pr=Math.random().toString(36).slice(2),jt="__reactFiber$"+Pr,an="__reactProps$"+Pr,Zr="__reactContainer$"+Pr,so="__reactEvents$"+Pr,Gd="__reactListeners$"+Pr,Au="__reactHandles$"+Pr,Ru="__reactResources$"+Pr,Jr="__reactMarker$"+Pr;function ao(r){delete r[jt],delete r[an],delete r[so],delete r[Gd],delete r[Au]}function ei(r){var s=r[jt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Zr]||o[jt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=Ab(r);r!==null;){if(o=r[jt])return o;r=Ab(r)}return s}r=o,o=r.parentNode}return null}function yr(r){if(r=r[jt]||r[Zr]){var s=r.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return r}return null}function tr(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function ti(r){var s=r[Ru];return s||(s=r[Ru]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Bt(r){r[Jr]=!0}var Dl=new Set,Ol={};function ni(r,s){ri(r,s),ri(r+"Capture",s)}function ri(r,s){for(Ol[r]=s,r=0;r<s.length;r++)Dl.add(s[r])}var kl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pl={},Ll={};function xu(r){return Fe.call(Ll,r)?!0:Fe.call(Pl,r)?!1:kl.test(r)?Ll[r]=!0:(Pl[r]=!0,!1)}function oo(r,s,o){if(xu(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function nr(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function Ft(r,s,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+c)}}function on(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ls(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Vl(r,s,o){var c=Object.getOwnPropertyDescriptor(r.constructor.prototype,s);if(!r.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,y=c.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return m.call(this)},set:function(E){o=""+E,y.call(this,E)}}),Object.defineProperty(r,s,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function lt(r){if(!r._valueTracker){var s=ls(r)?"checked":"value";r._valueTracker=Vl(r,s,""+r[s])}}function ca(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return r&&(c=ls(r)?r.checked?"true":"false":r.value),r=c,r!==o?(s.setValue(r),!0):!1}function ii(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var ua=/[\n"\\]/g;function jn(r){return r.replace(ua,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function lo(r,s,o,c,m,y,E,x){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),s!=null?E==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+on(s)):r.value!==""+on(s)&&(r.value=""+on(s)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),s!=null?Ul(r,E,on(s)):o!=null?Ul(r,E,on(o)):c!=null&&r.removeAttribute("value"),m==null&&y!=null&&(r.defaultChecked=!!y),m!=null&&(r.checked=m&&typeof m!="function"&&typeof m!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?r.name=""+on(x):r.removeAttribute("name")}function Cu(r,s,o,c,m,y,E,x){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),s!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||s!=null)){lt(r);return}o=o!=null?""+on(o):"",s=s!=null?""+on(s):o,x||s===r.value||(r.value=s),r.defaultValue=s}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=x?r.checked:!!c,r.defaultChecked=!!c,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E),lt(r)}function Ul(r,s,o){s==="number"&&ii(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function cs(r,s,o,c){if(r=r.options,s){s={};for(var m=0;m<o.length;m++)s["$"+o[m]]=!0;for(o=0;o<r.length;o++)m=s.hasOwnProperty("$"+r[o].value),r[o].selected!==m&&(r[o].selected=m),m&&c&&(r[o].defaultSelected=!0)}else{for(o=""+on(o),s=null,m=0;m<r.length;m++){if(r[m].value===o){r[m].selected=!0,c&&(r[m].defaultSelected=!0);return}s!==null||r[m].disabled||(s=r[m])}s!==null&&(s.selected=!0)}}function Iu(r,s,o){if(s!=null&&(s=""+on(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+on(o):""}function us(r,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(i(92));if(Se(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=on(s),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c),lt(r)}function Bn(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var Nu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zl(r,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,o):typeof o!="number"||o===0||Nu.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function jl(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var m in s)c=s[m],s.hasOwnProperty(m)&&o[m]!==c&&zl(r,m,c)}else for(var y in s)s.hasOwnProperty(y)&&zl(r,y,s[y])}function co(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function uo(r){return fs.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Lr(){}var Bl=null;function vr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var hs=null,si=null;function fa(r){var s=yr(r);if(s&&(r=s.stateNode)){var o=r[an]||null;e:switch(r=s.stateNode,s.type){case"input":if(lo(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+jn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==r&&c.form===r.form){var m=c[an]||null;if(!m)throw Error(i(90));lo(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===r.form&&ca(c)}break e;case"textarea":Iu(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&cs(r,!!o.multiple,s,!1)}}}var fo=!1;function ds(r,s,o){if(fo)return r(s,o);fo=!0;try{var c=r(s);return c}finally{if(fo=!1,(hs!==null||si!==null)&&(Af(),hs&&(s=hs,r=si,si=hs=null,fa(s),r)))for(s=0;s<r.length;s++)fa(r[s])}}function Vr(r,s){var o=r.stateNode;if(o===null)return null;var c=o[an]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var _r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ha=!1;if(_r)try{var ht={};Object.defineProperty(ht,"passive",{get:function(){ha=!0}}),window.addEventListener("test",ht,ht),window.removeEventListener("test",ht,ht)}catch{ha=!1}var ai=null,Fl=null,da=null;function ql(){if(da)return da;var r,s=Fl,o=s.length,c,m="value"in ai?ai.value:ai.textContent,y=m.length;for(r=0;r<o&&s[r]===m[r];r++);var E=o-r;for(c=1;c<=E&&s[o-c]===m[y-c];c++);return da=m.slice(r,1<c?1-c:void 0)}function ma(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Ni(){return!0}function Ur(){return!1}function mn(r){function s(o,c,m,y,E){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var x in r)r.hasOwnProperty(x)&&(o=r[x],this[x]=o?o(y):y[x]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ni:Ur,this.isPropagationStopped=Ur,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),s}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oi=mn(Mi),ms=g({},Mi,{view:0,detail:0}),Hl=mn(ms),ps,ho,li,mo=g({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gs,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==li&&(li&&r.type==="mousemove"?(ps=r.screenX-li.screenX,ho=r.screenY-li.screenY):ho=ps=0,li=r),ps)},movementY:function(r){return"movementY"in r?r.movementY:ho}}),Gl=mn(mo),pa=g({},mo,{dataTransfer:0}),Du=mn(pa),Ou=g({},ms,{relatedTarget:0}),ga=mn(Ou),Kl=g({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),ku=mn(Kl),po=g({},Mi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Pu=mn(po),Lu=g({},Mi,{data:0}),ci=mn(Lu),Vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ju(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=zu[r])?!!s[r]:!1}function gs(){return ju}var Ln=g({},ms,{key:function(r){if(r.key){var s=Vu[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=ma(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Uu[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gs,charCode:function(r){return r.type==="keypress"?ma(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ma(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Bu=mn(Ln),Fu=g({},mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Di=mn(Fu),d=g({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gs}),b=mn(d),T=g({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),I=mn(T),Q=g({},mo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),J=mn(Q),de=g({},Mi,{newState:0,oldState:0}),Ue=mn(de),kt=[9,13,27,32],nt=_r&&"CompositionEvent"in window,xt=null;_r&&"documentMode"in document&&(xt=document.documentMode);var br=_r&&"TextEvent"in window&&!xt,ui=_r&&(!nt||xt&&8<xt&&11>=xt),zr=" ",jr=!1;function ya(r,s){switch(r){case"keyup":return kt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function go(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var yo=!1;function FR(r,s){switch(r){case"compositionend":return go(s);case"keypress":return s.which!==32?null:(jr=!0,zr);case"textInput":return r=s.data,r===zr&&jr?null:r;default:return null}}function qR(r,s){if(yo)return r==="compositionend"||!nt&&ya(r,s)?(r=ql(),da=Fl=ai=null,yo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ui&&s.locale!=="ko"?null:s.data;default:return null}}var HR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cv(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!HR[r.type]:s==="textarea"}function Iv(r,s,o,c){hs?si?si.push(c):si=[c]:hs=c,s=Df(s,"onChange"),0<s.length&&(o=new oi("onChange","change",null,o,c),r.push({event:o,listeners:s}))}var Yl=null,$l=null;function GR(r){fb(r,0)}function qu(r){var s=tr(r);if(ca(s))return r}function Nv(r,s){if(r==="change")return s}var Mv=!1;if(_r){var Kd;if(_r){var Yd="oninput"in document;if(!Yd){var Dv=document.createElement("div");Dv.setAttribute("oninput","return;"),Yd=typeof Dv.oninput=="function"}Kd=Yd}else Kd=!1;Mv=Kd&&(!document.documentMode||9<document.documentMode)}function Ov(){Yl&&(Yl.detachEvent("onpropertychange",kv),$l=Yl=null)}function kv(r){if(r.propertyName==="value"&&qu($l)){var s=[];Iv(s,$l,r,vr(r)),ds(GR,s)}}function KR(r,s,o){r==="focusin"?(Ov(),Yl=s,$l=o,Yl.attachEvent("onpropertychange",kv)):r==="focusout"&&Ov()}function YR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return qu($l)}function $R(r,s){if(r==="click")return qu(s)}function QR(r,s){if(r==="input"||r==="change")return qu(s)}function XR(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var rr=typeof Object.is=="function"?Object.is:XR;function Ql(r,s){if(rr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!Fe.call(s,m)||!rr(r[m],s[m]))return!1}return!0}function Pv(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Lv(r,s){var o=Pv(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=s&&c>=s)return{node:o,offset:s-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Pv(o)}}function Vv(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Vv(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Uv(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=ii(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=ii(r.document)}return s}function $d(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var WR=_r&&"documentMode"in document&&11>=document.documentMode,vo=null,Qd=null,Xl=null,Xd=!1;function zv(r,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Xd||vo==null||vo!==ii(c)||(c=vo,"selectionStart"in c&&$d(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Xl&&Ql(Xl,c)||(Xl=c,c=Df(Qd,"onSelect"),0<c.length&&(s=new oi("onSelect","select",null,s,o),r.push({event:s,listeners:c}),s.target=vo)))}function va(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var _o={animationend:va("Animation","AnimationEnd"),animationiteration:va("Animation","AnimationIteration"),animationstart:va("Animation","AnimationStart"),transitionrun:va("Transition","TransitionRun"),transitionstart:va("Transition","TransitionStart"),transitioncancel:va("Transition","TransitionCancel"),transitionend:va("Transition","TransitionEnd")},Wd={},jv={};_r&&(jv=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function _a(r){if(Wd[r])return Wd[r];if(!_o[r])return r;var s=_o[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in jv)return Wd[r]=s[o];return r}var Bv=_a("animationend"),Fv=_a("animationiteration"),qv=_a("animationstart"),ZR=_a("transitionrun"),JR=_a("transitionstart"),ex=_a("transitioncancel"),Hv=_a("transitionend"),Gv=new Map,Zd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zd.push("scrollEnd");function Br(r,s){Gv.set(r,s),ni(s,[r])}var Hu=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Er=[],bo=0,Jd=0;function Gu(){for(var r=bo,s=Jd=bo=0;s<r;){var o=Er[s];Er[s++]=null;var c=Er[s];Er[s++]=null;var m=Er[s];Er[s++]=null;var y=Er[s];if(Er[s++]=null,c!==null&&m!==null){var E=c.pending;E===null?m.next=m:(m.next=E.next,E.next=m),c.pending=m}y!==0&&Kv(o,m,y)}}function Ku(r,s,o,c){Er[bo++]=r,Er[bo++]=s,Er[bo++]=o,Er[bo++]=c,Jd|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function em(r,s,o,c){return Ku(r,s,o,c),Yu(r)}function ba(r,s){return Ku(r,null,null,s),Yu(r)}function Kv(r,s,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var m=!1,y=r.return;y!==null;)y.childLanes|=o,c=y.alternate,c!==null&&(c.childLanes|=o),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(m=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,m&&s!==null&&(m=31-_t(o),r=y.hiddenUpdates,c=r[m],c===null?r[m]=[s]:c.push(s),s.lane=o|536870912),y):null}function Yu(r){if(50<vc)throw vc=0,cp=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Eo={};function tx(r,s,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(r,s,o,c){return new tx(r,s,o,c)}function tm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Oi(r,s){var o=r.alternate;return o===null?(o=ir(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Yv(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function $u(r,s,o,c,m,y){var E=0;if(c=r,typeof r=="function")tm(r)&&(E=1);else if(typeof r=="string")E=aC(r,o,ce.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case C:return r=ir(31,o,s,m),r.elementType=C,r.lanes=y,r;case M:return Ea(o.children,m,y,s);case k:E=8,m|=24;break;case V:return r=ir(12,o,s,m|2),r.elementType=V,r.lanes=y,r;case $:return r=ir(13,o,s,m),r.elementType=$,r.lanes=y,r;case q:return r=ir(19,o,s,m),r.elementType=q,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case G:E=10;break e;case H:E=9;break e;case Y:E=11;break e;case A:E=14;break e;case w:E=16,c=null;break e}E=29,o=Error(i(130,r===null?"null":typeof r,"")),c=null}return s=ir(E,o,s,m),s.elementType=r,s.type=c,s.lanes=y,s}function Ea(r,s,o,c){return r=ir(7,r,c,s),r.lanes=o,r}function nm(r,s,o){return r=ir(6,r,null,s),r.lanes=o,r}function $v(r){var s=ir(18,null,null,0);return s.stateNode=r,s}function rm(r,s,o){return s=ir(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Qv=new WeakMap;function Sr(r,s){if(typeof r=="object"&&r!==null){var o=Qv.get(r);return o!==void 0?o:(s={value:r,source:s,stack:Un(s)},Qv.set(r,s),s)}return{value:r,source:s,stack:Un(s)}}var So=[],To=0,Qu=null,Wl=0,Tr=[],wr=0,ys=null,fi=1,hi="";function ki(r,s){So[To++]=Wl,So[To++]=Qu,Qu=r,Wl=s}function Xv(r,s,o){Tr[wr++]=fi,Tr[wr++]=hi,Tr[wr++]=ys,ys=r;var c=fi;r=hi;var m=32-_t(c)-1;c&=~(1<<m),o+=1;var y=32-_t(s)+m;if(30<y){var E=m-m%5;y=(c&(1<<E)-1).toString(32),c>>=E,m-=E,fi=1<<32-_t(s)+m|o<<m|c,hi=y+r}else fi=1<<y|o<<m|c,hi=r}function im(r){r.return!==null&&(ki(r,1),Xv(r,1,0))}function sm(r){for(;r===Qu;)Qu=So[--To],So[To]=null,Wl=So[--To],So[To]=null;for(;r===ys;)ys=Tr[--wr],Tr[wr]=null,hi=Tr[--wr],Tr[wr]=null,fi=Tr[--wr],Tr[wr]=null}function Wv(r,s){Tr[wr++]=fi,Tr[wr++]=hi,Tr[wr++]=ys,fi=s.id,hi=s.overflow,ys=r}var pn=null,wt=null,We=!1,vs=null,Ar=!1,am=Error(i(519));function _s(r){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zl(Sr(s,r)),am}function Zv(r){var s=r.stateNode,o=r.type,c=r.memoizedProps;switch(s[jt]=r,s[an]=c,o){case"dialog":Ge("cancel",s),Ge("close",s);break;case"iframe":case"object":case"embed":Ge("load",s);break;case"video":case"audio":for(o=0;o<bc.length;o++)Ge(bc[o],s);break;case"source":Ge("error",s);break;case"img":case"image":case"link":Ge("error",s),Ge("load",s);break;case"details":Ge("toggle",s);break;case"input":Ge("invalid",s),Cu(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ge("invalid",s);break;case"textarea":Ge("invalid",s),us(s,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||pb(s.textContent,o)?(c.popover!=null&&(Ge("beforetoggle",s),Ge("toggle",s)),c.onScroll!=null&&Ge("scroll",s),c.onScrollEnd!=null&&Ge("scrollend",s),c.onClick!=null&&(s.onclick=Lr),s=!0):s=!1,s||_s(r,!0)}function Jv(r){for(pn=r.return;pn;)switch(pn.tag){case 5:case 31:case 13:Ar=!1;return;case 27:case 3:Ar=!0;return;default:pn=pn.return}}function wo(r){if(r!==pn)return!1;if(!We)return Jv(r),We=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||wp(r.type,r.memoizedProps)),o=!o),o&&wt&&_s(r),Jv(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));wt=wb(r)}else if(s===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));wt=wb(r)}else s===27?(s=wt,Os(r.type)?(r=Ip,Ip=null,wt=r):wt=s):wt=pn?xr(r.stateNode.nextSibling):null;return!0}function Sa(){wt=pn=null,We=!1}function om(){var r=vs;return r!==null&&(Gn===null?Gn=r:Gn.push.apply(Gn,r),vs=null),r}function Zl(r){vs===null?vs=[r]:vs.push(r)}var lm=j(null),Ta=null,Pi=null;function bs(r,s,o){te(lm,s._currentValue),s._currentValue=o}function Li(r){r._currentValue=lm.current,ne(lm)}function cm(r,s,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===o)break;r=r.return}}function um(r,s,o,c){var m=r.child;for(m!==null&&(m.return=r);m!==null;){var y=m.dependencies;if(y!==null){var E=m.child;y=y.firstContext;e:for(;y!==null;){var x=y;y=m;for(var z=0;z<s.length;z++)if(x.context===s[z]){y.lanes|=o,x=y.alternate,x!==null&&(x.lanes|=o),cm(y.return,o,r),c||(E=null);break e}y=x.next}}else if(m.tag===18){if(E=m.return,E===null)throw Error(i(341));E.lanes|=o,y=E.alternate,y!==null&&(y.lanes|=o),cm(E,o,r),E=null}else E=m.child;if(E!==null)E.return=m;else for(E=m;E!==null;){if(E===r){E=null;break}if(m=E.sibling,m!==null){m.return=E.return,E=m;break}E=E.return}m=E}}function Ao(r,s,o,c){r=null;for(var m=s,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var E=m.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var x=m.type;rr(m.pendingProps.value,E.value)||(r!==null?r.push(x):r=[x])}}else if(m===me.current){if(E=m.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(r!==null?r.push(Ac):r=[Ac])}m=m.return}r!==null&&um(s,r,o,c),s.flags|=262144}function Xu(r){for(r=r.firstContext;r!==null;){if(!rr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function wa(r){Ta=r,Pi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function gn(r){return e_(Ta,r)}function Wu(r,s){return Ta===null&&wa(r),e_(r,s)}function e_(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Pi===null){if(r===null)throw Error(i(308));Pi=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Pi=Pi.next=s;return o}var nx=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},rx=n.unstable_scheduleCallback,ix=n.unstable_NormalPriority,qt={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fm(){return{controller:new nx,data:new Map,refCount:0}}function Jl(r){r.refCount--,r.refCount===0&&rx(ix,function(){r.controller.abort()})}var ec=null,hm=0,Ro=0,xo=null;function sx(r,s){if(ec===null){var o=ec=[];hm=0,Ro=pp(),xo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return hm++,s.then(t_,t_),s}function t_(){if(--hm===0&&ec!==null){xo!==null&&(xo.status="fulfilled");var r=ec;ec=null,Ro=0,xo=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function ax(r,s){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var m=0;m<o.length;m++)(0,o[m])(s)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var n_=F.S;F.S=function(r,s){z0=je(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&sx(r,s),n_!==null&&n_(r,s)};var Aa=j(null);function dm(){var r=Aa.current;return r!==null?r:yt.pooledCache}function Zu(r,s){s===null?te(Aa,Aa.current):te(Aa,s.pool)}function r_(){var r=dm();return r===null?null:{parent:qt._currentValue,pool:r}}var Co=Error(i(460)),mm=Error(i(474)),Ju=Error(i(542)),ef={then:function(){}};function i_(r){return r=r.status,r==="fulfilled"||r==="rejected"}function s_(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(Lr,Lr),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,o_(r),r;default:if(typeof s.status=="string")s.then(Lr,Lr);else{if(r=yt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=c}},function(c){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,o_(r),r}throw xa=s,Co}}function Ra(r){try{var s=r._init;return s(r._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(xa=o,Co):o}}var xa=null;function a_(){if(xa===null)throw Error(i(459));var r=xa;return xa=null,r}function o_(r){if(r===Co||r===Ju)throw Error(i(483))}var Io=null,tc=0;function tf(r){var s=tc;return tc+=1,Io===null&&(Io=[]),s_(Io,r,s)}function nc(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function nf(r,s){throw s.$$typeof===_?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function l_(r){function s(K,B){if(r){var X=K.deletions;X===null?(K.deletions=[B],K.flags|=16):X.push(B)}}function o(K,B){if(!r)return null;for(;B!==null;)s(K,B),B=B.sibling;return null}function c(K){for(var B=new Map;K!==null;)K.key!==null?B.set(K.key,K):B.set(K.index,K),K=K.sibling;return B}function m(K,B){return K=Oi(K,B),K.index=0,K.sibling=null,K}function y(K,B,X){return K.index=X,r?(X=K.alternate,X!==null?(X=X.index,X<B?(K.flags|=67108866,B):X):(K.flags|=67108866,B)):(K.flags|=1048576,B)}function E(K){return r&&K.alternate===null&&(K.flags|=67108866),K}function x(K,B,X,ae){return B===null||B.tag!==6?(B=nm(X,K.mode,ae),B.return=K,B):(B=m(B,X),B.return=K,B)}function z(K,B,X,ae){var Re=X.type;return Re===M?se(K,B,X.props.children,ae,X.key):B!==null&&(B.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===w&&Ra(Re)===B.type)?(B=m(B,X.props),nc(B,X),B.return=K,B):(B=$u(X.type,X.key,X.props,null,K.mode,ae),nc(B,X),B.return=K,B)}function W(K,B,X,ae){return B===null||B.tag!==4||B.stateNode.containerInfo!==X.containerInfo||B.stateNode.implementation!==X.implementation?(B=rm(X,K.mode,ae),B.return=K,B):(B=m(B,X.children||[]),B.return=K,B)}function se(K,B,X,ae,Re){return B===null||B.tag!==7?(B=Ea(X,K.mode,ae,Re),B.return=K,B):(B=m(B,X),B.return=K,B)}function le(K,B,X){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=nm(""+B,K.mode,X),B.return=K,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return X=$u(B.type,B.key,B.props,null,K.mode,X),nc(X,B),X.return=K,X;case R:return B=rm(B,K.mode,X),B.return=K,B;case w:return B=Ra(B),le(K,B,X)}if(Se(B)||U(B))return B=Ea(B,K.mode,X,null),B.return=K,B;if(typeof B.then=="function")return le(K,tf(B),X);if(B.$$typeof===G)return le(K,Wu(K,B),X);nf(K,B)}return null}function Z(K,B,X,ae){var Re=B!==null?B.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Re!==null?null:x(K,B,""+X,ae);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case S:return X.key===Re?z(K,B,X,ae):null;case R:return X.key===Re?W(K,B,X,ae):null;case w:return X=Ra(X),Z(K,B,X,ae)}if(Se(X)||U(X))return Re!==null?null:se(K,B,X,ae,null);if(typeof X.then=="function")return Z(K,B,tf(X),ae);if(X.$$typeof===G)return Z(K,B,Wu(K,X),ae);nf(K,X)}return null}function ee(K,B,X,ae,Re){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return K=K.get(X)||null,x(B,K,""+ae,Re);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case S:return K=K.get(ae.key===null?X:ae.key)||null,z(B,K,ae,Re);case R:return K=K.get(ae.key===null?X:ae.key)||null,W(B,K,ae,Re);case w:return ae=Ra(ae),ee(K,B,X,ae,Re)}if(Se(ae)||U(ae))return K=K.get(X)||null,se(B,K,ae,Re,null);if(typeof ae.then=="function")return ee(K,B,X,tf(ae),Re);if(ae.$$typeof===G)return ee(K,B,X,Wu(B,ae),Re);nf(B,ae)}return null}function _e(K,B,X,ae){for(var Re=null,et=null,Te=B,Be=B=0,Ye=null;Te!==null&&Be<X.length;Be++){Te.index>Be?(Ye=Te,Te=null):Ye=Te.sibling;var tt=Z(K,Te,X[Be],ae);if(tt===null){Te===null&&(Te=Ye);break}r&&Te&&tt.alternate===null&&s(K,Te),B=y(tt,B,Be),et===null?Re=tt:et.sibling=tt,et=tt,Te=Ye}if(Be===X.length)return o(K,Te),We&&ki(K,Be),Re;if(Te===null){for(;Be<X.length;Be++)Te=le(K,X[Be],ae),Te!==null&&(B=y(Te,B,Be),et===null?Re=Te:et.sibling=Te,et=Te);return We&&ki(K,Be),Re}for(Te=c(Te);Be<X.length;Be++)Ye=ee(Te,K,Be,X[Be],ae),Ye!==null&&(r&&Ye.alternate!==null&&Te.delete(Ye.key===null?Be:Ye.key),B=y(Ye,B,Be),et===null?Re=Ye:et.sibling=Ye,et=Ye);return r&&Te.forEach(function(Us){return s(K,Us)}),We&&ki(K,Be),Re}function Me(K,B,X,ae){if(X==null)throw Error(i(151));for(var Re=null,et=null,Te=B,Be=B=0,Ye=null,tt=X.next();Te!==null&&!tt.done;Be++,tt=X.next()){Te.index>Be?(Ye=Te,Te=null):Ye=Te.sibling;var Us=Z(K,Te,tt.value,ae);if(Us===null){Te===null&&(Te=Ye);break}r&&Te&&Us.alternate===null&&s(K,Te),B=y(Us,B,Be),et===null?Re=Us:et.sibling=Us,et=Us,Te=Ye}if(tt.done)return o(K,Te),We&&ki(K,Be),Re;if(Te===null){for(;!tt.done;Be++,tt=X.next())tt=le(K,tt.value,ae),tt!==null&&(B=y(tt,B,Be),et===null?Re=tt:et.sibling=tt,et=tt);return We&&ki(K,Be),Re}for(Te=c(Te);!tt.done;Be++,tt=X.next())tt=ee(Te,K,Be,tt.value,ae),tt!==null&&(r&&tt.alternate!==null&&Te.delete(tt.key===null?Be:tt.key),B=y(tt,B,Be),et===null?Re=tt:et.sibling=tt,et=tt);return r&&Te.forEach(function(yC){return s(K,yC)}),We&&ki(K,Be),Re}function pt(K,B,X,ae){if(typeof X=="object"&&X!==null&&X.type===M&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case S:e:{for(var Re=X.key;B!==null;){if(B.key===Re){if(Re=X.type,Re===M){if(B.tag===7){o(K,B.sibling),ae=m(B,X.props.children),ae.return=K,K=ae;break e}}else if(B.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===w&&Ra(Re)===B.type){o(K,B.sibling),ae=m(B,X.props),nc(ae,X),ae.return=K,K=ae;break e}o(K,B);break}else s(K,B);B=B.sibling}X.type===M?(ae=Ea(X.props.children,K.mode,ae,X.key),ae.return=K,K=ae):(ae=$u(X.type,X.key,X.props,null,K.mode,ae),nc(ae,X),ae.return=K,K=ae)}return E(K);case R:e:{for(Re=X.key;B!==null;){if(B.key===Re)if(B.tag===4&&B.stateNode.containerInfo===X.containerInfo&&B.stateNode.implementation===X.implementation){o(K,B.sibling),ae=m(B,X.children||[]),ae.return=K,K=ae;break e}else{o(K,B);break}else s(K,B);B=B.sibling}ae=rm(X,K.mode,ae),ae.return=K,K=ae}return E(K);case w:return X=Ra(X),pt(K,B,X,ae)}if(Se(X))return _e(K,B,X,ae);if(U(X)){if(Re=U(X),typeof Re!="function")throw Error(i(150));return X=Re.call(X),Me(K,B,X,ae)}if(typeof X.then=="function")return pt(K,B,tf(X),ae);if(X.$$typeof===G)return pt(K,B,Wu(K,X),ae);nf(K,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,B!==null&&B.tag===6?(o(K,B.sibling),ae=m(B,X),ae.return=K,K=ae):(o(K,B),ae=nm(X,K.mode,ae),ae.return=K,K=ae),E(K)):o(K,B)}return function(K,B,X,ae){try{tc=0;var Re=pt(K,B,X,ae);return Io=null,Re}catch(Te){if(Te===Co||Te===Ju)throw Te;var et=ir(29,Te,null,K.mode);return et.lanes=ae,et.return=K,et}finally{}}}var Ca=l_(!0),c_=l_(!1),Es=!1;function pm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ss(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ts(r,s,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(rt&2)!==0){var m=c.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),c.pending=s,s=Yu(r),Kv(r,null,o),s}return Ku(r,c,s,o),Yu(r)}function rc(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,fn(r,o)}}function ym(r,s){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?m=y=E:y=y.next=E,o=o.next}while(o!==null);y===null?m=y=s:y=y.next=s}else m=y=s;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var vm=!1;function ic(){if(vm){var r=xo;if(r!==null)throw r}}function sc(r,s,o,c){vm=!1;var m=r.updateQueue;Es=!1;var y=m.firstBaseUpdate,E=m.lastBaseUpdate,x=m.shared.pending;if(x!==null){m.shared.pending=null;var z=x,W=z.next;z.next=null,E===null?y=W:E.next=W,E=z;var se=r.alternate;se!==null&&(se=se.updateQueue,x=se.lastBaseUpdate,x!==E&&(x===null?se.firstBaseUpdate=W:x.next=W,se.lastBaseUpdate=z))}if(y!==null){var le=m.baseState;E=0,se=W=z=null,x=y;do{var Z=x.lane&-536870913,ee=Z!==x.lane;if(ee?(Ke&Z)===Z:(c&Z)===Z){Z!==0&&Z===Ro&&(vm=!0),se!==null&&(se=se.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var _e=r,Me=x;Z=s;var pt=o;switch(Me.tag){case 1:if(_e=Me.payload,typeof _e=="function"){le=_e.call(pt,le,Z);break e}le=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Me.payload,Z=typeof _e=="function"?_e.call(pt,le,Z):_e,Z==null)break e;le=g({},le,Z);break e;case 2:Es=!0}}Z=x.callback,Z!==null&&(r.flags|=64,ee&&(r.flags|=8192),ee=m.callbacks,ee===null?m.callbacks=[Z]:ee.push(Z))}else ee={lane:Z,tag:x.tag,payload:x.payload,callback:x.callback,next:null},se===null?(W=se=ee,z=le):se=se.next=ee,E|=Z;if(x=x.next,x===null){if(x=m.shared.pending,x===null)break;ee=x,x=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);se===null&&(z=le),m.baseState=z,m.firstBaseUpdate=W,m.lastBaseUpdate=se,y===null&&(m.shared.lanes=0),Cs|=E,r.lanes=E,r.memoizedState=le}}function u_(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function f_(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)u_(o[r],s)}var No=j(null),rf=j(0);function h_(r,s){r=Gi,te(rf,r),te(No,s),Gi=r|s.baseLanes}function _m(){te(rf,Gi),te(No,No.current)}function bm(){Gi=rf.current,ne(No),ne(rf)}var sr=j(null),Rr=null;function ws(r){var s=r.alternate;te(Pt,Pt.current&1),te(sr,r),Rr===null&&(s===null||No.current!==null||s.memoizedState!==null)&&(Rr=r)}function Em(r){te(Pt,Pt.current),te(sr,r),Rr===null&&(Rr=r)}function d_(r){r.tag===22?(te(Pt,Pt.current),te(sr,r),Rr===null&&(Rr=r)):As()}function As(){te(Pt,Pt.current),te(sr,sr.current)}function ar(r){ne(sr),Rr===r&&(Rr=null),ne(Pt)}var Pt=j(0);function sf(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||xp(o)||Cp(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Vi=0,ze=null,dt=null,Ht=null,af=!1,Mo=!1,Ia=!1,of=0,ac=0,Do=null,ox=0;function Mt(){throw Error(i(321))}function Sm(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!rr(r[o],s[o]))return!1;return!0}function Tm(r,s,o,c,m,y){return Vi=y,ze=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,F.H=r===null||r.memoizedState===null?X_:Um,Ia=!1,y=o(c,m),Ia=!1,Mo&&(y=p_(s,o,c,m)),m_(r),y}function m_(r){F.H=cc;var s=dt!==null&&dt.next!==null;if(Vi=0,Ht=dt=ze=null,af=!1,ac=0,Do=null,s)throw Error(i(300));r===null||Gt||(r=r.dependencies,r!==null&&Xu(r)&&(Gt=!0))}function p_(r,s,o,c){ze=r;var m=0;do{if(Mo&&(Do=null),ac=0,Mo=!1,25<=m)throw Error(i(301));if(m+=1,Ht=dt=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}F.H=W_,y=s(o,c)}while(Mo);return y}function lx(){var r=F.H,s=r.useState()[0];return s=typeof s.then=="function"?oc(s):s,r=r.useState()[0],(dt!==null?dt.memoizedState:null)!==r&&(ze.flags|=1024),s}function wm(){var r=of!==0;return of=0,r}function Am(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function Rm(r){if(af){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}af=!1}Vi=0,Ht=dt=ze=null,Mo=!1,ac=of=0,Do=null}function Vn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?ze.memoizedState=Ht=r:Ht=Ht.next=r,Ht}function Lt(){if(dt===null){var r=ze.alternate;r=r!==null?r.memoizedState:null}else r=dt.next;var s=Ht===null?ze.memoizedState:Ht.next;if(s!==null)Ht=s,dt=r;else{if(r===null)throw ze.alternate===null?Error(i(467)):Error(i(310));dt=r,r={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Ht===null?ze.memoizedState=Ht=r:Ht=Ht.next=r}return Ht}function lf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function oc(r){var s=ac;return ac+=1,Do===null&&(Do=[]),r=s_(Do,r,s),s=ze,(Ht===null?s.memoizedState:Ht.next)===null&&(s=s.alternate,F.H=s===null||s.memoizedState===null?X_:Um),r}function cf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return oc(r);if(r.$$typeof===G)return gn(r)}throw Error(i(438,String(r)))}function xm(r){var s=null,o=ze.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=ze.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=lf(),ze.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),c=0;c<r;c++)o[c]=D;return s.index++,o}function Ui(r,s){return typeof s=="function"?s(r):s}function uf(r){var s=Lt();return Cm(s,dt,r)}function Cm(r,s,o){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var m=r.baseQueue,y=c.pending;if(y!==null){if(m!==null){var E=m.next;m.next=y.next,y.next=E}s.baseQueue=m=y,c.pending=null}if(y=r.baseState,m===null)r.memoizedState=y;else{s=m.next;var x=E=null,z=null,W=s,se=!1;do{var le=W.lane&-536870913;if(le!==W.lane?(Ke&le)===le:(Vi&le)===le){var Z=W.revertLane;if(Z===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),le===Ro&&(se=!0);else if((Vi&Z)===Z){W=W.next,Z===Ro&&(se=!0);continue}else le={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},z===null?(x=z=le,E=y):z=z.next=le,ze.lanes|=Z,Cs|=Z;le=W.action,Ia&&o(y,le),y=W.hasEagerState?W.eagerState:o(y,le)}else Z={lane:le,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},z===null?(x=z=Z,E=y):z=z.next=Z,ze.lanes|=le,Cs|=le;W=W.next}while(W!==null&&W!==s);if(z===null?E=y:z.next=x,!rr(y,r.memoizedState)&&(Gt=!0,se&&(o=xo,o!==null)))throw o;r.memoizedState=y,r.baseState=E,r.baseQueue=z,c.lastRenderedState=y}return m===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Im(r){var s=Lt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var c=o.dispatch,m=o.pending,y=s.memoizedState;if(m!==null){o.pending=null;var E=m=m.next;do y=r(y,E.action),E=E.next;while(E!==m);rr(y,s.memoizedState)||(Gt=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),o.lastRenderedState=y}return[y,c]}function g_(r,s,o){var c=ze,m=Lt(),y=We;if(y){if(o===void 0)throw Error(i(407));o=o()}else o=s();var E=!rr((dt||m).memoizedState,o);if(E&&(m.memoizedState=o,Gt=!0),m=m.queue,Dm(__.bind(null,c,m,r),[r]),m.getSnapshot!==s||E||Ht!==null&&Ht.memoizedState.tag&1){if(c.flags|=2048,Oo(9,{destroy:void 0},v_.bind(null,c,m,o,s),null),yt===null)throw Error(i(349));y||(Vi&127)!==0||y_(c,s,o)}return o}function y_(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=ze.updateQueue,s===null?(s=lf(),ze.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function v_(r,s,o,c){s.value=o,s.getSnapshot=c,b_(s)&&E_(r)}function __(r,s,o){return o(function(){b_(s)&&E_(r)})}function b_(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!rr(r,o)}catch{return!0}}function E_(r){var s=ba(r,2);s!==null&&Kn(s,r,2)}function Nm(r){var s=Vn();if(typeof r=="function"){var o=r;if(r=o(),Ia){rn(!0);try{o()}finally{rn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:r},s}function S_(r,s,o,c){return r.baseState=o,Cm(r,dt,typeof c=="function"?c:Ui)}function cx(r,s,o,c,m){if(df(r))throw Error(i(485));if(r=s.action,r!==null){var y={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};F.T!==null?o(!0):y.isTransition=!1,c(y),o=s.pending,o===null?(y.next=s.pending=y,T_(s,y)):(y.next=o.next,s.pending=o.next=y)}}function T_(r,s){var o=s.action,c=s.payload,m=r.state;if(s.isTransition){var y=F.T,E={};F.T=E;try{var x=o(m,c),z=F.S;z!==null&&z(E,x),w_(r,s,x)}catch(W){Mm(r,s,W)}finally{y!==null&&E.types!==null&&(y.types=E.types),F.T=y}}else try{y=o(m,c),w_(r,s,y)}catch(W){Mm(r,s,W)}}function w_(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){A_(r,s,c)},function(c){return Mm(r,s,c)}):A_(r,s,o)}function A_(r,s,o){s.status="fulfilled",s.value=o,R_(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,T_(r,o)))}function Mm(r,s,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,R_(s),s=s.next;while(s!==c)}r.action=null}function R_(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function x_(r,s){return s}function C_(r,s){if(We){var o=yt.formState;if(o!==null){e:{var c=ze;if(We){if(wt){t:{for(var m=wt,y=Ar;m.nodeType!==8;){if(!y){m=null;break t}if(m=xr(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){wt=xr(m.nextSibling),c=m.data==="F!";break e}}_s(c)}c=!1}c&&(s=o[0])}}return o=Vn(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:x_,lastRenderedState:s},o.queue=c,o=Y_.bind(null,ze,c),c.dispatch=o,c=Nm(!1),y=Vm.bind(null,ze,!1,c.queue),c=Vn(),m={state:s,dispatch:null,action:r,pending:null},c.queue=m,o=cx.bind(null,ze,m,y,o),m.dispatch=o,c.memoizedState=r,[s,o,!1]}function I_(r){var s=Lt();return N_(s,dt,r)}function N_(r,s,o){if(s=Cm(r,s,x_)[0],r=uf(Ui)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=oc(s)}catch(E){throw E===Co?Ju:E}else c=s;s=Lt();var m=s.queue,y=m.dispatch;return o!==s.memoizedState&&(ze.flags|=2048,Oo(9,{destroy:void 0},ux.bind(null,m,o),null)),[c,y,r]}function ux(r,s){r.action=s}function M_(r){var s=Lt(),o=dt;if(o!==null)return N_(s,o,r);Lt(),s=s.memoizedState,o=Lt();var c=o.queue.dispatch;return o.memoizedState=r,[s,c,!1]}function Oo(r,s,o,c){return r={tag:r,create:o,deps:c,inst:s,next:null},s=ze.updateQueue,s===null&&(s=lf(),ze.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,s.lastEffect=r),r}function D_(){return Lt().memoizedState}function ff(r,s,o,c){var m=Vn();ze.flags|=r,m.memoizedState=Oo(1|s,{destroy:void 0},o,c===void 0?null:c)}function hf(r,s,o,c){var m=Lt();c=c===void 0?null:c;var y=m.memoizedState.inst;dt!==null&&c!==null&&Sm(c,dt.memoizedState.deps)?m.memoizedState=Oo(s,y,o,c):(ze.flags|=r,m.memoizedState=Oo(1|s,y,o,c))}function O_(r,s){ff(8390656,8,r,s)}function Dm(r,s){hf(2048,8,r,s)}function fx(r){ze.flags|=4;var s=ze.updateQueue;if(s===null)s=lf(),ze.updateQueue=s,s.events=[r];else{var o=s.events;o===null?s.events=[r]:o.push(r)}}function k_(r){var s=Lt().memoizedState;return fx({ref:s,nextImpl:r}),function(){if((rt&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function P_(r,s){return hf(4,2,r,s)}function L_(r,s){return hf(4,4,r,s)}function V_(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function U_(r,s,o){o=o!=null?o.concat([r]):null,hf(4,4,V_.bind(null,s,r),o)}function Om(){}function z_(r,s){var o=Lt();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&Sm(s,c[1])?c[0]:(o.memoizedState=[r,s],r)}function j_(r,s){var o=Lt();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&Sm(s,c[1]))return c[0];if(c=r(),Ia){rn(!0);try{r()}finally{rn(!1)}}return o.memoizedState=[c,s],c}function km(r,s,o){return o===void 0||(Vi&1073741824)!==0&&(Ke&261930)===0?r.memoizedState=s:(r.memoizedState=o,r=B0(),ze.lanes|=r,Cs|=r,o)}function B_(r,s,o,c){return rr(o,s)?o:No.current!==null?(r=km(r,o,c),rr(r,s)||(Gt=!0),r):(Vi&42)===0||(Vi&1073741824)!==0&&(Ke&261930)===0?(Gt=!0,r.memoizedState=o):(r=B0(),ze.lanes|=r,Cs|=r,s)}function F_(r,s,o,c,m){var y=ie.p;ie.p=y!==0&&8>y?y:8;var E=F.T,x={};F.T=x,Vm(r,!1,s,o);try{var z=m(),W=F.S;if(W!==null&&W(x,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var se=ax(z,c);lc(r,s,se,cr(r))}else lc(r,s,c,cr(r))}catch(le){lc(r,s,{then:function(){},status:"rejected",reason:le},cr())}finally{ie.p=y,E!==null&&x.types!==null&&(E.types=x.types),F.T=E}}function hx(){}function Pm(r,s,o,c){if(r.tag!==5)throw Error(i(476));var m=q_(r).queue;F_(r,m,s,re,o===null?hx:function(){return H_(r),o(c)})}function q_(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:re},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function H_(r){var s=q_(r);s.next===null&&(s=r.alternate.memoizedState),lc(r,s.next.queue,{},cr())}function Lm(){return gn(Ac)}function G_(){return Lt().memoizedState}function K_(){return Lt().memoizedState}function dx(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=cr();r=Ss(o);var c=Ts(s,r,o);c!==null&&(Kn(c,s,o),rc(c,s,o)),s={cache:fm()},r.payload=s;return}s=s.return}}function mx(r,s,o){var c=cr();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},df(r)?$_(s,o):(o=em(r,s,o,c),o!==null&&(Kn(o,r,c),Q_(o,s,c)))}function Y_(r,s,o){var c=cr();lc(r,s,o,c)}function lc(r,s,o,c){var m={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(df(r))$_(s,m);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var E=s.lastRenderedState,x=y(E,o);if(m.hasEagerState=!0,m.eagerState=x,rr(x,E))return Ku(r,s,m,0),yt===null&&Gu(),!1}catch{}finally{}if(o=em(r,s,m,c),o!==null)return Kn(o,r,c),Q_(o,s,c),!0}return!1}function Vm(r,s,o,c){if(c={lane:2,revertLane:pp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},df(r)){if(s)throw Error(i(479))}else s=em(r,o,c,2),s!==null&&Kn(s,r,2)}function df(r){var s=r.alternate;return r===ze||s!==null&&s===ze}function $_(r,s){Mo=af=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function Q_(r,s,o){if((o&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,fn(r,o)}}var cc={readContext:gn,use:cf,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useLayoutEffect:Mt,useInsertionEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useSyncExternalStore:Mt,useId:Mt,useHostTransitionStatus:Mt,useFormState:Mt,useActionState:Mt,useOptimistic:Mt,useMemoCache:Mt,useCacheRefresh:Mt};cc.useEffectEvent=Mt;var X_={readContext:gn,use:cf,useCallback:function(r,s){return Vn().memoizedState=[r,s===void 0?null:s],r},useContext:gn,useEffect:O_,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,ff(4194308,4,V_.bind(null,s,r),o)},useLayoutEffect:function(r,s){return ff(4194308,4,r,s)},useInsertionEffect:function(r,s){ff(4,2,r,s)},useMemo:function(r,s){var o=Vn();s=s===void 0?null:s;var c=r();if(Ia){rn(!0);try{r()}finally{rn(!1)}}return o.memoizedState=[c,s],c},useReducer:function(r,s,o){var c=Vn();if(o!==void 0){var m=o(s);if(Ia){rn(!0);try{o(s)}finally{rn(!1)}}}else m=s;return c.memoizedState=c.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},c.queue=r,r=r.dispatch=mx.bind(null,ze,r),[c.memoizedState,r]},useRef:function(r){var s=Vn();return r={current:r},s.memoizedState=r},useState:function(r){r=Nm(r);var s=r.queue,o=Y_.bind(null,ze,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Om,useDeferredValue:function(r,s){var o=Vn();return km(o,r,s)},useTransition:function(){var r=Nm(!1);return r=F_.bind(null,ze,r.queue,!0,!1),Vn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var c=ze,m=Vn();if(We){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),yt===null)throw Error(i(349));(Ke&127)!==0||y_(c,s,o)}m.memoizedState=o;var y={value:o,getSnapshot:s};return m.queue=y,O_(__.bind(null,c,y,r),[r]),c.flags|=2048,Oo(9,{destroy:void 0},v_.bind(null,c,y,o,s),null),o},useId:function(){var r=Vn(),s=yt.identifierPrefix;if(We){var o=hi,c=fi;o=(c&~(1<<32-_t(c)-1)).toString(32)+o,s="_"+s+"R_"+o,o=of++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=ox++,s="_"+s+"r_"+o.toString(32)+"_";return r.memoizedState=s},useHostTransitionStatus:Lm,useFormState:C_,useActionState:C_,useOptimistic:function(r){var s=Vn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Vm.bind(null,ze,!0,o),o.dispatch=s,[r,s]},useMemoCache:xm,useCacheRefresh:function(){return Vn().memoizedState=dx.bind(null,ze)},useEffectEvent:function(r){var s=Vn(),o={impl:r};return s.memoizedState=o,function(){if((rt&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},Um={readContext:gn,use:cf,useCallback:z_,useContext:gn,useEffect:Dm,useImperativeHandle:U_,useInsertionEffect:P_,useLayoutEffect:L_,useMemo:j_,useReducer:uf,useRef:D_,useState:function(){return uf(Ui)},useDebugValue:Om,useDeferredValue:function(r,s){var o=Lt();return B_(o,dt.memoizedState,r,s)},useTransition:function(){var r=uf(Ui)[0],s=Lt().memoizedState;return[typeof r=="boolean"?r:oc(r),s]},useSyncExternalStore:g_,useId:G_,useHostTransitionStatus:Lm,useFormState:I_,useActionState:I_,useOptimistic:function(r,s){var o=Lt();return S_(o,dt,r,s)},useMemoCache:xm,useCacheRefresh:K_};Um.useEffectEvent=k_;var W_={readContext:gn,use:cf,useCallback:z_,useContext:gn,useEffect:Dm,useImperativeHandle:U_,useInsertionEffect:P_,useLayoutEffect:L_,useMemo:j_,useReducer:Im,useRef:D_,useState:function(){return Im(Ui)},useDebugValue:Om,useDeferredValue:function(r,s){var o=Lt();return dt===null?km(o,r,s):B_(o,dt.memoizedState,r,s)},useTransition:function(){var r=Im(Ui)[0],s=Lt().memoizedState;return[typeof r=="boolean"?r:oc(r),s]},useSyncExternalStore:g_,useId:G_,useHostTransitionStatus:Lm,useFormState:M_,useActionState:M_,useOptimistic:function(r,s){var o=Lt();return dt!==null?S_(o,dt,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:xm,useCacheRefresh:K_};W_.useEffectEvent=k_;function zm(r,s,o,c){s=r.memoizedState,o=o(c,s),o=o==null?s:g({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var jm={enqueueSetState:function(r,s,o){r=r._reactInternals;var c=cr(),m=Ss(c);m.payload=s,o!=null&&(m.callback=o),s=Ts(r,m,c),s!==null&&(Kn(s,r,c),rc(s,r,c))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var c=cr(),m=Ss(c);m.tag=1,m.payload=s,o!=null&&(m.callback=o),s=Ts(r,m,c),s!==null&&(Kn(s,r,c),rc(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=cr(),c=Ss(o);c.tag=2,s!=null&&(c.callback=s),s=Ts(r,c,o),s!==null&&(Kn(s,r,o),rc(s,r,o))}};function Z_(r,s,o,c,m,y,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,y,E):s.prototype&&s.prototype.isPureReactComponent?!Ql(o,c)||!Ql(m,y):!0}function J_(r,s,o,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==r&&jm.enqueueReplaceState(s,s.state,null)}function Na(r,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(r=r.defaultProps){o===s&&(o=g({},o));for(var m in r)o[m]===void 0&&(o[m]=r[m])}return o}function e0(r){Hu(r)}function t0(r){console.error(r)}function n0(r){Hu(r)}function mf(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function r0(r,s,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Bm(r,s,o){return o=Ss(o),o.tag=3,o.payload={element:null},o.callback=function(){mf(r,s)},o}function i0(r){return r=Ss(r),r.tag=3,r}function s0(r,s,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var y=c.value;r.payload=function(){return m(y)},r.callback=function(){r0(s,o,c)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){r0(s,o,c),typeof m!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var x=c.stack;this.componentDidCatch(c.value,{componentStack:x!==null?x:""})})}function px(r,s,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&Ao(s,o,m,!0),o=sr.current,o!==null){switch(o.tag){case 31:case 13:return Rr===null?Rf():o.alternate===null&&Dt===0&&(Dt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===ef?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),hp(r,c,m)),!1;case 22:return o.flags|=65536,c===ef?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),hp(r,c,m)),!1}throw Error(i(435,o.tag))}return hp(r,c,m),Rf(),!1}if(We)return s=sr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,c!==am&&(r=Error(i(422),{cause:c}),Zl(Sr(r,o)))):(c!==am&&(s=Error(i(423),{cause:c}),Zl(Sr(s,o))),r=r.current.alternate,r.flags|=65536,m&=-m,r.lanes|=m,c=Sr(c,o),m=Bm(r.stateNode,c,m),ym(r,m),Dt!==4&&(Dt=2)),!1;var y=Error(i(520),{cause:c});if(y=Sr(y,o),yc===null?yc=[y]:yc.push(y),Dt!==4&&(Dt=2),s===null)return!0;c=Sr(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=m&-m,o.lanes|=r,r=Bm(o.stateNode,c,r),ym(o,r),!1;case 1:if(s=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Is===null||!Is.has(y))))return o.flags|=65536,m&=-m,o.lanes|=m,m=i0(m),s0(m,r,o,c),ym(o,m),!1}o=o.return}while(o!==null);return!1}var Fm=Error(i(461)),Gt=!1;function yn(r,s,o,c){s.child=r===null?c_(s,null,o,c):Ca(s,r.child,o,c)}function a0(r,s,o,c,m){o=o.render;var y=s.ref;if("ref"in c){var E={};for(var x in c)x!=="ref"&&(E[x]=c[x])}else E=c;return wa(s),c=Tm(r,s,o,E,y,m),x=wm(),r!==null&&!Gt?(Am(r,s,m),zi(r,s,m)):(We&&x&&im(s),s.flags|=1,yn(r,s,c,m),s.child)}function o0(r,s,o,c,m){if(r===null){var y=o.type;return typeof y=="function"&&!tm(y)&&y.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=y,l0(r,s,y,c,m)):(r=$u(o.type,null,c,s,s.mode,m),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,!Xm(r,m)){var E=y.memoizedProps;if(o=o.compare,o=o!==null?o:Ql,o(E,c)&&r.ref===s.ref)return zi(r,s,m)}return s.flags|=1,r=Oi(y,c),r.ref=s.ref,r.return=s,s.child=r}function l0(r,s,o,c,m){if(r!==null){var y=r.memoizedProps;if(Ql(y,c)&&r.ref===s.ref)if(Gt=!1,s.pendingProps=c=y,Xm(r,m))(r.flags&131072)!==0&&(Gt=!0);else return s.lanes=r.lanes,zi(r,s,m)}return qm(r,s,o,c,m)}function c0(r,s,o,c){var m=c.children,y=r!==null?r.memoizedState:null;if(r===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,r!==null){for(c=s.child=r.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~y}else c=0,s.child=null;return u0(r,s,y,o,c)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Zu(s,y!==null?y.cachePool:null),y!==null?h_(s,y):_m(),d_(s);else return c=s.lanes=536870912,u0(r,s,y!==null?y.baseLanes|o:o,o,c)}else y!==null?(Zu(s,y.cachePool),h_(s,y),As(),s.memoizedState=null):(r!==null&&Zu(s,null),_m(),As());return yn(r,s,m,o),s.child}function uc(r,s){return r!==null&&r.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function u0(r,s,o,c,m){var y=dm();return y=y===null?null:{parent:qt._currentValue,pool:y},s.memoizedState={baseLanes:o,cachePool:y},r!==null&&Zu(s,null),_m(),d_(s),r!==null&&Ao(r,s,c,!0),s.childLanes=m,null}function pf(r,s){return s=yf({mode:s.mode,children:s.children},r.mode),s.ref=r.ref,r.child=s,s.return=r,s}function f0(r,s,o){return Ca(s,r.child,null,o),r=pf(s,s.pendingProps),r.flags|=2,ar(s),s.memoizedState=null,r}function gx(r,s,o){var c=s.pendingProps,m=(s.flags&128)!==0;if(s.flags&=-129,r===null){if(We){if(c.mode==="hidden")return r=pf(s,c),s.lanes=536870912,uc(null,r);if(Em(s),(r=wt)?(r=Tb(r,Ar),r=r!==null&&r.data==="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:ys!==null?{id:fi,overflow:hi}:null,retryLane:536870912,hydrationErrors:null},o=$v(r),o.return=s,s.child=o,pn=s,wt=null)):r=null,r===null)throw _s(s);return s.lanes=536870912,null}return pf(s,c)}var y=r.memoizedState;if(y!==null){var E=y.dehydrated;if(Em(s),m)if(s.flags&256)s.flags&=-257,s=f0(r,s,o);else if(s.memoizedState!==null)s.child=r.child,s.flags|=128,s=null;else throw Error(i(558));else if(Gt||Ao(r,s,o,!1),m=(o&r.childLanes)!==0,Gt||m){if(c=yt,c!==null&&(E=hn(c,o),E!==0&&E!==y.retryLane))throw y.retryLane=E,ba(r,E),Kn(c,r,E),Fm;Rf(),s=f0(r,s,o)}else r=y.treeContext,wt=xr(E.nextSibling),pn=s,We=!0,vs=null,Ar=!1,r!==null&&Wv(s,r),s=pf(s,c),s.flags|=4096;return s}return r=Oi(r.child,{mode:c.mode,children:c.children}),r.ref=s.ref,s.child=r,r.return=s,r}function gf(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function qm(r,s,o,c,m){return wa(s),o=Tm(r,s,o,c,void 0,m),c=wm(),r!==null&&!Gt?(Am(r,s,m),zi(r,s,m)):(We&&c&&im(s),s.flags|=1,yn(r,s,o,m),s.child)}function h0(r,s,o,c,m,y){return wa(s),s.updateQueue=null,o=p_(s,c,o,m),m_(r),c=wm(),r!==null&&!Gt?(Am(r,s,y),zi(r,s,y)):(We&&c&&im(s),s.flags|=1,yn(r,s,o,y),s.child)}function d0(r,s,o,c,m){if(wa(s),s.stateNode===null){var y=Eo,E=o.contextType;typeof E=="object"&&E!==null&&(y=gn(E)),y=new o(c,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=jm,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=c,y.state=s.memoizedState,y.refs={},pm(s),E=o.contextType,y.context=typeof E=="object"&&E!==null?gn(E):Eo,y.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(zm(s,o,E,c),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&jm.enqueueReplaceState(y,y.state,null),sc(s,c,y,m),ic(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){y=s.stateNode;var x=s.memoizedProps,z=Na(o,x);y.props=z;var W=y.context,se=o.contextType;E=Eo,typeof se=="object"&&se!==null&&(E=gn(se));var le=o.getDerivedStateFromProps;se=typeof le=="function"||typeof y.getSnapshotBeforeUpdate=="function",x=s.pendingProps!==x,se||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x||W!==E)&&J_(s,y,c,E),Es=!1;var Z=s.memoizedState;y.state=Z,sc(s,c,y,m),ic(),W=s.memoizedState,x||Z!==W||Es?(typeof le=="function"&&(zm(s,o,le,c),W=s.memoizedState),(z=Es||Z_(s,o,z,c,Z,W,E))?(se||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=W),y.props=c,y.state=W,y.context=E,c=z):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{y=s.stateNode,gm(r,s),E=s.memoizedProps,se=Na(o,E),y.props=se,le=s.pendingProps,Z=y.context,W=o.contextType,z=Eo,typeof W=="object"&&W!==null&&(z=gn(W)),x=o.getDerivedStateFromProps,(W=typeof x=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==le||Z!==z)&&J_(s,y,c,z),Es=!1,Z=s.memoizedState,y.state=Z,sc(s,c,y,m),ic();var ee=s.memoizedState;E!==le||Z!==ee||Es||r!==null&&r.dependencies!==null&&Xu(r.dependencies)?(typeof x=="function"&&(zm(s,o,x,c),ee=s.memoizedState),(se=Es||Z_(s,o,se,c,Z,ee,z)||r!==null&&r.dependencies!==null&&Xu(r.dependencies))?(W||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,ee,z),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,ee,z)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ee),y.props=c,y.state=ee,y.context=z,c=se):(typeof y.componentDidUpdate!="function"||E===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),c=!1)}return y=c,gf(r,s),c=(s.flags&128)!==0,y||c?(y=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,r!==null&&c?(s.child=Ca(s,r.child,null,m),s.child=Ca(s,null,o,m)):yn(r,s,o,m),s.memoizedState=y.state,r=s.child):r=zi(r,s,m),r}function m0(r,s,o,c){return Sa(),s.flags|=256,yn(r,s,o,c),s.child}var Hm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gm(r){return{baseLanes:r,cachePool:r_()}}function Km(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=lr),r}function p0(r,s,o){var c=s.pendingProps,m=!1,y=(s.flags&128)!==0,E;if((E=y)||(E=r!==null&&r.memoizedState===null?!1:(Pt.current&2)!==0),E&&(m=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,r===null){if(We){if(m?ws(s):As(),(r=wt)?(r=Tb(r,Ar),r=r!==null&&r.data!=="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:ys!==null?{id:fi,overflow:hi}:null,retryLane:536870912,hydrationErrors:null},o=$v(r),o.return=s,s.child=o,pn=s,wt=null)):r=null,r===null)throw _s(s);return Cp(r)?s.lanes=32:s.lanes=536870912,null}var x=c.children;return c=c.fallback,m?(As(),m=s.mode,x=yf({mode:"hidden",children:x},m),c=Ea(c,m,o,null),x.return=s,c.return=s,x.sibling=c,s.child=x,c=s.child,c.memoizedState=Gm(o),c.childLanes=Km(r,E,o),s.memoizedState=Hm,uc(null,c)):(ws(s),Ym(s,x))}var z=r.memoizedState;if(z!==null&&(x=z.dehydrated,x!==null)){if(y)s.flags&256?(ws(s),s.flags&=-257,s=$m(r,s,o)):s.memoizedState!==null?(As(),s.child=r.child,s.flags|=128,s=null):(As(),x=c.fallback,m=s.mode,c=yf({mode:"visible",children:c.children},m),x=Ea(x,m,o,null),x.flags|=2,c.return=s,x.return=s,c.sibling=x,s.child=c,Ca(s,r.child,null,o),c=s.child,c.memoizedState=Gm(o),c.childLanes=Km(r,E,o),s.memoizedState=Hm,s=uc(null,c));else if(ws(s),Cp(x)){if(E=x.nextSibling&&x.nextSibling.dataset,E)var W=E.dgst;E=W,c=Error(i(419)),c.stack="",c.digest=E,Zl({value:c,source:null,stack:null}),s=$m(r,s,o)}else if(Gt||Ao(r,s,o,!1),E=(o&r.childLanes)!==0,Gt||E){if(E=yt,E!==null&&(c=hn(E,o),c!==0&&c!==z.retryLane))throw z.retryLane=c,ba(r,c),Kn(E,r,c),Fm;xp(x)||Rf(),s=$m(r,s,o)}else xp(x)?(s.flags|=192,s.child=r.child,s=null):(r=z.treeContext,wt=xr(x.nextSibling),pn=s,We=!0,vs=null,Ar=!1,r!==null&&Wv(s,r),s=Ym(s,c.children),s.flags|=4096);return s}return m?(As(),x=c.fallback,m=s.mode,z=r.child,W=z.sibling,c=Oi(z,{mode:"hidden",children:c.children}),c.subtreeFlags=z.subtreeFlags&65011712,W!==null?x=Oi(W,x):(x=Ea(x,m,o,null),x.flags|=2),x.return=s,c.return=s,c.sibling=x,s.child=c,uc(null,c),c=s.child,x=r.child.memoizedState,x===null?x=Gm(o):(m=x.cachePool,m!==null?(z=qt._currentValue,m=m.parent!==z?{parent:z,pool:z}:m):m=r_(),x={baseLanes:x.baseLanes|o,cachePool:m}),c.memoizedState=x,c.childLanes=Km(r,E,o),s.memoizedState=Hm,uc(r.child,c)):(ws(s),o=r.child,r=o.sibling,o=Oi(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,r!==null&&(E=s.deletions,E===null?(s.deletions=[r],s.flags|=16):E.push(r)),s.child=o,s.memoizedState=null,o)}function Ym(r,s){return s=yf({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function yf(r,s){return r=ir(22,r,null,s),r.lanes=0,r}function $m(r,s,o){return Ca(s,r.child,null,o),r=Ym(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function g0(r,s,o){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),cm(r.return,s,o)}function Qm(r,s,o,c,m,y){var E=r.memoizedState;E===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m,treeForkCount:y}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=c,E.tail=o,E.tailMode=m,E.treeForkCount=y)}function y0(r,s,o){var c=s.pendingProps,m=c.revealOrder,y=c.tail;c=c.children;var E=Pt.current,x=(E&2)!==0;if(x?(E=E&1|2,s.flags|=128):E&=1,te(Pt,E),yn(r,s,c,o),c=We?Wl:0,!x&&r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&g0(r,o,s);else if(r.tag===19)g0(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(m){case"forwards":for(o=s.child,m=null;o!==null;)r=o.alternate,r!==null&&sf(r)===null&&(m=o),o=o.sibling;o=m,o===null?(m=s.child,s.child=null):(m=o.sibling,o.sibling=null),Qm(s,!1,m,o,y,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=s.child,s.child=null;m!==null;){if(r=m.alternate,r!==null&&sf(r)===null){s.child=m;break}r=m.sibling,m.sibling=o,o=m,m=r}Qm(s,!0,o,null,y,c);break;case"together":Qm(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function zi(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),Cs|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(Ao(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=Oi(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Oi(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Xm(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Xu(r)))}function yx(r,s,o){switch(s.tag){case 3:Ae(s,s.stateNode.containerInfo),bs(s,qt,r.memoizedState.cache),Sa();break;case 27:case 5:ft(s);break;case 4:Ae(s,s.stateNode.containerInfo);break;case 10:bs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Em(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(ws(s),s.flags|=128,null):(o&s.child.childLanes)!==0?p0(r,s,o):(ws(s),r=zi(r,s,o),r!==null?r.sibling:null);ws(s);break;case 19:var m=(r.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(Ao(r,s,o,!1),c=(o&s.childLanes)!==0),m){if(c)return y0(r,s,o);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),te(Pt,Pt.current),c)break;return null;case 22:return s.lanes=0,c0(r,s,o,s.pendingProps);case 24:bs(s,qt,r.memoizedState.cache)}return zi(r,s,o)}function v0(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Gt=!0;else{if(!Xm(r,o)&&(s.flags&128)===0)return Gt=!1,yx(r,s,o);Gt=(r.flags&131072)!==0}else Gt=!1,We&&(s.flags&1048576)!==0&&Xv(s,Wl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(r=Ra(s.elementType),s.type=r,typeof r=="function")tm(r)?(c=Na(r,c),s.tag=1,s=d0(null,s,r,c,o)):(s.tag=0,s=qm(null,s,r,c,o));else{if(r!=null){var m=r.$$typeof;if(m===Y){s.tag=11,s=a0(null,s,r,c,o);break e}else if(m===A){s.tag=14,s=o0(null,s,r,c,o);break e}}throw s=ye(r)||r,Error(i(306,s,""))}}return s;case 0:return qm(r,s,s.type,s.pendingProps,o);case 1:return c=s.type,m=Na(c,s.pendingProps),d0(r,s,c,m,o);case 3:e:{if(Ae(s,s.stateNode.containerInfo),r===null)throw Error(i(387));c=s.pendingProps;var y=s.memoizedState;m=y.element,gm(r,s),sc(s,c,null,o);var E=s.memoizedState;if(c=E.cache,bs(s,qt,c),c!==y.cache&&um(s,[qt],o,!0),ic(),c=E.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=m0(r,s,c,o);break e}else if(c!==m){m=Sr(Error(i(424)),s),Zl(m),s=m0(r,s,c,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(wt=xr(r.firstChild),pn=s,We=!0,vs=null,Ar=!0,o=c_(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Sa(),c===m){s=zi(r,s,o);break e}yn(r,s,c,o)}s=s.child}return s;case 26:return gf(r,s),r===null?(o=Ib(s.type,null,s.pendingProps,null))?s.memoizedState=o:We||(o=s.type,r=s.pendingProps,c=Of(pe.current).createElement(o),c[jt]=s,c[an]=r,vn(c,o,r),Bt(c),s.stateNode=c):s.memoizedState=Ib(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return ft(s),r===null&&We&&(c=s.stateNode=Rb(s.type,s.pendingProps,pe.current),pn=s,Ar=!0,m=wt,Os(s.type)?(Ip=m,wt=xr(c.firstChild)):wt=m),yn(r,s,s.pendingProps.children,o),gf(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&We&&((m=c=wt)&&(c=Yx(c,s.type,s.pendingProps,Ar),c!==null?(s.stateNode=c,pn=s,wt=xr(c.firstChild),Ar=!1,m=!0):m=!1),m||_s(s)),ft(s),m=s.type,y=s.pendingProps,E=r!==null?r.memoizedProps:null,c=y.children,wp(m,y)?c=null:E!==null&&wp(m,E)&&(s.flags|=32),s.memoizedState!==null&&(m=Tm(r,s,lx,null,null,o),Ac._currentValue=m),gf(r,s),yn(r,s,c,o),s.child;case 6:return r===null&&We&&((r=o=wt)&&(o=$x(o,s.pendingProps,Ar),o!==null?(s.stateNode=o,pn=s,wt=null,r=!0):r=!1),r||_s(s)),null;case 13:return p0(r,s,o);case 4:return Ae(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=Ca(s,null,c,o):yn(r,s,c,o),s.child;case 11:return a0(r,s,s.type,s.pendingProps,o);case 7:return yn(r,s,s.pendingProps,o),s.child;case 8:return yn(r,s,s.pendingProps.children,o),s.child;case 12:return yn(r,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,bs(s,s.type,c.value),yn(r,s,c.children,o),s.child;case 9:return m=s.type._context,c=s.pendingProps.children,wa(s),m=gn(m),c=c(m),s.flags|=1,yn(r,s,c,o),s.child;case 14:return o0(r,s,s.type,s.pendingProps,o);case 15:return l0(r,s,s.type,s.pendingProps,o);case 19:return y0(r,s,o);case 31:return gx(r,s,o);case 22:return c0(r,s,o,s.pendingProps);case 24:return wa(s),c=gn(qt),r===null?(m=dm(),m===null&&(m=yt,y=fm(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=o),m=y),s.memoizedState={parent:c,cache:m},pm(s),bs(s,qt,m)):((r.lanes&o)!==0&&(gm(r,s),sc(s,null,null,o),ic()),m=r.memoizedState,y=s.memoizedState,m.parent!==c?(m={parent:c,cache:c},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),bs(s,qt,c)):(c=y.cache,bs(s,qt,c),c!==m.cache&&um(s,[qt],o,!0))),yn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function ji(r){r.flags|=4}function Wm(r,s,o,c,m){if((s=(r.mode&32)!==0)&&(s=!1),s){if(r.flags|=16777216,(m&335544128)===m)if(r.stateNode.complete)r.flags|=8192;else if(G0())r.flags|=8192;else throw xa=ef,mm}else r.flags&=-16777217}function _0(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!kb(s))if(G0())r.flags|=8192;else throw xa=ef,mm}function vf(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?sn():536870912,r.lanes|=s,Vo|=s)}function fc(r,s){if(!We)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function At(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(s)for(var m=r.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=c,r.childLanes=o,s}function vx(r,s,o){var c=s.pendingProps;switch(sm(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(s),null;case 1:return At(s),null;case 3:return o=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Li(qt),Ne(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(wo(s)?ji(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,om())),At(s),null;case 26:var m=s.type,y=s.memoizedState;return r===null?(ji(s),y!==null?(At(s),_0(s,y)):(At(s),Wm(s,m,null,c,o))):y?y!==r.memoizedState?(ji(s),At(s),_0(s,y)):(At(s),s.flags&=-16777217):(r=r.memoizedProps,r!==c&&ji(s),At(s),Wm(s,m,r,c,o)),null;case 27:if(Et(s),o=pe.current,m=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&ji(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return At(s),null}r=ce.current,wo(s)?Zv(s):(r=Rb(m,c,o),s.stateNode=r,ji(s))}return At(s),null;case 5:if(Et(s),m=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&ji(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return At(s),null}if(y=ce.current,wo(s))Zv(s);else{var E=Of(pe.current);switch(y){case 1:y=E.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:y=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":y=E.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":y=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":y=E.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof c.is=="string"?E.createElement("select",{is:c.is}):E.createElement("select"),c.multiple?y.multiple=!0:c.size&&(y.size=c.size);break;default:y=typeof c.is=="string"?E.createElement(m,{is:c.is}):E.createElement(m)}}y[jt]=s,y[an]=c;e:for(E=s.child;E!==null;){if(E.tag===5||E.tag===6)y.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===s)break e;for(;E.sibling===null;){if(E.return===null||E.return===s)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}s.stateNode=y;e:switch(vn(y,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&ji(s)}}return At(s),Wm(s,s.type,r===null?null:r.memoizedProps,s.pendingProps,o),null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&ji(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(r=pe.current,wo(s)){if(r=s.stateNode,o=s.memoizedProps,c=null,m=pn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}r[jt]=s,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||pb(r.nodeValue,o)),r||_s(s,!0)}else r=Of(r).createTextNode(c),r[jt]=s,s.stateNode=r}return At(s),null;case 31:if(o=s.memoizedState,r===null||r.memoizedState!==null){if(c=wo(s),o!==null){if(r===null){if(!c)throw Error(i(318));if(r=s.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[jt]=s}else Sa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;At(s),r=!1}else o=om(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=o),r=!0;if(!r)return s.flags&256?(ar(s),s):(ar(s),null);if((s.flags&128)!==0)throw Error(i(558))}return At(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(m=wo(s),c!==null&&c.dehydrated!==null){if(r===null){if(!m)throw Error(i(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[jt]=s}else Sa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;At(s),m=!1}else m=om(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(ar(s),s):(ar(s),null)}return ar(s),(s.flags&128)!==0?(s.lanes=o,s):(o=c!==null,r=r!==null&&r.memoizedState!==null,o&&(c=s.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),y=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048)),o!==r&&o&&(s.child.flags|=8192),vf(s,s.updateQueue),At(s),null);case 4:return Ne(),r===null&&_p(s.stateNode.containerInfo),At(s),null;case 10:return Li(s.type),At(s),null;case 19:if(ne(Pt),c=s.memoizedState,c===null)return At(s),null;if(m=(s.flags&128)!==0,y=c.rendering,y===null)if(m)fc(c,!1);else{if(Dt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(y=sf(r),y!==null){for(s.flags|=128,fc(c,!1),r=y.updateQueue,s.updateQueue=r,vf(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)Yv(o,r),o=o.sibling;return te(Pt,Pt.current&1|2),We&&ki(s,c.treeForkCount),s.child}r=r.sibling}c.tail!==null&&je()>Tf&&(s.flags|=128,m=!0,fc(c,!1),s.lanes=4194304)}else{if(!m)if(r=sf(y),r!==null){if(s.flags|=128,m=!0,r=r.updateQueue,s.updateQueue=r,vf(s,r),fc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!y.alternate&&!We)return At(s),null}else 2*je()-c.renderingStartTime>Tf&&o!==536870912&&(s.flags|=128,m=!0,fc(c,!1),s.lanes=4194304);c.isBackwards?(y.sibling=s.child,s.child=y):(r=c.last,r!==null?r.sibling=y:s.child=y,c.last=y)}return c.tail!==null?(r=c.tail,c.rendering=r,c.tail=r.sibling,c.renderingStartTime=je(),r.sibling=null,o=Pt.current,te(Pt,m?o&1|2:o&1),We&&ki(s,c.treeForkCount),r):(At(s),null);case 22:case 23:return ar(s),bm(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(At(s),s.subtreeFlags&6&&(s.flags|=8192)):At(s),o=s.updateQueue,o!==null&&vf(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),r!==null&&ne(Aa),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Li(qt),At(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function _x(r,s){switch(sm(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Li(qt),Ne(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Et(s),null;case 31:if(s.memoizedState!==null){if(ar(s),s.alternate===null)throw Error(i(340));Sa()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 13:if(ar(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Sa()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ne(Pt),null;case 4:return Ne(),null;case 10:return Li(s.type),null;case 22:case 23:return ar(s),bm(),r!==null&&ne(Aa),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Li(qt),null;case 25:return null;default:return null}}function b0(r,s){switch(sm(s),s.tag){case 3:Li(qt),Ne();break;case 26:case 27:case 5:Et(s);break;case 4:Ne();break;case 31:s.memoizedState!==null&&ar(s);break;case 13:ar(s);break;case 19:ne(Pt);break;case 10:Li(s.type);break;case 22:case 23:ar(s),bm(),r!==null&&ne(Aa);break;case 24:Li(qt)}}function hc(r,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&r)===r){c=void 0;var y=o.create,E=o.inst;c=y(),E.destroy=c}o=o.next}while(o!==m)}}catch(x){ut(s,s.return,x)}}function Rs(r,s,o){try{var c=s.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&r)===r){var E=c.inst,x=E.destroy;if(x!==void 0){E.destroy=void 0,m=s;var z=o,W=x;try{W()}catch(se){ut(m,z,se)}}}c=c.next}while(c!==y)}}catch(se){ut(s,s.return,se)}}function E0(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{f_(s,o)}catch(c){ut(r,r.return,c)}}}function S0(r,s,o){o.props=Na(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){ut(r,s,c)}}function dc(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof o=="function"?r.refCleanup=o(c):o.current=c}}catch(m){ut(r,s,m)}}function di(r,s){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){ut(r,s,m)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){ut(r,s,m)}else o.current=null}function T0(r){var s=r.type,o=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){ut(r,r.return,m)}}function Zm(r,s,o){try{var c=r.stateNode;Bx(c,r.type,o,s),c[an]=s}catch(m){ut(r,r.return,m)}}function w0(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Os(r.type)||r.tag===4}function Jm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||w0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Os(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function ep(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Lr));else if(c!==4&&(c===27&&Os(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(ep(r,s,o),r=r.sibling;r!==null;)ep(r,s,o),r=r.sibling}function _f(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(c!==4&&(c===27&&Os(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(_f(r,s,o),r=r.sibling;r!==null;)_f(r,s,o),r=r.sibling}function A0(r){var s=r.stateNode,o=r.memoizedProps;try{for(var c=r.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);vn(s,c,o),s[jt]=r,s[an]=o}catch(y){ut(r,r.return,y)}}var Bi=!1,Kt=!1,tp=!1,R0=typeof WeakSet=="function"?WeakSet:Set,ln=null;function bx(r,s){if(r=r.containerInfo,Sp=jf,r=Uv(r),$d(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var E=0,x=-1,z=-1,W=0,se=0,le=r,Z=null;t:for(;;){for(var ee;le!==o||m!==0&&le.nodeType!==3||(x=E+m),le!==y||c!==0&&le.nodeType!==3||(z=E+c),le.nodeType===3&&(E+=le.nodeValue.length),(ee=le.firstChild)!==null;)Z=le,le=ee;for(;;){if(le===r)break t;if(Z===o&&++W===m&&(x=E),Z===y&&++se===c&&(z=E),(ee=le.nextSibling)!==null)break;le=Z,Z=le.parentNode}le=ee}o=x===-1||z===-1?null:{start:x,end:z}}else o=null}o=o||{start:0,end:0}}else o=null;for(Tp={focusedElem:r,selectionRange:o},jf=!1,ln=s;ln!==null;)if(s=ln,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ln=r;else for(;ln!==null;){switch(s=ln,y=s.alternate,r=s.flags,s.tag){case 0:if((r&4)!==0&&(r=s.updateQueue,r=r!==null?r.events:null,r!==null))for(o=0;o<r.length;o++)m=r[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,o=s,m=y.memoizedProps,y=y.memoizedState,c=o.stateNode;try{var _e=Na(o.type,m);r=c.getSnapshotBeforeUpdate(_e,y),c.__reactInternalSnapshotBeforeUpdate=r}catch(Me){ut(o,o.return,Me)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)Rp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Rp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,ln=r;break}ln=s.return}}function x0(r,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:qi(r,o),c&4&&hc(5,o);break;case 1:if(qi(r,o),c&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(E){ut(o,o.return,E)}else{var m=Na(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(m,s,r.__reactInternalSnapshotBeforeUpdate)}catch(E){ut(o,o.return,E)}}c&64&&E0(o),c&512&&dc(o,o.return);break;case 3:if(qi(r,o),c&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{f_(r,s)}catch(E){ut(o,o.return,E)}}break;case 27:s===null&&c&4&&A0(o);case 26:case 5:qi(r,o),s===null&&c&4&&T0(o),c&512&&dc(o,o.return);break;case 12:qi(r,o);break;case 31:qi(r,o),c&4&&N0(r,o);break;case 13:qi(r,o),c&4&&M0(r,o),c&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=Ix.bind(null,o),Qx(r,o))));break;case 22:if(c=o.memoizedState!==null||Bi,!c){s=s!==null&&s.memoizedState!==null||Kt,m=Bi;var y=Kt;Bi=c,(Kt=s)&&!y?Hi(r,o,(o.subtreeFlags&8772)!==0):qi(r,o),Bi=m,Kt=y}break;case 30:break;default:qi(r,o)}}function C0(r){var s=r.alternate;s!==null&&(r.alternate=null,C0(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&ao(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Ct=null,Fn=!1;function Fi(r,s,o){for(o=o.child;o!==null;)I0(r,s,o),o=o.sibling}function I0(r,s,o){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(xn,o)}catch{}switch(o.tag){case 26:Kt||di(o,s),Fi(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Kt||di(o,s);var c=Ct,m=Fn;Os(o.type)&&(Ct=o.stateNode,Fn=!1),Fi(r,s,o),Sc(o.stateNode),Ct=c,Fn=m;break;case 5:Kt||di(o,s);case 6:if(c=Ct,m=Fn,Ct=null,Fi(r,s,o),Ct=c,Fn=m,Ct!==null)if(Fn)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(o.stateNode)}catch(y){ut(o,s,y)}else try{Ct.removeChild(o.stateNode)}catch(y){ut(o,s,y)}break;case 18:Ct!==null&&(Fn?(r=Ct,Eb(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Go(r)):Eb(Ct,o.stateNode));break;case 4:c=Ct,m=Fn,Ct=o.stateNode.containerInfo,Fn=!0,Fi(r,s,o),Ct=c,Fn=m;break;case 0:case 11:case 14:case 15:Rs(2,o,s),Kt||Rs(4,o,s),Fi(r,s,o);break;case 1:Kt||(di(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&S0(o,s,c)),Fi(r,s,o);break;case 21:Fi(r,s,o);break;case 22:Kt=(c=Kt)||o.memoizedState!==null,Fi(r,s,o),Kt=c;break;default:Fi(r,s,o)}}function N0(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Go(r)}catch(o){ut(s,s.return,o)}}}function M0(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Go(r)}catch(o){ut(s,s.return,o)}}function Ex(r){switch(r.tag){case 31:case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new R0),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new R0),s;default:throw Error(i(435,r.tag))}}function bf(r,s){var o=Ex(r);s.forEach(function(c){if(!o.has(c)){o.add(c);var m=Nx.bind(null,r,c);c.then(m,m)}})}function qn(r,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],y=r,E=s,x=E;e:for(;x!==null;){switch(x.tag){case 27:if(Os(x.type)){Ct=x.stateNode,Fn=!1;break e}break;case 5:Ct=x.stateNode,Fn=!1;break e;case 3:case 4:Ct=x.stateNode.containerInfo,Fn=!0;break e}x=x.return}if(Ct===null)throw Error(i(160));I0(y,E,m),Ct=null,Fn=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)D0(s,r),s=s.sibling}var Fr=null;function D0(r,s){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:qn(s,r),Hn(r),c&4&&(Rs(3,r,r.return),hc(3,r),Rs(5,r,r.return));break;case 1:qn(s,r),Hn(r),c&512&&(Kt||o===null||di(o,o.return)),c&64&&Bi&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=Fr;if(qn(s,r),Hn(r),c&512&&(Kt||o===null||di(o,o.return)),c&4){var y=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){e:{c=r.type,o=r.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":y=m.getElementsByTagName("title")[0],(!y||y[Jr]||y[jt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(c),m.head.insertBefore(y,m.querySelector("head > title"))),vn(y,c,o),y[jt]=r,Bt(y),c=y;break e;case"link":var E=Db("link","href",m).get(c+(o.href||""));if(E){for(var x=0;x<E.length;x++)if(y=E[x],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(x,1);break t}}y=m.createElement(c),vn(y,c,o),m.head.appendChild(y);break;case"meta":if(E=Db("meta","content",m).get(c+(o.content||""))){for(x=0;x<E.length;x++)if(y=E[x],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(x,1);break t}}y=m.createElement(c),vn(y,c,o),m.head.appendChild(y);break;default:throw Error(i(468,c))}y[jt]=r,Bt(y),c=y}r.stateNode=c}else Ob(m,r.type,r.stateNode);else r.stateNode=Mb(m,c,r.memoizedProps);else y!==c?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,c===null?Ob(m,r.type,r.stateNode):Mb(m,c,r.memoizedProps)):c===null&&r.stateNode!==null&&Zm(r,r.memoizedProps,o.memoizedProps)}break;case 27:qn(s,r),Hn(r),c&512&&(Kt||o===null||di(o,o.return)),o!==null&&c&4&&Zm(r,r.memoizedProps,o.memoizedProps);break;case 5:if(qn(s,r),Hn(r),c&512&&(Kt||o===null||di(o,o.return)),r.flags&32){m=r.stateNode;try{Bn(m,"")}catch(_e){ut(r,r.return,_e)}}c&4&&r.stateNode!=null&&(m=r.memoizedProps,Zm(r,m,o!==null?o.memoizedProps:m)),c&1024&&(tp=!0);break;case 6:if(qn(s,r),Hn(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(_e){ut(r,r.return,_e)}}break;case 3:if(Lf=null,m=Fr,Fr=kf(s.containerInfo),qn(s,r),Fr=m,Hn(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Go(s.containerInfo)}catch(_e){ut(r,r.return,_e)}tp&&(tp=!1,O0(r));break;case 4:c=Fr,Fr=kf(r.stateNode.containerInfo),qn(s,r),Hn(r),Fr=c;break;case 12:qn(s,r),Hn(r);break;case 31:qn(s,r),Hn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,bf(r,c)));break;case 13:qn(s,r),Hn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Sf=je()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,bf(r,c)));break;case 22:m=r.memoizedState!==null;var z=o!==null&&o.memoizedState!==null,W=Bi,se=Kt;if(Bi=W||m,Kt=se||z,qn(s,r),Kt=se,Bi=W,Hn(r),c&8192)e:for(s=r.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(o===null||z||Bi||Kt||Ma(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){z=o=s;try{if(y=z.stateNode,m)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{x=z.stateNode;var le=z.memoizedProps.style,Z=le!=null&&le.hasOwnProperty("display")?le.display:null;x.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(_e){ut(z,z.return,_e)}}}else if(s.tag===6){if(o===null){z=s;try{z.stateNode.nodeValue=m?"":z.memoizedProps}catch(_e){ut(z,z.return,_e)}}}else if(s.tag===18){if(o===null){z=s;try{var ee=z.stateNode;m?Sb(ee,!0):Sb(z.stateNode,!1)}catch(_e){ut(z,z.return,_e)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,bf(r,o))));break;case 19:qn(s,r),Hn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,bf(r,c)));break;case 30:break;case 21:break;default:qn(s,r),Hn(r)}}function Hn(r){var s=r.flags;if(s&2){try{for(var o,c=r.return;c!==null;){if(w0(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var m=o.stateNode,y=Jm(r);_f(r,y,m);break;case 5:var E=o.stateNode;o.flags&32&&(Bn(E,""),o.flags&=-33);var x=Jm(r);_f(r,x,E);break;case 3:case 4:var z=o.stateNode.containerInfo,W=Jm(r);ep(r,W,z);break;default:throw Error(i(161))}}catch(se){ut(r,r.return,se)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function O0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;O0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function qi(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)x0(r,s.alternate,s),s=s.sibling}function Ma(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Rs(4,s,s.return),Ma(s);break;case 1:di(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&S0(s,s.return,o),Ma(s);break;case 27:Sc(s.stateNode);case 26:case 5:di(s,s.return),Ma(s);break;case 22:s.memoizedState===null&&Ma(s);break;case 30:Ma(s);break;default:Ma(s)}r=r.sibling}}function Hi(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,m=r,y=s,E=y.flags;switch(y.tag){case 0:case 11:case 15:Hi(m,y,o),hc(4,y);break;case 1:if(Hi(m,y,o),c=y,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(W){ut(c,c.return,W)}if(c=y,m=c.updateQueue,m!==null){var x=c.stateNode;try{var z=m.shared.hiddenCallbacks;if(z!==null)for(m.shared.hiddenCallbacks=null,m=0;m<z.length;m++)u_(z[m],x)}catch(W){ut(c,c.return,W)}}o&&E&64&&E0(y),dc(y,y.return);break;case 27:A0(y);case 26:case 5:Hi(m,y,o),o&&c===null&&E&4&&T0(y),dc(y,y.return);break;case 12:Hi(m,y,o);break;case 31:Hi(m,y,o),o&&E&4&&N0(m,y);break;case 13:Hi(m,y,o),o&&E&4&&M0(m,y);break;case 22:y.memoizedState===null&&Hi(m,y,o),dc(y,y.return);break;case 30:break;default:Hi(m,y,o)}s=s.sibling}}function np(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Jl(o))}function rp(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Jl(r))}function qr(r,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)k0(r,s,o,c),s=s.sibling}function k0(r,s,o,c){var m=s.flags;switch(s.tag){case 0:case 11:case 15:qr(r,s,o,c),m&2048&&hc(9,s);break;case 1:qr(r,s,o,c);break;case 3:qr(r,s,o,c),m&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Jl(r)));break;case 12:if(m&2048){qr(r,s,o,c),r=s.stateNode;try{var y=s.memoizedProps,E=y.id,x=y.onPostCommit;typeof x=="function"&&x(E,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(z){ut(s,s.return,z)}}else qr(r,s,o,c);break;case 31:qr(r,s,o,c);break;case 13:qr(r,s,o,c);break;case 23:break;case 22:y=s.stateNode,E=s.alternate,s.memoizedState!==null?y._visibility&2?qr(r,s,o,c):mc(r,s):y._visibility&2?qr(r,s,o,c):(y._visibility|=2,ko(r,s,o,c,(s.subtreeFlags&10256)!==0||!1)),m&2048&&np(E,s);break;case 24:qr(r,s,o,c),m&2048&&rp(s.alternate,s);break;default:qr(r,s,o,c)}}function ko(r,s,o,c,m){for(m=m&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var y=r,E=s,x=o,z=c,W=E.flags;switch(E.tag){case 0:case 11:case 15:ko(y,E,x,z,m),hc(8,E);break;case 23:break;case 22:var se=E.stateNode;E.memoizedState!==null?se._visibility&2?ko(y,E,x,z,m):mc(y,E):(se._visibility|=2,ko(y,E,x,z,m)),m&&W&2048&&np(E.alternate,E);break;case 24:ko(y,E,x,z,m),m&&W&2048&&rp(E.alternate,E);break;default:ko(y,E,x,z,m)}s=s.sibling}}function mc(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,c=s,m=c.flags;switch(c.tag){case 22:mc(o,c),m&2048&&np(c.alternate,c);break;case 24:mc(o,c),m&2048&&rp(c.alternate,c);break;default:mc(o,c)}s=s.sibling}}var pc=8192;function Po(r,s,o){if(r.subtreeFlags&pc)for(r=r.child;r!==null;)P0(r,s,o),r=r.sibling}function P0(r,s,o){switch(r.tag){case 26:Po(r,s,o),r.flags&pc&&r.memoizedState!==null&&oC(o,Fr,r.memoizedState,r.memoizedProps);break;case 5:Po(r,s,o);break;case 3:case 4:var c=Fr;Fr=kf(r.stateNode.containerInfo),Po(r,s,o),Fr=c;break;case 22:r.memoizedState===null&&(c=r.alternate,c!==null&&c.memoizedState!==null?(c=pc,pc=16777216,Po(r,s,o),pc=c):Po(r,s,o));break;default:Po(r,s,o)}}function L0(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function gc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];ln=c,U0(c,r)}L0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)V0(r),r=r.sibling}function V0(r){switch(r.tag){case 0:case 11:case 15:gc(r),r.flags&2048&&Rs(9,r,r.return);break;case 3:gc(r);break;case 12:gc(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Ef(r)):gc(r);break;default:gc(r)}}function Ef(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];ln=c,U0(c,r)}L0(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Rs(8,s,s.return),Ef(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Ef(s));break;default:Ef(s)}r=r.sibling}}function U0(r,s){for(;ln!==null;){var o=ln;switch(o.tag){case 0:case 11:case 15:Rs(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Jl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,ln=c;else e:for(o=r;ln!==null;){c=ln;var m=c.sibling,y=c.return;if(C0(c),c===o){ln=null;break e}if(m!==null){m.return=y,ln=m;break e}ln=y}}}var Sx={getCacheForType:function(r){var s=gn(qt),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o},cacheSignal:function(){return gn(qt).controller.signal}},Tx=typeof WeakMap=="function"?WeakMap:Map,rt=0,yt=null,He=null,Ke=0,ct=0,or=null,xs=!1,Lo=!1,ip=!1,Gi=0,Dt=0,Cs=0,Da=0,sp=0,lr=0,Vo=0,yc=null,Gn=null,ap=!1,Sf=0,z0=0,Tf=1/0,wf=null,Is=null,en=0,Ns=null,Uo=null,Ki=0,op=0,lp=null,j0=null,vc=0,cp=null;function cr(){return(rt&2)!==0&&Ke!==0?Ke&-Ke:F.T!==null?pp():Ml()}function B0(){if(lr===0)if((Ke&536870912)===0||We){var r=pr;pr<<=1,(pr&3932160)===0&&(pr=262144),lr=r}else lr=536870912;return r=sr.current,r!==null&&(r.flags|=32),lr}function Kn(r,s,o){(r===yt&&(ct===2||ct===9)||r.cancelPendingCommit!==null)&&(zo(r,0),Ms(r,Ke,lr,!1)),Tt(r,o),((rt&2)===0||r!==yt)&&(r===yt&&((rt&2)===0&&(Da|=o),Dt===4&&Ms(r,Ke,lr,!1)),mi(r))}function F0(r,s,o){if((rt&6)!==0)throw Error(i(327));var c=!o&&(s&127)===0&&(s&r.expiredLanes)===0||st(r,s),m=c?Rx(r,s):fp(r,s,!0),y=c;do{if(m===0){Lo&&!c&&Ms(r,s,0,!1);break}else{if(o=r.current.alternate,y&&!wx(o)){m=fp(r,s,!1),y=!1;continue}if(m===2){if(y=s,r.errorRecoveryDisabledLanes&y)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var x=r;m=yc;var z=x.current.memoizedState.isDehydrated;if(z&&(zo(x,E).flags|=256),E=fp(x,E,!1),E!==2){if(ip&&!z){x.errorRecoveryDisabledLanes|=y,Da|=y,m=4;break e}y=Gn,Gn=m,y!==null&&(Gn===null?Gn=y:Gn.push.apply(Gn,y))}m=E}if(y=!1,m!==2)continue}}if(m===1){zo(r,0),Ms(r,s,0,!0);break}e:{switch(c=r,y=m,y){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Ms(c,s,lr,!xs);break e;case 2:Gn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(m=Sf+300-je(),10<m)){if(Ms(c,s,lr,!xs),Ie(c,0,!0)!==0)break e;Ki=s,c.timeoutHandle=_b(q0.bind(null,c,o,Gn,wf,ap,s,lr,Da,Vo,xs,y,"Throttled",-0,0),m);break e}q0(c,o,Gn,wf,ap,s,lr,Da,Vo,xs,y,null,-0,0)}}break}while(!0);mi(r)}function q0(r,s,o,c,m,y,E,x,z,W,se,le,Z,ee){if(r.timeoutHandle=-1,le=s.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Lr},P0(s,y,le);var _e=(y&62914560)===y?Sf-je():(y&4194048)===y?z0-je():0;if(_e=lC(le,_e),_e!==null){Ki=y,r.cancelPendingCommit=_e(W0.bind(null,r,s,y,o,c,m,E,x,z,se,le,null,Z,ee)),Ms(r,y,E,!W);return}}W0(r,s,y,o,c,m,E,x,z)}function wx(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],y=m.getSnapshot;m=m.value;try{if(!rr(y(),m))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ms(r,s,o,c){s&=~sp,s&=~Da,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var m=s;0<m;){var y=31-_t(m),E=1<<y;c[y]=-1,m&=~E}o!==0&&gr(r,o,s)}function Af(){return(rt&6)===0?(_c(0),!1):!0}function up(){if(He!==null){if(ct===0)var r=He.return;else r=He,Pi=Ta=null,Rm(r),Io=null,tc=0,r=He;for(;r!==null;)b0(r.alternate,r),r=r.return;He=null}}function zo(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,Hx(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Ki=0,up(),yt=r,He=o=Oi(r.current,null),Ke=s,ct=0,or=null,xs=!1,Lo=st(r,s),ip=!1,Vo=lr=sp=Da=Cs=Dt=0,Gn=yc=null,ap=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var m=31-_t(c),y=1<<m;s|=r[m],c&=~y}return Gi=s,Gu(),o}function H0(r,s){ze=null,F.H=cc,s===Co||s===Ju?(s=a_(),ct=3):s===mm?(s=a_(),ct=4):ct=s===Fm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,or=s,He===null&&(Dt=1,mf(r,Sr(s,r.current)))}function G0(){var r=sr.current;return r===null?!0:(Ke&4194048)===Ke?Rr===null:(Ke&62914560)===Ke||(Ke&536870912)!==0?r===Rr:!1}function K0(){var r=F.H;return F.H=cc,r===null?cc:r}function Y0(){var r=F.A;return F.A=Sx,r}function Rf(){Dt=4,xs||(Ke&4194048)!==Ke&&sr.current!==null||(Lo=!0),(Cs&134217727)===0&&(Da&134217727)===0||yt===null||Ms(yt,Ke,lr,!1)}function fp(r,s,o){var c=rt;rt|=2;var m=K0(),y=Y0();(yt!==r||Ke!==s)&&(wf=null,zo(r,s)),s=!1;var E=Dt;e:do try{if(ct!==0&&He!==null){var x=He,z=or;switch(ct){case 8:up(),E=6;break e;case 3:case 2:case 9:case 6:sr.current===null&&(s=!0);var W=ct;if(ct=0,or=null,jo(r,x,z,W),o&&Lo){E=0;break e}break;default:W=ct,ct=0,or=null,jo(r,x,z,W)}}Ax(),E=Dt;break}catch(se){H0(r,se)}while(!0);return s&&r.shellSuspendCounter++,Pi=Ta=null,rt=c,F.H=m,F.A=y,He===null&&(yt=null,Ke=0,Gu()),E}function Ax(){for(;He!==null;)$0(He)}function Rx(r,s){var o=rt;rt|=2;var c=K0(),m=Y0();yt!==r||Ke!==s?(wf=null,Tf=je()+500,zo(r,s)):Lo=st(r,s);e:do try{if(ct!==0&&He!==null){s=He;var y=or;t:switch(ct){case 1:ct=0,or=null,jo(r,s,y,1);break;case 2:case 9:if(i_(y)){ct=0,or=null,Q0(s);break}s=function(){ct!==2&&ct!==9||yt!==r||(ct=7),mi(r)},y.then(s,s);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:i_(y)?(ct=0,or=null,Q0(s)):(ct=0,or=null,jo(r,s,y,7));break;case 5:var E=null;switch(He.tag){case 26:E=He.memoizedState;case 5:case 27:var x=He;if(E?kb(E):x.stateNode.complete){ct=0,or=null;var z=x.sibling;if(z!==null)He=z;else{var W=x.return;W!==null?(He=W,xf(W)):He=null}break t}}ct=0,or=null,jo(r,s,y,5);break;case 6:ct=0,or=null,jo(r,s,y,6);break;case 8:up(),Dt=6;break e;default:throw Error(i(462))}}xx();break}catch(se){H0(r,se)}while(!0);return Pi=Ta=null,F.H=c,F.A=m,rt=o,He!==null?0:(yt=null,Ke=0,Gu(),Dt)}function xx(){for(;He!==null&&!Rt();)$0(He)}function $0(r){var s=v0(r.alternate,r,Gi);r.memoizedProps=r.pendingProps,s===null?xf(r):He=s}function Q0(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=h0(o,s,s.pendingProps,s.type,void 0,Ke);break;case 11:s=h0(o,s,s.pendingProps,s.type.render,s.ref,Ke);break;case 5:Rm(s);default:b0(o,s),s=He=Yv(s,Gi),s=v0(o,s,Gi)}r.memoizedProps=r.pendingProps,s===null?xf(r):He=s}function jo(r,s,o,c){Pi=Ta=null,Rm(s),Io=null,tc=0;var m=s.return;try{if(px(r,m,s,o,Ke)){Dt=1,mf(r,Sr(o,r.current)),He=null;return}}catch(y){if(m!==null)throw He=m,y;Dt=1,mf(r,Sr(o,r.current)),He=null;return}s.flags&32768?(We||c===1?r=!0:Lo||(Ke&536870912)!==0?r=!1:(xs=r=!0,(c===2||c===9||c===3||c===6)&&(c=sr.current,c!==null&&c.tag===13&&(c.flags|=16384))),X0(s,r)):xf(s)}function xf(r){var s=r;do{if((s.flags&32768)!==0){X0(s,xs);return}r=s.return;var o=vx(s.alternate,s,Gi);if(o!==null){He=o;return}if(s=s.sibling,s!==null){He=s;return}He=s=r}while(s!==null);Dt===0&&(Dt=5)}function X0(r,s){do{var o=_x(r.alternate,r);if(o!==null){o.flags&=32767,He=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){He=r;return}He=r=o}while(r!==null);Dt=6,He=null}function W0(r,s,o,c,m,y,E,x,z){r.cancelPendingCommit=null;do Cf();while(en!==0);if((rt&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(y=s.lanes|s.childLanes,y|=Jd,In(r,o,y,E,x,z),r===yt&&(He=yt=null,Ke=0),Uo=s,Ns=r,Ki=o,op=y,lp=m,j0=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Mx(wn,function(){return nb(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=F.T,F.T=null,m=ie.p,ie.p=2,E=rt,rt|=4;try{bx(r,s,o)}finally{rt=E,ie.p=m,F.T=c}}en=1,Z0(),J0(),eb()}}function Z0(){if(en===1){en=0;var r=Ns,s=Uo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=F.T,F.T=null;var c=ie.p;ie.p=2;var m=rt;rt|=4;try{D0(s,r);var y=Tp,E=Uv(r.containerInfo),x=y.focusedElem,z=y.selectionRange;if(E!==x&&x&&x.ownerDocument&&Vv(x.ownerDocument.documentElement,x)){if(z!==null&&$d(x)){var W=z.start,se=z.end;if(se===void 0&&(se=W),"selectionStart"in x)x.selectionStart=W,x.selectionEnd=Math.min(se,x.value.length);else{var le=x.ownerDocument||document,Z=le&&le.defaultView||window;if(Z.getSelection){var ee=Z.getSelection(),_e=x.textContent.length,Me=Math.min(z.start,_e),pt=z.end===void 0?Me:Math.min(z.end,_e);!ee.extend&&Me>pt&&(E=pt,pt=Me,Me=E);var K=Lv(x,Me),B=Lv(x,pt);if(K&&B&&(ee.rangeCount!==1||ee.anchorNode!==K.node||ee.anchorOffset!==K.offset||ee.focusNode!==B.node||ee.focusOffset!==B.offset)){var X=le.createRange();X.setStart(K.node,K.offset),ee.removeAllRanges(),Me>pt?(ee.addRange(X),ee.extend(B.node,B.offset)):(X.setEnd(B.node,B.offset),ee.addRange(X))}}}}for(le=[],ee=x;ee=ee.parentNode;)ee.nodeType===1&&le.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<le.length;x++){var ae=le[x];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}jf=!!Sp,Tp=Sp=null}finally{rt=m,ie.p=c,F.T=o}}r.current=s,en=2}}function J0(){if(en===2){en=0;var r=Ns,s=Uo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=F.T,F.T=null;var c=ie.p;ie.p=2;var m=rt;rt|=4;try{x0(r,s.alternate,s)}finally{rt=m,ie.p=c,F.T=o}}en=3}}function eb(){if(en===4||en===3){en=0,Pe();var r=Ns,s=Uo,o=Ki,c=j0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?en=5:(en=0,Uo=Ns=null,tb(r,r.pendingLanes));var m=r.pendingLanes;if(m===0&&(Is=null),dn(o),s=s.stateNode,Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(xn,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=F.T,m=ie.p,ie.p=2,F.T=null;try{for(var y=r.onRecoverableError,E=0;E<c.length;E++){var x=c[E];y(x.value,{componentStack:x.stack})}}finally{F.T=s,ie.p=m}}(Ki&3)!==0&&Cf(),mi(r),m=r.pendingLanes,(o&261930)!==0&&(m&42)!==0?r===cp?vc++:(vc=0,cp=r):vc=0,_c(0)}}function tb(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Jl(s)))}function Cf(){return Z0(),J0(),eb(),nb()}function nb(){if(en!==5)return!1;var r=Ns,s=op;op=0;var o=dn(Ki),c=F.T,m=ie.p;try{ie.p=32>o?32:o,F.T=null,o=lp,lp=null;var y=Ns,E=Ki;if(en=0,Uo=Ns=null,Ki=0,(rt&6)!==0)throw Error(i(331));var x=rt;if(rt|=4,V0(y.current),k0(y,y.current,E,o),rt=x,_c(0,!1),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(xn,y)}catch{}return!0}finally{ie.p=m,F.T=c,tb(r,s)}}function rb(r,s,o){s=Sr(o,s),s=Bm(r.stateNode,s,2),r=Ts(r,s,2),r!==null&&(Tt(r,2),mi(r))}function ut(r,s,o){if(r.tag===3)rb(r,r,o);else for(;s!==null;){if(s.tag===3){rb(s,r,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Is===null||!Is.has(c))){r=Sr(o,r),o=i0(2),c=Ts(s,o,2),c!==null&&(s0(o,c,s,r),Tt(c,2),mi(c));break}}s=s.return}}function hp(r,s,o){var c=r.pingCache;if(c===null){c=r.pingCache=new Tx;var m=new Set;c.set(s,m)}else m=c.get(s),m===void 0&&(m=new Set,c.set(s,m));m.has(o)||(ip=!0,m.add(o),r=Cx.bind(null,r,s,o),s.then(r,r))}function Cx(r,s,o){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,yt===r&&(Ke&o)===o&&(Dt===4||Dt===3&&(Ke&62914560)===Ke&&300>je()-Sf?(rt&2)===0&&zo(r,0):sp|=o,Vo===Ke&&(Vo=0)),mi(r)}function ib(r,s){s===0&&(s=sn()),r=ba(r,s),r!==null&&(Tt(r,s),mi(r))}function Ix(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),ib(r,o)}function Nx(r,s){var o=0;switch(r.tag){case 31:case 13:var c=r.stateNode,m=r.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),ib(r,o)}function Mx(r,s){return it(r,s)}var If=null,Bo=null,dp=!1,Nf=!1,mp=!1,Ds=0;function mi(r){r!==Bo&&r.next===null&&(Bo===null?If=Bo=r:Bo=Bo.next=r),Nf=!0,dp||(dp=!0,Ox())}function _c(r,s){if(!mp&&Nf){mp=!0;do for(var o=!1,c=If;c!==null;){if(r!==0){var m=c.pendingLanes;if(m===0)var y=0;else{var E=c.suspendedLanes,x=c.pingedLanes;y=(1<<31-_t(42|r)+1)-1,y&=m&~(E&~x),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,lb(c,y))}else y=Ke,y=Ie(c,c===yt?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||st(c,y)||(o=!0,lb(c,y));c=c.next}while(o);mp=!1}}function Dx(){sb()}function sb(){Nf=dp=!1;var r=0;Ds!==0&&qx()&&(r=Ds);for(var s=je(),o=null,c=If;c!==null;){var m=c.next,y=ab(c,s);y===0?(c.next=null,o===null?If=m:o.next=m,m===null&&(Bo=o)):(o=c,(r!==0||(y&3)!==0)&&(Nf=!0)),c=m}en!==0&&en!==5||_c(r),Ds!==0&&(Ds=0)}function ab(r,s){for(var o=r.suspendedLanes,c=r.pingedLanes,m=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var E=31-_t(y),x=1<<E,z=m[E];z===-1?((x&o)===0||(x&c)!==0)&&(m[E]=zt(x,s)):z<=s&&(r.expiredLanes|=x),y&=~x}if(s=yt,o=Ke,o=Ie(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,o===0||r===s&&(ct===2||ct===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&un(c),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||st(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(c!==null&&un(c),dn(o)){case 2:case 8:o=Jn;break;case 32:o=wn;break;case 268435456:o=An;break;default:o=wn}return c=ob.bind(null,r),o=it(o,c),r.callbackPriority=s,r.callbackNode=o,s}return c!==null&&c!==null&&un(c),r.callbackPriority=2,r.callbackNode=null,2}function ob(r,s){if(en!==0&&en!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Cf()&&r.callbackNode!==o)return null;var c=Ke;return c=Ie(r,r===yt?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(F0(r,c,s),ab(r,je()),r.callbackNode!=null&&r.callbackNode===o?ob.bind(null,r):null)}function lb(r,s){if(Cf())return null;F0(r,s,!0)}function Ox(){Gx(function(){(rt&6)!==0?it(Jt,Dx):sb()})}function pp(){if(Ds===0){var r=Ro;r===0&&(r=zn,zn<<=1,(zn&261888)===0&&(zn=256)),Ds=r}return Ds}function cb(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:uo(""+r)}function ub(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function kx(r,s,o,c,m){if(s==="submit"&&o&&o.stateNode===m){var y=cb((m[an]||null).action),E=c.submitter;E&&(s=(s=E[an]||null)?cb(s.formAction):E.getAttribute("formAction"),s!==null&&(y=s,E=null));var x=new oi("action","action",null,c,m);r.push({event:x,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ds!==0){var z=E?ub(m,E):new FormData(m);Pm(o,{pending:!0,data:z,method:m.method,action:y},null,z)}}else typeof y=="function"&&(x.preventDefault(),z=E?ub(m,E):new FormData(m),Pm(o,{pending:!0,data:z,method:m.method,action:y},y,z))},currentTarget:m}]})}}for(var gp=0;gp<Zd.length;gp++){var yp=Zd[gp],Px=yp.toLowerCase(),Lx=yp[0].toUpperCase()+yp.slice(1);Br(Px,"on"+Lx)}Br(Bv,"onAnimationEnd"),Br(Fv,"onAnimationIteration"),Br(qv,"onAnimationStart"),Br("dblclick","onDoubleClick"),Br("focusin","onFocus"),Br("focusout","onBlur"),Br(ZR,"onTransitionRun"),Br(JR,"onTransitionStart"),Br(ex,"onTransitionCancel"),Br(Hv,"onTransitionEnd"),ri("onMouseEnter",["mouseout","mouseover"]),ri("onMouseLeave",["mouseout","mouseover"]),ri("onPointerEnter",["pointerout","pointerover"]),ri("onPointerLeave",["pointerout","pointerover"]),ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bc));function fb(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],m=c.event;c=c.listeners;e:{var y=void 0;if(s)for(var E=c.length-1;0<=E;E--){var x=c[E],z=x.instance,W=x.currentTarget;if(x=x.listener,z!==y&&m.isPropagationStopped())break e;y=x,m.currentTarget=W;try{y(m)}catch(se){Hu(se)}m.currentTarget=null,y=z}else for(E=0;E<c.length;E++){if(x=c[E],z=x.instance,W=x.currentTarget,x=x.listener,z!==y&&m.isPropagationStopped())break e;y=x,m.currentTarget=W;try{y(m)}catch(se){Hu(se)}m.currentTarget=null,y=z}}}}function Ge(r,s){var o=s[so];o===void 0&&(o=s[so]=new Set);var c=r+"__bubble";o.has(c)||(hb(s,r,2,!1),o.add(c))}function vp(r,s,o){var c=0;s&&(c|=4),hb(o,r,c,s)}var Mf="_reactListening"+Math.random().toString(36).slice(2);function _p(r){if(!r[Mf]){r[Mf]=!0,Dl.forEach(function(o){o!=="selectionchange"&&(Vx.has(o)||vp(o,!1,r),vp(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Mf]||(s[Mf]=!0,vp("selectionchange",!1,s))}}function hb(r,s,o,c){switch(Bb(s)){case 2:var m=fC;break;case 8:m=hC;break;default:m=kp}o=m.bind(null,s,o,r),m=void 0,!ha||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),c?m!==void 0?r.addEventListener(s,o,{capture:!0,passive:m}):r.addEventListener(s,o,!0):m!==void 0?r.addEventListener(s,o,{passive:m}):r.addEventListener(s,o,!1)}function bp(r,s,o,c,m){var y=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var x=c.stateNode.containerInfo;if(x===m)break;if(E===4)for(E=c.return;E!==null;){var z=E.tag;if((z===3||z===4)&&E.stateNode.containerInfo===m)return;E=E.return}for(;x!==null;){if(E=ei(x),E===null)return;if(z=E.tag,z===5||z===6||z===26||z===27){c=y=E;continue e}x=x.parentNode}}c=c.return}ds(function(){var W=y,se=vr(o),le=[];e:{var Z=Gv.get(r);if(Z!==void 0){var ee=oi,_e=r;switch(r){case"keypress":if(ma(o)===0)break e;case"keydown":case"keyup":ee=Bu;break;case"focusin":_e="focus",ee=ga;break;case"focusout":_e="blur",ee=ga;break;case"beforeblur":case"afterblur":ee=ga;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Gl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=b;break;case Bv:case Fv:case qv:ee=ku;break;case Hv:ee=I;break;case"scroll":case"scrollend":ee=Hl;break;case"wheel":ee=J;break;case"copy":case"cut":case"paste":ee=Pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Di;break;case"toggle":case"beforetoggle":ee=Ue}var Me=(s&4)!==0,pt=!Me&&(r==="scroll"||r==="scrollend"),K=Me?Z!==null?Z+"Capture":null:Z;Me=[];for(var B=W,X;B!==null;){var ae=B;if(X=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||X===null||K===null||(ae=Vr(B,K),ae!=null&&Me.push(Ec(B,ae,X))),pt)break;B=B.return}0<Me.length&&(Z=new ee(Z,_e,null,o,se),le.push({event:Z,listeners:Me}))}}if((s&7)===0){e:{if(Z=r==="mouseover"||r==="pointerover",ee=r==="mouseout"||r==="pointerout",Z&&o!==Bl&&(_e=o.relatedTarget||o.fromElement)&&(ei(_e)||_e[Zr]))break e;if((ee||Z)&&(Z=se.window===se?se:(Z=se.ownerDocument)?Z.defaultView||Z.parentWindow:window,ee?(_e=o.relatedTarget||o.toElement,ee=W,_e=_e?ei(_e):null,_e!==null&&(pt=l(_e),Me=_e.tag,_e!==pt||Me!==5&&Me!==27&&Me!==6)&&(_e=null)):(ee=null,_e=W),ee!==_e)){if(Me=Gl,ae="onMouseLeave",K="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(Me=Di,ae="onPointerLeave",K="onPointerEnter",B="pointer"),pt=ee==null?Z:tr(ee),X=_e==null?Z:tr(_e),Z=new Me(ae,B+"leave",ee,o,se),Z.target=pt,Z.relatedTarget=X,ae=null,ei(se)===W&&(Me=new Me(K,B+"enter",_e,o,se),Me.target=X,Me.relatedTarget=pt,ae=Me),pt=ae,ee&&_e)t:{for(Me=Ux,K=ee,B=_e,X=0,ae=K;ae;ae=Me(ae))X++;ae=0;for(var Re=B;Re;Re=Me(Re))ae++;for(;0<X-ae;)K=Me(K),X--;for(;0<ae-X;)B=Me(B),ae--;for(;X--;){if(K===B||B!==null&&K===B.alternate){Me=K;break t}K=Me(K),B=Me(B)}Me=null}else Me=null;ee!==null&&db(le,Z,ee,Me,!1),_e!==null&&pt!==null&&db(le,pt,_e,Me,!0)}}e:{if(Z=W?tr(W):window,ee=Z.nodeName&&Z.nodeName.toLowerCase(),ee==="select"||ee==="input"&&Z.type==="file")var et=Nv;else if(Cv(Z))if(Mv)et=QR;else{et=YR;var Te=KR}else ee=Z.nodeName,!ee||ee.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?W&&co(W.elementType)&&(et=Nv):et=$R;if(et&&(et=et(r,W))){Iv(le,et,o,se);break e}Te&&Te(r,Z,W),r==="focusout"&&W&&Z.type==="number"&&W.memoizedProps.value!=null&&Ul(Z,"number",Z.value)}switch(Te=W?tr(W):window,r){case"focusin":(Cv(Te)||Te.contentEditable==="true")&&(vo=Te,Qd=W,Xl=null);break;case"focusout":Xl=Qd=vo=null;break;case"mousedown":Xd=!0;break;case"contextmenu":case"mouseup":case"dragend":Xd=!1,zv(le,o,se);break;case"selectionchange":if(WR)break;case"keydown":case"keyup":zv(le,o,se)}var Be;if(nt)e:{switch(r){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else yo?ya(r,o)&&(Ye="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ye="onCompositionStart");Ye&&(ui&&o.locale!=="ko"&&(yo||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&yo&&(Be=ql()):(ai=se,Fl="value"in ai?ai.value:ai.textContent,yo=!0)),Te=Df(W,Ye),0<Te.length&&(Ye=new ci(Ye,r,null,o,se),le.push({event:Ye,listeners:Te}),Be?Ye.data=Be:(Be=go(o),Be!==null&&(Ye.data=Be)))),(Be=br?FR(r,o):qR(r,o))&&(Ye=Df(W,"onBeforeInput"),0<Ye.length&&(Te=new ci("onBeforeInput","beforeinput",null,o,se),le.push({event:Te,listeners:Ye}),Te.data=Be)),kx(le,r,W,o,se)}fb(le,s)})}function Ec(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Df(r,s){for(var o=s+"Capture",c=[];r!==null;){var m=r,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Vr(r,o),m!=null&&c.unshift(Ec(r,m,y)),m=Vr(r,s),m!=null&&c.push(Ec(r,m,y))),r.tag===3)return c;r=r.return}return[]}function Ux(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function db(r,s,o,c,m){for(var y=s._reactName,E=[];o!==null&&o!==c;){var x=o,z=x.alternate,W=x.stateNode;if(x=x.tag,z!==null&&z===c)break;x!==5&&x!==26&&x!==27||W===null||(z=W,m?(W=Vr(o,y),W!=null&&E.unshift(Ec(o,W,z))):m||(W=Vr(o,y),W!=null&&E.push(Ec(o,W,z)))),o=o.return}E.length!==0&&r.push({event:s,listeners:E})}var zx=/\r\n?/g,jx=/\u0000|\uFFFD/g;function mb(r){return(typeof r=="string"?r:""+r).replace(zx,`
`).replace(jx,"")}function pb(r,s){return s=mb(s),mb(r)===s}function mt(r,s,o,c,m,y){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Bn(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Bn(r,""+c);break;case"className":nr(r,"class",c);break;case"tabIndex":nr(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":nr(r,o,c);break;case"style":jl(r,c,y);break;case"data":if(s!=="object"){nr(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=uo(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(s!=="input"&&mt(r,s,"name",m.name,m,null),mt(r,s,"formEncType",m.formEncType,m,null),mt(r,s,"formMethod",m.formMethod,m,null),mt(r,s,"formTarget",m.formTarget,m,null)):(mt(r,s,"encType",m.encType,m,null),mt(r,s,"method",m.method,m,null),mt(r,s,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=uo(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=Lr);break;case"onScroll":c!=null&&Ge("scroll",r);break;case"onScrollEnd":c!=null&&Ge("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=uo(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":Ge("beforetoggle",r),Ge("toggle",r),oo(r,"popover",c);break;case"xlinkActuate":Ft(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Ft(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Ft(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Ft(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Ft(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Ft(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Ft(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Ft(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Ft(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":oo(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Mu.get(o)||o,oo(r,o,c))}}function Ep(r,s,o,c,m,y){switch(o){case"style":jl(r,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof c=="string"?Bn(r,c):(typeof c=="number"||typeof c=="bigint")&&Bn(r,""+c);break;case"onScroll":c!=null&&Ge("scroll",r);break;case"onScrollEnd":c!=null&&Ge("scrollend",r);break;case"onClick":c!=null&&(r.onclick=Lr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ol.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),s=o.slice(2,m?o.length-7:void 0),y=r[an]||null,y=y!=null?y[o]:null,typeof y=="function"&&r.removeEventListener(s,y,m),typeof c=="function")){typeof y!="function"&&y!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,c,m);break e}o in r?r[o]=c:c===!0?r.setAttribute(o,""):oo(r,o,c)}}}function vn(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",r),Ge("load",r);var c=!1,m=!1,y;for(y in o)if(o.hasOwnProperty(y)){var E=o[y];if(E!=null)switch(y){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:mt(r,s,y,E,o,null)}}m&&mt(r,s,"srcSet",o.srcSet,o,null),c&&mt(r,s,"src",o.src,o,null);return;case"input":Ge("invalid",r);var x=y=E=m=null,z=null,W=null;for(c in o)if(o.hasOwnProperty(c)){var se=o[c];if(se!=null)switch(c){case"name":m=se;break;case"type":E=se;break;case"checked":z=se;break;case"defaultChecked":W=se;break;case"value":y=se;break;case"defaultValue":x=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(i(137,s));break;default:mt(r,s,c,se,o,null)}}Cu(r,y,x,z,W,E,m,!1);return;case"select":Ge("invalid",r),c=E=y=null;for(m in o)if(o.hasOwnProperty(m)&&(x=o[m],x!=null))switch(m){case"value":y=x;break;case"defaultValue":E=x;break;case"multiple":c=x;default:mt(r,s,m,x,o,null)}s=y,o=E,r.multiple=!!c,s!=null?cs(r,!!c,s,!1):o!=null&&cs(r,!!c,o,!0);return;case"textarea":Ge("invalid",r),y=m=c=null;for(E in o)if(o.hasOwnProperty(E)&&(x=o[E],x!=null))switch(E){case"value":c=x;break;case"defaultValue":m=x;break;case"children":y=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(i(91));break;default:mt(r,s,E,x,o,null)}us(r,c,m,y);return;case"option":for(z in o)if(o.hasOwnProperty(z)&&(c=o[z],c!=null))switch(z){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:mt(r,s,z,c,o,null)}return;case"dialog":Ge("beforetoggle",r),Ge("toggle",r),Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":Ge("load",r);break;case"video":case"audio":for(c=0;c<bc.length;c++)Ge(bc[c],r);break;case"image":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"embed":case"source":case"link":Ge("error",r),Ge("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in o)if(o.hasOwnProperty(W)&&(c=o[W],c!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:mt(r,s,W,c,o,null)}return;default:if(co(s)){for(se in o)o.hasOwnProperty(se)&&(c=o[se],c!==void 0&&Ep(r,s,se,c,o,void 0));return}}for(x in o)o.hasOwnProperty(x)&&(c=o[x],c!=null&&mt(r,s,x,c,o,null))}function Bx(r,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,E=null,x=null,z=null,W=null,se=null;for(ee in o){var le=o[ee];if(o.hasOwnProperty(ee)&&le!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":z=le;default:c.hasOwnProperty(ee)||mt(r,s,ee,null,c,le)}}for(var Z in c){var ee=c[Z];if(le=o[Z],c.hasOwnProperty(Z)&&(ee!=null||le!=null))switch(Z){case"type":y=ee;break;case"name":m=ee;break;case"checked":W=ee;break;case"defaultChecked":se=ee;break;case"value":E=ee;break;case"defaultValue":x=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,s));break;default:ee!==le&&mt(r,s,Z,ee,c,le)}}lo(r,E,x,z,W,se,y,m);return;case"select":ee=E=x=Z=null;for(y in o)if(z=o[y],o.hasOwnProperty(y)&&z!=null)switch(y){case"value":break;case"multiple":ee=z;default:c.hasOwnProperty(y)||mt(r,s,y,null,c,z)}for(m in c)if(y=c[m],z=o[m],c.hasOwnProperty(m)&&(y!=null||z!=null))switch(m){case"value":Z=y;break;case"defaultValue":x=y;break;case"multiple":E=y;default:y!==z&&mt(r,s,m,y,c,z)}s=x,o=E,c=ee,Z!=null?cs(r,!!o,Z,!1):!!c!=!!o&&(s!=null?cs(r,!!o,s,!0):cs(r,!!o,o?[]:"",!1));return;case"textarea":ee=Z=null;for(x in o)if(m=o[x],o.hasOwnProperty(x)&&m!=null&&!c.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:mt(r,s,x,null,c,m)}for(E in c)if(m=c[E],y=o[E],c.hasOwnProperty(E)&&(m!=null||y!=null))switch(E){case"value":Z=m;break;case"defaultValue":ee=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==y&&mt(r,s,E,m,c,y)}Iu(r,Z,ee);return;case"option":for(var _e in o)if(Z=o[_e],o.hasOwnProperty(_e)&&Z!=null&&!c.hasOwnProperty(_e))switch(_e){case"selected":r.selected=!1;break;default:mt(r,s,_e,null,c,Z)}for(z in c)if(Z=c[z],ee=o[z],c.hasOwnProperty(z)&&Z!==ee&&(Z!=null||ee!=null))switch(z){case"selected":r.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:mt(r,s,z,Z,c,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in o)Z=o[Me],o.hasOwnProperty(Me)&&Z!=null&&!c.hasOwnProperty(Me)&&mt(r,s,Me,null,c,Z);for(W in c)if(Z=c[W],ee=o[W],c.hasOwnProperty(W)&&Z!==ee&&(Z!=null||ee!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,s));break;default:mt(r,s,W,Z,c,ee)}return;default:if(co(s)){for(var pt in o)Z=o[pt],o.hasOwnProperty(pt)&&Z!==void 0&&!c.hasOwnProperty(pt)&&Ep(r,s,pt,void 0,c,Z);for(se in c)Z=c[se],ee=o[se],!c.hasOwnProperty(se)||Z===ee||Z===void 0&&ee===void 0||Ep(r,s,se,Z,c,ee);return}}for(var K in o)Z=o[K],o.hasOwnProperty(K)&&Z!=null&&!c.hasOwnProperty(K)&&mt(r,s,K,null,c,Z);for(le in c)Z=c[le],ee=o[le],!c.hasOwnProperty(le)||Z===ee||Z==null&&ee==null||mt(r,s,le,Z,c,ee)}function gb(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Fx(){if(typeof performance.getEntriesByType=="function"){for(var r=0,s=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var m=o[c],y=m.transferSize,E=m.initiatorType,x=m.duration;if(y&&x&&gb(E)){for(E=0,x=m.responseEnd,c+=1;c<o.length;c++){var z=o[c],W=z.startTime;if(W>x)break;var se=z.transferSize,le=z.initiatorType;se&&gb(le)&&(z=z.responseEnd,E+=se*(z<x?1:(x-W)/(z-W)))}if(--c,s+=8*(y+E)/(m.duration/1e3),r++,10<r)break}}if(0<r)return s/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Sp=null,Tp=null;function Of(r){return r.nodeType===9?r:r.ownerDocument}function yb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vb(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function wp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ap=null;function qx(){var r=window.event;return r&&r.type==="popstate"?r===Ap?!1:(Ap=r,!0):(Ap=null,!1)}var _b=typeof setTimeout=="function"?setTimeout:void 0,Hx=typeof clearTimeout=="function"?clearTimeout:void 0,bb=typeof Promise=="function"?Promise:void 0,Gx=typeof queueMicrotask=="function"?queueMicrotask:typeof bb<"u"?function(r){return bb.resolve(null).then(r).catch(Kx)}:_b;function Kx(r){setTimeout(function(){throw r})}function Os(r){return r==="head"}function Eb(r,s){var o=s,c=0;do{var m=o.nextSibling;if(r.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(c===0){r.removeChild(m),Go(s);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Sc(r.ownerDocument.documentElement);else if(o==="head"){o=r.ownerDocument.head,Sc(o);for(var y=o.firstChild;y;){var E=y.nextSibling,x=y.nodeName;y[Jr]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=E}}else o==="body"&&Sc(r.ownerDocument.body);o=m}while(o);Go(s)}function Sb(r,s){var o=r;r=0;do{var c=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(r===0)break;r--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||r++;o=c}while(o)}function Rp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Rp(o),ao(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function Yx(r,s,o,c){for(;r.nodeType===1;){var m=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[Jr])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==m.rel||r.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||r.getAttribute("title")!==(m.title==null?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(m.src==null?null:m.src)||r.getAttribute("type")!==(m.type==null?null:m.type)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=xr(r.nextSibling),r===null)break}return null}function $x(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=xr(r.nextSibling),r===null))return null;return r}function Tb(r,s){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=xr(r.nextSibling),r===null))return null;return r}function xp(r){return r.data==="$?"||r.data==="$~"}function Cp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function Qx(r,s){var o=r.ownerDocument;if(r.data==="$~")r._reactRetry=s;else if(r.data!=="$?"||o.readyState!=="loading")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function xr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return r}var Ip=null;function wb(r){r=r.nextSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"||o==="/&"){if(s===0)return xr(r.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}r=r.nextSibling}return null}function Ab(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return r;s--}else o!=="/$"&&o!=="/&"||s++}r=r.previousSibling}return null}function Rb(r,s,o){switch(s=Of(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Sc(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);ao(r)}var Cr=new Map,xb=new Set;function kf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Yi=ie.d;ie.d={f:Xx,r:Wx,D:Zx,C:Jx,L:eC,m:tC,X:rC,S:nC,M:iC};function Xx(){var r=Yi.f(),s=Af();return r||s}function Wx(r){var s=yr(r);s!==null&&s.tag===5&&s.type==="form"?H_(s):Yi.r(r)}var Fo=typeof document>"u"?null:document;function Cb(r,s,o){var c=Fo;if(c&&typeof s=="string"&&s){var m=jn(s);m='link[rel="'+r+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),xb.has(m)||(xb.add(m),r={rel:r,crossOrigin:o,href:s},c.querySelector(m)===null&&(s=c.createElement("link"),vn(s,"link",r),Bt(s),c.head.appendChild(s)))}}function Zx(r){Yi.D(r),Cb("dns-prefetch",r,null)}function Jx(r,s){Yi.C(r,s),Cb("preconnect",r,s)}function eC(r,s,o){Yi.L(r,s,o);var c=Fo;if(c&&r&&s){var m='link[rel="preload"][as="'+jn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+jn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+jn(o.imageSizes)+'"]')):m+='[href="'+jn(r)+'"]';var y=m;switch(s){case"style":y=qo(r);break;case"script":y=Ho(r)}Cr.has(y)||(r=g({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),Cr.set(y,r),c.querySelector(m)!==null||s==="style"&&c.querySelector(Tc(y))||s==="script"&&c.querySelector(wc(y))||(s=c.createElement("link"),vn(s,"link",r),Bt(s),c.head.appendChild(s)))}}function tC(r,s){Yi.m(r,s);var o=Fo;if(o&&r){var c=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+jn(c)+'"][href="'+jn(r)+'"]',y=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Ho(r)}if(!Cr.has(y)&&(r=g({rel:"modulepreload",href:r},s),Cr.set(y,r),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(wc(y)))return}c=o.createElement("link"),vn(c,"link",r),Bt(c),o.head.appendChild(c)}}}function nC(r,s,o){Yi.S(r,s,o);var c=Fo;if(c&&r){var m=ti(c).hoistableStyles,y=qo(r);s=s||"default";var E=m.get(y);if(!E){var x={loading:0,preload:null};if(E=c.querySelector(Tc(y)))x.loading=5;else{r=g({rel:"stylesheet",href:r,"data-precedence":s},o),(o=Cr.get(y))&&Np(r,o);var z=E=c.createElement("link");Bt(z),vn(z,"link",r),z._p=new Promise(function(W,se){z.onload=W,z.onerror=se}),z.addEventListener("load",function(){x.loading|=1}),z.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Pf(E,s,c)}E={type:"stylesheet",instance:E,count:1,state:x},m.set(y,E)}}}function rC(r,s){Yi.X(r,s);var o=Fo;if(o&&r){var c=ti(o).hoistableScripts,m=Ho(r),y=c.get(m);y||(y=o.querySelector(wc(m)),y||(r=g({src:r,async:!0},s),(s=Cr.get(m))&&Mp(r,s),y=o.createElement("script"),Bt(y),vn(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function iC(r,s){Yi.M(r,s);var o=Fo;if(o&&r){var c=ti(o).hoistableScripts,m=Ho(r),y=c.get(m);y||(y=o.querySelector(wc(m)),y||(r=g({src:r,async:!0,type:"module"},s),(s=Cr.get(m))&&Mp(r,s),y=o.createElement("script"),Bt(y),vn(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function Ib(r,s,o,c){var m=(m=pe.current)?kf(m):null;if(!m)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=qo(o.href),o=ti(m).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=qo(o.href);var y=ti(m).hoistableStyles,E=y.get(r);if(E||(m=m.ownerDocument||m,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,E),(y=m.querySelector(Tc(r)))&&!y._p&&(E.instance=y,E.state.loading=5),Cr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Cr.set(r,o),y||sC(m,r,o,E.state))),s&&c===null)throw Error(i(528,""));return E}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ho(o),o=ti(m).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function qo(r){return'href="'+jn(r)+'"'}function Tc(r){return'link[rel="stylesheet"]['+r+"]"}function Nb(r){return g({},r,{"data-precedence":r.precedence,precedence:null})}function sC(r,s,o,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),vn(s,"link",o),Bt(s),r.head.appendChild(s))}function Ho(r){return'[src="'+jn(r)+'"]'}function wc(r){return"script[async]"+r}function Mb(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+jn(o.href)+'"]');if(c)return s.instance=c,Bt(c),c;var m=g({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),Bt(c),vn(c,"style",m),Pf(c,o.precedence,r),s.instance=c;case"stylesheet":m=qo(o.href);var y=r.querySelector(Tc(m));if(y)return s.state.loading|=4,s.instance=y,Bt(y),y;c=Nb(o),(m=Cr.get(m))&&Np(c,m),y=(r.ownerDocument||r).createElement("link"),Bt(y);var E=y;return E._p=new Promise(function(x,z){E.onload=x,E.onerror=z}),vn(y,"link",c),s.state.loading|=4,Pf(y,o.precedence,r),s.instance=y;case"script":return y=Ho(o.src),(m=r.querySelector(wc(y)))?(s.instance=m,Bt(m),m):(c=o,(m=Cr.get(y))&&(c=g({},o),Mp(c,m)),r=r.ownerDocument||r,m=r.createElement("script"),Bt(m),vn(m,"link",c),r.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Pf(c,o.precedence,r));return s.instance}function Pf(r,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,y=m,E=0;E<c.length;E++){var x=c[E];if(x.dataset.precedence===s)y=x;else if(y!==m)break}y?y.parentNode.insertBefore(r,y.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function Np(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Mp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Lf=null;function Db(r,s,o){if(Lf===null){var c=new Map,m=Lf=new Map;m.set(o,c)}else m=Lf,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),m=0;m<o.length;m++){var y=o[m];if(!(y[Jr]||y[jt]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(s)||"";E=r+E;var x=c.get(E);x?x.push(y):c.set(E,[y])}}return c}function Ob(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function aC(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function kb(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function oC(r,s,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=qo(c.href),y=s.querySelector(Tc(m));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(r.count++,r=Vf.bind(r),s.then(r,r)),o.state.loading|=4,o.instance=y,Bt(y);return}y=s.ownerDocument||s,c=Nb(c),(m=Cr.get(m))&&Np(c,m),y=y.createElement("link"),Bt(y);var E=y;E._p=new Promise(function(x,z){E.onload=x,E.onerror=z}),vn(y,"link",c),o.instance=y}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(r.count++,o=Vf.bind(r),s.addEventListener("load",o),s.addEventListener("error",o))}}var Dp=0;function lC(r,s){return r.stylesheets&&r.count===0&&zf(r,r.stylesheets),0<r.count||0<r.imgCount?function(o){var c=setTimeout(function(){if(r.stylesheets&&zf(r,r.stylesheets),r.unsuspend){var y=r.unsuspend;r.unsuspend=null,y()}},6e4+s);0<r.imgBytes&&Dp===0&&(Dp=62500*Fx());var m=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&zf(r,r.stylesheets),r.unsuspend)){var y=r.unsuspend;r.unsuspend=null,y()}},(r.imgBytes>Dp?50:800)+s);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function Vf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zf(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Uf=null;function zf(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Uf=new Map,s.forEach(cC,r),Uf=null,Vf.call(r))}function cC(r,s){if(!(s.state.loading&4)){var o=Uf.get(r);if(o)var c=o.get(null);else{o=new Map,Uf.set(r,o);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var E=m[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),c=E)}c&&o.set(null,c)}m=s.instance,E=m.getAttribute("data-precedence"),y=o.get(E)||c,y===c&&o.set(null,m),o.set(E,m),this.count++,c=Vf.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),y?y.parentNode.insertBefore(m,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(m,r.firstChild)),s.state.loading|=4}}var Ac={$$typeof:G,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function uC(r,s,o,c,m,y,E,x,z){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pn(0),this.hiddenUpdates=Pn(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function Pb(r,s,o,c,m,y,E,x,z,W,se,le){return r=new uC(r,s,o,E,z,W,se,le,x),s=1,y===!0&&(s|=24),y=ir(3,null,null,s),r.current=y,y.stateNode=r,s=fm(),s.refCount++,r.pooledCache=s,s.refCount++,y.memoizedState={element:c,isDehydrated:o,cache:s},pm(y),r}function Lb(r){return r?(r=Eo,r):Eo}function Vb(r,s,o,c,m,y){m=Lb(m),c.context===null?c.context=m:c.pendingContext=m,c=Ss(s),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=Ts(r,c,s),o!==null&&(Kn(o,r,s),rc(o,r,s))}function Ub(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Op(r,s){Ub(r,s),(r=r.alternate)&&Ub(r,s)}function zb(r){if(r.tag===13||r.tag===31){var s=ba(r,67108864);s!==null&&Kn(s,r,67108864),Op(r,67108864)}}function jb(r){if(r.tag===13||r.tag===31){var s=cr();s=Wr(s);var o=ba(r,s);o!==null&&Kn(o,r,s),Op(r,s)}}var jf=!0;function fC(r,s,o,c){var m=F.T;F.T=null;var y=ie.p;try{ie.p=2,kp(r,s,o,c)}finally{ie.p=y,F.T=m}}function hC(r,s,o,c){var m=F.T;F.T=null;var y=ie.p;try{ie.p=8,kp(r,s,o,c)}finally{ie.p=y,F.T=m}}function kp(r,s,o,c){if(jf){var m=Pp(c);if(m===null)bp(r,s,c,Bf,o),Fb(r,c);else if(mC(m,r,s,o,c))c.stopPropagation();else if(Fb(r,c),s&4&&-1<dC.indexOf(r)){for(;m!==null;){var y=yr(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=er(y.pendingLanes);if(E!==0){var x=y;for(x.pendingLanes|=2,x.entangledLanes|=2;E;){var z=1<<31-_t(E);x.entanglements[1]|=z,E&=~z}mi(y),(rt&6)===0&&(Tf=je()+500,_c(0))}}break;case 31:case 13:x=ba(y,2),x!==null&&Kn(x,y,2),Af(),Op(y,2)}if(y=Pp(c),y===null&&bp(r,s,c,Bf,o),y===m)break;m=y}m!==null&&c.stopPropagation()}else bp(r,s,c,null,o)}}function Pp(r){return r=vr(r),Lp(r)}var Bf=null;function Lp(r){if(Bf=null,r=ei(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=u(s),r!==null)return r;r=null}else if(o===31){if(r=h(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Bf=r,null}function Bb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gt()){case Jt:return 2;case Jn:return 8;case wn:case hr:return 32;case An:return 268435456;default:return 32}default:return 32}}var Vp=!1,ks=null,Ps=null,Ls=null,Rc=new Map,xc=new Map,Vs=[],dC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fb(r,s){switch(r){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":Rc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":xc.delete(s.pointerId)}}function Cc(r,s,o,c,m,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:y,targetContainers:[m]},s!==null&&(s=yr(s),s!==null&&zb(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),r)}function mC(r,s,o,c,m){switch(s){case"focusin":return ks=Cc(ks,r,s,o,c,m),!0;case"dragenter":return Ps=Cc(Ps,r,s,o,c,m),!0;case"mouseover":return Ls=Cc(Ls,r,s,o,c,m),!0;case"pointerover":var y=m.pointerId;return Rc.set(y,Cc(Rc.get(y)||null,r,s,o,c,m)),!0;case"gotpointercapture":return y=m.pointerId,xc.set(y,Cc(xc.get(y)||null,r,s,o,c,m)),!0}return!1}function qb(r){var s=ei(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){r.blockedOn=s,kr(r.priority,function(){jb(o)});return}}else if(s===31){if(s=h(o),s!==null){r.blockedOn=s,kr(r.priority,function(){jb(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ff(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Pp(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);Bl=c,o.target.dispatchEvent(c),Bl=null}else return s=yr(o),s!==null&&zb(s),r.blockedOn=o,!1;s.shift()}return!0}function Hb(r,s,o){Ff(r)&&o.delete(s)}function pC(){Vp=!1,ks!==null&&Ff(ks)&&(ks=null),Ps!==null&&Ff(Ps)&&(Ps=null),Ls!==null&&Ff(Ls)&&(Ls=null),Rc.forEach(Hb),xc.forEach(Hb)}function qf(r,s){r.blockedOn===s&&(r.blockedOn=null,Vp||(Vp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,pC)))}var Hf=null;function Gb(r){Hf!==r&&(Hf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Hf===r&&(Hf=null);for(var s=0;s<r.length;s+=3){var o=r[s],c=r[s+1],m=r[s+2];if(typeof c!="function"){if(Lp(c||o)===null)continue;break}var y=yr(o);y!==null&&(r.splice(s,3),s-=3,Pm(y,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function Go(r){function s(z){return qf(z,r)}ks!==null&&qf(ks,r),Ps!==null&&qf(Ps,r),Ls!==null&&qf(Ls,r),Rc.forEach(s),xc.forEach(s);for(var o=0;o<Vs.length;o++){var c=Vs[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<Vs.length&&(o=Vs[0],o.blockedOn===null);)qb(o),o.blockedOn===null&&Vs.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],y=o[c+1],E=m[an]||null;if(typeof y=="function")E||Gb(o);else if(E){var x=null;if(y&&y.hasAttribute("formAction")){if(m=y,E=y[an]||null)x=E.formAction;else if(Lp(m)!==null)continue}else x=E.action;typeof x=="function"?o[c+1]=x:(o.splice(c,3),c-=3),Gb(o)}}}function Kb(){function r(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(E){return m=E})},focusReset:"manual",scroll:"manual"})}function s(){m!==null&&(m(),m=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),m!==null&&(m(),m=null)}}}function Up(r){this._internalRoot=r}Gf.prototype.render=Up.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,c=cr();Vb(o,c,r,s,null,null)},Gf.prototype.unmount=Up.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Vb(r.current,2,null,r,null,null),Af(),s[Zr]=null}};function Gf(r){this._internalRoot=r}Gf.prototype.unstable_scheduleHydration=function(r){if(r){var s=Ml();r={blockedOn:null,target:r,priority:s};for(var o=0;o<Vs.length&&s!==0&&s<Vs[o].priority;o++);Vs.splice(o,0,r),o===0&&qb(r)}};var Yb=e.version;if(Yb!=="19.2.3")throw Error(i(527,Yb,"19.2.3"));ie.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=p(s),r=r!==null?v(r):null,r=r===null?null:r.stateNode,r};var gC={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kf.isDisabled&&Kf.supportsFiber)try{xn=Kf.inject(gC),Ot=Kf}catch{}}return Oc.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,c="",m=e0,y=t0,E=n0;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError)),s=Pb(r,1,!1,null,null,o,c,null,m,y,E,Kb),r[Zr]=s.current,_p(r),new Up(s)},Oc.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var c=!1,m="",y=e0,E=t0,x=n0,z=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(x=o.onRecoverableError),o.formState!==void 0&&(z=o.formState)),s=Pb(r,1,!0,s,o??null,c,m,z,y,E,x,Kb),s.context=Lb(null),o=s.current,c=cr(),c=Wr(c),m=Ss(c),m.callback=null,Ts(o,m,c),o=c,s.current.lanes=o,Tt(s,o),mi(s),r[Zr]=s.current,_p(r),new Gf(s)},Oc.version="19.2.3",Oc}var SE;function f2(){if(SE)return tg.exports;SE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),tg.exports=u2(),tg.exports}var h2=f2(),ig={},kc={},TE;function d2(){if(TE)return kc;TE=1,Object.defineProperty(kc,"__esModule",{value:!0}),kc.makeNoise2D=void 0;var n=(3-Math.sqrt(3))/6,e=[[1,1],[-1,1],[1,-1],[-1,-1],[1,0],[-1,0],[1,0],[-1,0],[0,1],[0,-1],[0,1],[0,-1]];function t(i){i===void 0&&(i=Math.random);for(var a=new Uint8Array(256),l=0;l<256;l++)a[l]=l;for(var u,h,l=255;l>0;l--)u=Math.floor((l+1)*i()),h=a[l],a[l]=a[u],a[u]=h;for(var f=new Uint8Array(512),p=new Uint8Array(512),l=0;l<512;l++)f[l]=a[l&255],p[l]=f[l]%12;return function(v,g){var _=(v+g)*.5*(Math.sqrt(3)-1),S=Math.floor(v+_),R=Math.floor(g+_),M=(S+R)*n,k=S-M,V=R-M,H=v-k,G=g-V,Y=H>G?1:0,$=H>G?0:1,q=H-Y+n,A=G-$+n,w=H-1+2*n,C=G-1+2*n,D=S&255,N=R&255,U=e[p[D+f[N]]],O=e[p[D+Y+f[N+$]]],ye=e[p[D+1+f[N+1]]],Se=.5-H*H-G*G,F=Se<0?0:Math.pow(Se,4)*(U[0]*H+U[1]*G),ie=.5-q*q-A*A,re=ie<0?0:Math.pow(ie,4)*(O[0]*q+O[1]*A),we=.5-w*w-C*C,Ce=we<0?0:Math.pow(we,4)*(ye[0]*w+ye[1]*C);return 70.14805770653952*(F+re+Ce)}}return kc.makeNoise2D=t,kc}var Pc={},wE;function m2(){if(wE)return Pc;wE=1,Object.defineProperty(Pc,"__esModule",{value:!0}),Pc.makeNoise3D=void 0;var n=1/6,e=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,-1],[0,1,-1],[0,-1,-1]];function t(i){i===void 0&&(i=Math.random);for(var a=new Uint8Array(256),l=0;l<256;l++)a[l]=l;for(var u,h,l=255;l>0;l--)u=Math.floor((l+1)*i()),h=a[l],a[l]=a[u],a[u]=h;for(var f=new Uint8Array(512),p=new Uint8Array(512),l=0;l<512;l++)f[l]=a[l&255],p[l]=f[l]%12;return function(v,g,_){var S=(v+g+_)/3,R=Math.floor(v+S),M=Math.floor(g+S),k=Math.floor(_+S),V=(R+M+k)*n,H=R-V,G=M-V,Y=k-V,$=v-H,q=g-G,A=_-Y,w,C,D,N,U,O;$>=q?q>=A?(w=N=U=1,C=D=O=0):$>=A?(w=N=O=1,C=D=U=0):(D=N=O=1,w=C=U=0):q<A?(D=U=O=1,w=C=N=0):$<A?(C=U=O=1,w=D=N=0):(C=N=U=1,w=D=O=0);var ye=$-w+n,Se=q-C+n,F=A-D+n,ie=$-N+2*n,re=q-U+2*n,we=A-O+2*n,Ce=$-1+3*n,j=q-1+3*n,ne=A-1+3*n,te=R&255,ce=M&255,fe=k&255,pe=e[p[te+f[ce+f[fe]]]],me=e[p[te+w+f[ce+C+f[fe+D]]]],Ae=e[p[te+N+f[ce+U+f[fe+O]]]],Ne=e[p[te+1+f[ce+1+f[fe+1]]]],ft=.5-$*$-q*q-A*A,Et=ft<0?0:Math.pow(ft,4)*(pe[0]*$+pe[1]*q+pe[2]*A),Je=.5-ye*ye-Se*Se-F*F,Sn=Je<0?0:Math.pow(Je,4)*(me[0]*ye+me[1]*Se+me[2]*F),It=.5-ie*ie-re*re-we*we,Tn=It<0?0:Math.pow(It,4)*(Ae[0]*ie+Ae[1]*re+Ae[2]*we),Wt=.5-Ce*Ce-j*j-ne*ne,Zt=Wt<0?0:Math.pow(Wt,4)*(Ne[0]*Ce+Ne[1]*j+Ne[2]*ne);return 94.68493150681972*(Et+Sn+Tn+Zt)}}return Pc.makeNoise3D=t,Pc}var Lc={},AE;function p2(){if(AE)return Lc;AE=1,Object.defineProperty(Lc,"__esModule",{value:!0}),Lc.makeNoise4D=void 0;var n=(5-Math.sqrt(5))/20,e=[[0,1,1,1],[0,1,1,-1],[0,1,-1,1],[0,1,-1,-1],[0,-1,1,1],[0,-1,1,-1],[0,-1,-1,1],[0,-1,-1,-1],[1,0,1,1],[1,0,1,-1],[1,0,-1,1],[1,0,-1,-1],[-1,0,1,1],[-1,0,1,-1],[-1,0,-1,1],[-1,0,-1,-1],[1,1,0,1],[1,1,0,-1],[1,-1,0,1],[1,-1,0,-1],[-1,1,0,1],[-1,1,0,-1],[-1,-1,0,1],[-1,-1,0,-1],[1,1,1,0],[1,1,-1,0],[1,-1,1,0],[1,-1,-1,0],[-1,1,1,0],[-1,1,-1,0],[-1,-1,1,0],[-1,-1,-1,0]];function t(i){i===void 0&&(i=Math.random);for(var a=new Uint8Array(256),l=0;l<256;l++)a[l]=l;for(var u,h,l=255;l>0;l--)u=Math.floor((l+1)*i()),h=a[l],a[l]=a[u],a[u]=h;for(var f=new Uint8Array(512),p=new Uint8Array(512),l=0;l<512;l++)f[l]=a[l&255],p[l]=f[l]%12;return function(v,g,_,S){var R=(v+g+_+S)*(Math.sqrt(5)-1)/4,M=Math.floor(v+R),k=Math.floor(g+R),V=Math.floor(_+R),H=Math.floor(S+R),G=(M+k+V+H)*n,Y=M-G,$=k-G,q=V-G,A=H-G,w=v-Y,C=g-$,D=_-q,N=S-A,U=0,O=0,ye=0,Se=0;w>C?U++:O++,w>D?U++:ye++,w>N?U++:Se++,C>D?O++:ye++,C>N?O++:Se++,D>N?ye++:Se++;var F=U>=3?1:0,ie=O>=3?1:0,re=ye>=3?1:0,we=Se>=3?1:0,Ce=U>=2?1:0,j=O>=2?1:0,ne=ye>=2?1:0,te=Se>=2?1:0,ce=U>=1?1:0,fe=O>=1?1:0,pe=ye>=1?1:0,me=Se>=1?1:0,Ae=w-F+n,Ne=C-ie+n,ft=D-re+n,Et=N-we+n,Je=w-Ce+2*n,Sn=C-j+2*n,It=D-ne+2*n,Tn=N-te+2*n,Wt=w-ce+3*n,Zt=C-fe+3*n,Un=D-pe+3*n,Fe=N-me+3*n,it=w-1+4*n,un=C-1+4*n,Rt=D-1+4*n,Pe=N-1+4*n,je=M&255,gt=k&255,Jt=V&255,Jn=H&255,wn=e[f[je+f[gt+f[Jt+f[Jn]]]]%32],hr=e[f[je+F+f[gt+ie+f[Jt+re+f[Jn+we]]]]%32],An=e[f[je+Ce+f[gt+j+f[Jt+ne+f[Jn+te]]]]%32],dr=e[f[je+ce+f[gt+fe+f[Jt+pe+f[Jn+me]]]]%32],Rn=e[f[je+1+f[gt+1+f[Jt+1+f[Jn+1]]]]%32],xn=.5-w*w-C*C-D*D-N*N,Ot=xn<0?0:Math.pow(xn,4)*(wn[0]*w+wn[1]*C+wn[2]*D+wn[3]*N),rn=.5-Ae*Ae-Ne*Ne-ft*ft-Et*Et,_t=rn<0?0:Math.pow(rn,4)*(hr[0]*Ae+hr[1]*Ne+hr[2]*ft+hr[3]*Et),Ii=.5-Je*Je-Sn*Sn-It*It-Tn*Tn,mr=Ii<0?0:Math.pow(Ii,4)*(An[0]*Je+An[1]*Sn+An[2]*It+An[3]*Tn),Cn=.5-Wt*Wt-Zt*Zt-Un*Un-Fe*Fe,zn=Cn<0?0:Math.pow(Cn,4)*(dr[0]*Wt+dr[1]*Zt+dr[2]*Un+dr[3]*Fe),pr=.5-it*it-un*un-Rt*Rt-Pe*Pe,St=pr<0?0:Math.pow(pr,4)*(Rn[0]*it+Rn[1]*un+Rn[2]*Rt+Rn[3]*Pe);return 72.37855765153665*(Ot+_t+mr+zn+St)}}return Lc.makeNoise4D=t,Lc}var RE;function g2(){return RE||(RE=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.makeNoise4D=n.makeNoise3D=n.makeNoise2D=void 0;var e=d2();Object.defineProperty(n,"makeNoise2D",{enumerable:!0,get:function(){return e.makeNoise2D}});var t=m2();Object.defineProperty(n,"makeNoise3D",{enumerable:!0,get:function(){return t.makeNoise3D}});var i=p2();Object.defineProperty(n,"makeNoise4D",{enumerable:!0,get:function(){return i.makeNoise4D}})})(ig)),ig}var y2=g2();const Zf={},nl={loadImages(n){for(const e in Zf)delete Zf[e];for(const[e,t]of Object.entries(n)){const i=new Image;i.src=t,Zf[e]=i}},get(n){return Zf[n]??null}},oT=L.createContext(void 0),wy=()=>{const n=L.use(oT);if(!n)throw new Error("useSettings must be used within a SettingsProvider");return n};function v2(){const{settings:n}=wy(),e=L.useRef(null),t=L.useRef(y2.makeNoise2D(()=>Math.random())),i=64;return L.useEffect(()=>{const a=e.current;if(!a)return;const l=a.getContext("2d");if(!l)return;const u=()=>{a.width=window.innerWidth,a.height=window.innerHeight};window.addEventListener("resize",u),u();let h;const f=()=>{l.resetTransform(),l.fillStyle="#4AC0FD",l.fillRect(0,0,a.width,a.height);const p=performance.now()/1e3;if(n.classicBackground){const v=Math.floor(p*i)%i,g=Math.floor(p*i)%i,_=Math.ceil(a.width/i)+2,S=Math.ceil(a.height/i)+2;for(let R=0;R<_;R++)for(let M=0;M<S;M++)l.fillStyle=(R+M)%2===0?"#AAD650":"#A2D048",l.fillRect(R*i-v,M*i-g,i,i)}else{l.scale(i,i),l.translate(-p,0);for(let v=Math.floor(p);v<p+Math.ceil(a.width/i);v++){const _=(t.current(v/15,0)*.5+.5)*5;for(let S=1;S<=_+1;S++)l.fillStyle=(v+S)%2===0?"#AAD650":"#A2D048",l.fillRect(v,a.height/i-S,1.01,1);if(t.current(v,v*3.32)<-.6){const S=nl.get("flag_floor");if(S){const R=a.height/i-Math.floor(_)-2;l.drawImage(S,v,R,1,1)}}}}h=requestAnimationFrame(f)};return f(),()=>{window.removeEventListener("resize",u),cancelAnimationFrame(h)}},[n.classicBackground]),P.jsx("canvas",{ref:e,className:"absolute inset-0 -z-10"})}/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),b2=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),xE=n=>{const e=b2(n);return e.charAt(0).toUpperCase()+e.slice(1)},lT=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),E2=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var S2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=L.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:u,...h},f)=>L.createElement("svg",{ref:f,...S2,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:lT("lucide",a),...!l&&!E2(h)&&{"aria-hidden":"true"},...h},[...u.map(([p,v])=>L.createElement(p,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=(n,e)=>{const t=L.forwardRef(({className:i,...a},l)=>L.createElement(T2,{ref:l,iconNode:e,className:lT(`lucide-${_2(xE(n))}`,`lucide-${n}`,i),...a}));return t.displayName=xE(n),t};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],A2=Wn("check",w2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],x2=Wn("circle-check",R2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],I2=Wn("copy",C2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],M2=Wn("house",N2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],O2=Wn("info",D2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],P2=Wn("loader-circle",k2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],V2=Wn("log-in",L2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],z2=Wn("log-out",U2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=[["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M2.586 16.726A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2h6.624a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586z",key:"2d38gg"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],B2=Wn("octagon-x",j2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],q2=Wn("save",F2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],G2=Wn("triangle-alert",H2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Y2=Wn("x",K2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Q2=Wn("zoom-in",$2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],W2=Wn("zoom-out",X2);var Z2=(n,e,t,i,a,l,u,h)=>{let f=document.documentElement,p=["light","dark"];function v(S){(Array.isArray(n)?n:[n]).forEach(R=>{let M=R==="class",k=M&&l?a.map(V=>l[V]||V):a;M?(f.classList.remove(...k),f.classList.add(l&&l[S]?l[S]:S)):f.setAttribute(R,S)}),g(S)}function g(S){h&&p.includes(S)&&(f.style.colorScheme=S)}function _(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(i)v(i);else try{let S=localStorage.getItem(e)||t,R=u&&S==="system"?_():S;v(R)}catch{}},J2=L.createContext(void 0),eN={setTheme:n=>{},themes:[]},tN=()=>{var n;return(n=L.useContext(J2))!=null?n:eN};L.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:i,enableColorScheme:a,defaultTheme:l,value:u,themes:h,nonce:f,scriptProps:p})=>{let v=JSON.stringify([t,e,l,n,h,u,i,a]).slice(1,-1);return L.createElement("script",{...p,suppressHydrationWarning:!0,nonce:typeof window>"u"?f:"",dangerouslySetInnerHTML:{__html:`(${Z2.toString()})(${v})`}})});function nN(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}const rN=n=>{switch(n){case"success":return aN;case"info":return lN;case"warning":return oN;case"error":return cN;default:return null}},iN=Array(12).fill(0),sN=({visible:n,className:e})=>he.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},he.createElement("div",{className:"sonner-spinner"},iN.map((t,i)=>he.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),aN=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),oN=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),lN=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),cN=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),uN=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},he.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),he.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),fN=()=>{const[n,e]=he.useState(document.hidden);return he.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n};let kg=1;class hN{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:i,...a}=e,l=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:kg++,u=this.toasts.find(f=>f.id===l),h=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),u?this.toasts=this.toasts.map(f=>f.id===l?(this.publish({...f,...e,id:l,title:i}),{...f,...e,id:l,dismissible:h,title:i}):f):this.addToast({title:i,...a,dismissible:h,id:l}),l},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(i=>i({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let i;t.loading!==void 0&&(i=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const a=Promise.resolve(e instanceof Function?e():e);let l=i!==void 0,u;const h=a.then(async p=>{if(u=["resolve",p],he.isValidElement(p))l=!1,this.create({id:i,type:"default",message:p});else if(mN(p)&&!p.ok){l=!1;const g=typeof t.error=="function"?await t.error(`HTTP error! status: ${p.status}`):t.error,_=typeof t.description=="function"?await t.description(`HTTP error! status: ${p.status}`):t.description,R=typeof g=="object"&&!he.isValidElement(g)?g:{message:g};this.create({id:i,type:"error",description:_,...R})}else if(p instanceof Error){l=!1;const g=typeof t.error=="function"?await t.error(p):t.error,_=typeof t.description=="function"?await t.description(p):t.description,R=typeof g=="object"&&!he.isValidElement(g)?g:{message:g};this.create({id:i,type:"error",description:_,...R})}else if(t.success!==void 0){l=!1;const g=typeof t.success=="function"?await t.success(p):t.success,_=typeof t.description=="function"?await t.description(p):t.description,R=typeof g=="object"&&!he.isValidElement(g)?g:{message:g};this.create({id:i,type:"success",description:_,...R})}}).catch(async p=>{if(u=["reject",p],t.error!==void 0){l=!1;const v=typeof t.error=="function"?await t.error(p):t.error,g=typeof t.description=="function"?await t.description(p):t.description,S=typeof v=="object"&&!he.isValidElement(v)?v:{message:v};this.create({id:i,type:"error",description:g,...S})}}).finally(()=>{l&&(this.dismiss(i),i=void 0),t.finally==null||t.finally.call(t)}),f=()=>new Promise((p,v)=>h.then(()=>u[0]==="reject"?v(u[1]):p(u[1])).catch(v));return typeof i!="string"&&typeof i!="number"?{unwrap:f}:Object.assign(i,{unwrap:f})},this.custom=(e,t)=>{const i=(t==null?void 0:t.id)||kg++;return this.create({jsx:e(i),id:i,...t}),i},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Yn=new hN,dN=(n,e)=>{const t=(e==null?void 0:e.id)||kg++;return Yn.addToast({title:n,...e,id:t}),t},mN=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",pN=dN,gN=()=>Yn.toasts,yN=()=>Yn.getActiveToasts(),Xi=Object.assign(pN,{success:Yn.success,info:Yn.info,warning:Yn.warning,error:Yn.error,custom:Yn.custom,message:Yn.message,promise:Yn.promise,dismiss:Yn.dismiss,loading:Yn.loading},{getHistory:gN,getToasts:yN});nN("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Jf(n){return n.label!==void 0}const vN=3,_N="24px",bN="16px",CE=4e3,EN=356,SN=14,TN=45,wN=200;function pi(...n){return n.filter(Boolean).join(" ")}function AN(n){const[e,t]=n.split("-"),i=[];return e&&i.push(e),t&&i.push(t),i}const RN=n=>{var e,t,i,a,l,u,h,f,p;const{invert:v,toast:g,unstyled:_,interacting:S,setHeights:R,visibleToasts:M,heights:k,index:V,toasts:H,expanded:G,removeToast:Y,defaultRichColors:$,closeButton:q,style:A,cancelButtonStyle:w,actionButtonStyle:C,className:D="",descriptionClassName:N="",duration:U,position:O,gap:ye,expandByDefault:Se,classNames:F,icons:ie,closeButtonAriaLabel:re="Close toast"}=n,[we,Ce]=he.useState(null),[j,ne]=he.useState(null),[te,ce]=he.useState(!1),[fe,pe]=he.useState(!1),[me,Ae]=he.useState(!1),[Ne,ft]=he.useState(!1),[Et,Je]=he.useState(!1),[Sn,It]=he.useState(0),[Tn,Wt]=he.useState(0),Zt=he.useRef(g.duration||U||CE),Un=he.useRef(null),Fe=he.useRef(null),it=V===0,un=V+1<=M,Rt=g.type,Pe=g.dismissible!==!1,je=g.className||"",gt=g.descriptionClassName||"",Jt=he.useMemo(()=>k.findIndex(Ie=>Ie.toastId===g.id)||0,[k,g.id]),Jn=he.useMemo(()=>{var Ie;return(Ie=g.closeButton)!=null?Ie:q},[g.closeButton,q]),wn=he.useMemo(()=>g.duration||U||CE,[g.duration,U]),hr=he.useRef(0),An=he.useRef(0),dr=he.useRef(0),Rn=he.useRef(null),[xn,Ot]=O.split("-"),rn=he.useMemo(()=>k.reduce((Ie,st,zt)=>zt>=Jt?Ie:Ie+st.height,0),[k,Jt]),_t=fN(),Ii=g.invert||v,mr=Rt==="loading";An.current=he.useMemo(()=>Jt*ye+rn,[Jt,rn]),he.useEffect(()=>{Zt.current=wn},[wn]),he.useEffect(()=>{ce(!0)},[]),he.useEffect(()=>{const Ie=Fe.current;if(Ie){const st=Ie.getBoundingClientRect().height;return Wt(st),R(zt=>[{toastId:g.id,height:st,position:g.position},...zt]),()=>R(zt=>zt.filter(sn=>sn.toastId!==g.id))}},[R,g.id]),he.useLayoutEffect(()=>{if(!te)return;const Ie=Fe.current,st=Ie.style.height;Ie.style.height="auto";const zt=Ie.getBoundingClientRect().height;Ie.style.height=st,Wt(zt),R(sn=>sn.find(Tt=>Tt.toastId===g.id)?sn.map(Tt=>Tt.toastId===g.id?{...Tt,height:zt}:Tt):[{toastId:g.id,height:zt,position:g.position},...sn])},[te,g.title,g.description,R,g.id,g.jsx,g.action,g.cancel]);const Cn=he.useCallback(()=>{pe(!0),It(An.current),R(Ie=>Ie.filter(st=>st.toastId!==g.id)),setTimeout(()=>{Y(g)},wN)},[g,Y,R,An]);he.useEffect(()=>{if(g.promise&&Rt==="loading"||g.duration===1/0||g.type==="loading")return;let Ie;return G||S||_t?(()=>{if(dr.current<hr.current){const sn=new Date().getTime()-hr.current;Zt.current=Zt.current-sn}dr.current=new Date().getTime()})():(()=>{Zt.current!==1/0&&(hr.current=new Date().getTime(),Ie=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),Cn()},Zt.current))})(),()=>clearTimeout(Ie)},[G,S,g,Rt,_t,Cn]),he.useEffect(()=>{g.delete&&(Cn(),g.onDismiss==null||g.onDismiss.call(g,g))},[Cn,g.delete]);function zn(){var Ie;if(ie!=null&&ie.loading){var st;return he.createElement("div",{className:pi(F==null?void 0:F.loader,g==null||(st=g.classNames)==null?void 0:st.loader,"sonner-loader"),"data-visible":Rt==="loading"},ie.loading)}return he.createElement(sN,{className:pi(F==null?void 0:F.loader,g==null||(Ie=g.classNames)==null?void 0:Ie.loader),visible:Rt==="loading"})}const pr=g.icon||(ie==null?void 0:ie[Rt])||rN(Rt);var St,er;return he.createElement("li",{tabIndex:0,ref:Fe,className:pi(D,je,F==null?void 0:F.toast,g==null||(e=g.classNames)==null?void 0:e.toast,F==null?void 0:F.default,F==null?void 0:F[Rt],g==null||(t=g.classNames)==null?void 0:t[Rt]),"data-sonner-toast":"","data-rich-colors":(St=g.richColors)!=null?St:$,"data-styled":!(g.jsx||g.unstyled||_),"data-mounted":te,"data-promise":!!g.promise,"data-swiped":Et,"data-removed":fe,"data-visible":un,"data-y-position":xn,"data-x-position":Ot,"data-index":V,"data-front":it,"data-swiping":me,"data-dismissible":Pe,"data-type":Rt,"data-invert":Ii,"data-swipe-out":Ne,"data-swipe-direction":j,"data-expanded":!!(G||Se&&te),"data-testid":g.testId,style:{"--index":V,"--toasts-before":V,"--z-index":H.length-V,"--offset":`${fe?Sn:An.current}px`,"--initial-height":Se?"auto":`${Tn}px`,...A,...g.style},onDragEnd:()=>{Ae(!1),Ce(null),Rn.current=null},onPointerDown:Ie=>{Ie.button!==2&&(mr||!Pe||(Un.current=new Date,It(An.current),Ie.target.setPointerCapture(Ie.pointerId),Ie.target.tagName!=="BUTTON"&&(Ae(!0),Rn.current={x:Ie.clientX,y:Ie.clientY})))},onPointerUp:()=>{var Ie,st,zt;if(Ne||!Pe)return;Rn.current=null;const sn=Number(((Ie=Fe.current)==null?void 0:Ie.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Pn=Number(((st=Fe.current)==null?void 0:st.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Tt=new Date().getTime()-((zt=Un.current)==null?void 0:zt.getTime()),In=we==="x"?sn:Pn,gr=Math.abs(In)/Tt;if(Math.abs(In)>=TN||gr>.11){It(An.current),g.onDismiss==null||g.onDismiss.call(g,g),ne(we==="x"?sn>0?"right":"left":Pn>0?"down":"up"),Cn(),ft(!0);return}else{var fn,hn;(fn=Fe.current)==null||fn.style.setProperty("--swipe-amount-x","0px"),(hn=Fe.current)==null||hn.style.setProperty("--swipe-amount-y","0px")}Je(!1),Ae(!1),Ce(null)},onPointerMove:Ie=>{var st,zt,sn;if(!Rn.current||!Pe||((st=window.getSelection())==null?void 0:st.toString().length)>0)return;const Tt=Ie.clientY-Rn.current.y,In=Ie.clientX-Rn.current.x;var gr;const fn=(gr=n.swipeDirections)!=null?gr:AN(O);!we&&(Math.abs(In)>1||Math.abs(Tt)>1)&&Ce(Math.abs(In)>Math.abs(Tt)?"x":"y");let hn={x:0,y:0};const Wr=dn=>1/(1.5+Math.abs(dn)/20);if(we==="y"){if(fn.includes("top")||fn.includes("bottom"))if(fn.includes("top")&&Tt<0||fn.includes("bottom")&&Tt>0)hn.y=Tt;else{const dn=Tt*Wr(Tt);hn.y=Math.abs(dn)<Math.abs(Tt)?dn:Tt}}else if(we==="x"&&(fn.includes("left")||fn.includes("right")))if(fn.includes("left")&&In<0||fn.includes("right")&&In>0)hn.x=In;else{const dn=In*Wr(In);hn.x=Math.abs(dn)<Math.abs(In)?dn:In}(Math.abs(hn.x)>0||Math.abs(hn.y)>0)&&Je(!0),(zt=Fe.current)==null||zt.style.setProperty("--swipe-amount-x",`${hn.x}px`),(sn=Fe.current)==null||sn.style.setProperty("--swipe-amount-y",`${hn.y}px`)}},Jn&&!g.jsx&&Rt!=="loading"?he.createElement("button",{"aria-label":re,"data-disabled":mr,"data-close-button":!0,onClick:mr||!Pe?()=>{}:()=>{Cn(),g.onDismiss==null||g.onDismiss.call(g,g)},className:pi(F==null?void 0:F.closeButton,g==null||(i=g.classNames)==null?void 0:i.closeButton)},(er=ie==null?void 0:ie.close)!=null?er:uN):null,(Rt||g.icon||g.promise)&&g.icon!==null&&((ie==null?void 0:ie[Rt])!==null||g.icon)?he.createElement("div",{"data-icon":"",className:pi(F==null?void 0:F.icon,g==null||(a=g.classNames)==null?void 0:a.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||zn():null,g.type!=="loading"?pr:null):null,he.createElement("div",{"data-content":"",className:pi(F==null?void 0:F.content,g==null||(l=g.classNames)==null?void 0:l.content)},he.createElement("div",{"data-title":"",className:pi(F==null?void 0:F.title,g==null||(u=g.classNames)==null?void 0:u.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?he.createElement("div",{"data-description":"",className:pi(N,gt,F==null?void 0:F.description,g==null||(h=g.classNames)==null?void 0:h.description)},typeof g.description=="function"?g.description():g.description):null),he.isValidElement(g.cancel)?g.cancel:g.cancel&&Jf(g.cancel)?he.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||w,onClick:Ie=>{Jf(g.cancel)&&Pe&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,Ie),Cn())},className:pi(F==null?void 0:F.cancelButton,g==null||(f=g.classNames)==null?void 0:f.cancelButton)},g.cancel.label):null,he.isValidElement(g.action)?g.action:g.action&&Jf(g.action)?he.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||C,onClick:Ie=>{Jf(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,Ie),!Ie.defaultPrevented&&Cn())},className:pi(F==null?void 0:F.actionButton,g==null||(p=g.classNames)==null?void 0:p.actionButton)},g.action.label):null)};function IE(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function xN(n,e){const t={};return[n,e].forEach((i,a)=>{const l=a===1,u=l?"--mobile-offset":"--offset",h=l?bN:_N;function f(p){["top","right","bottom","left"].forEach(v=>{t[`${u}-${v}`]=typeof p=="number"?`${p}px`:p})}typeof i=="number"||typeof i=="string"?f(i):typeof i=="object"?["top","right","bottom","left"].forEach(p=>{i[p]===void 0?t[`${u}-${p}`]=h:t[`${u}-${p}`]=typeof i[p]=="number"?`${i[p]}px`:i[p]}):f(h)}),t}const CN=he.forwardRef(function(e,t){const{id:i,invert:a,position:l="bottom-right",hotkey:u=["altKey","KeyT"],expand:h,closeButton:f,className:p,offset:v,mobileOffset:g,theme:_="light",richColors:S,duration:R,style:M,visibleToasts:k=vN,toastOptions:V,dir:H=IE(),gap:G=SN,icons:Y,containerAriaLabel:$="Notifications"}=e,[q,A]=he.useState([]),w=he.useMemo(()=>i?q.filter(te=>te.toasterId===i):q.filter(te=>!te.toasterId),[q,i]),C=he.useMemo(()=>Array.from(new Set([l].concat(w.filter(te=>te.position).map(te=>te.position)))),[w,l]),[D,N]=he.useState([]),[U,O]=he.useState(!1),[ye,Se]=he.useState(!1),[F,ie]=he.useState(_!=="system"?_:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),re=he.useRef(null),we=u.join("+").replace(/Key/g,"").replace(/Digit/g,""),Ce=he.useRef(null),j=he.useRef(!1),ne=he.useCallback(te=>{A(ce=>{var fe;return(fe=ce.find(pe=>pe.id===te.id))!=null&&fe.delete||Yn.dismiss(te.id),ce.filter(({id:pe})=>pe!==te.id)})},[]);return he.useEffect(()=>Yn.subscribe(te=>{if(te.dismiss){requestAnimationFrame(()=>{A(ce=>ce.map(fe=>fe.id===te.id?{...fe,delete:!0}:fe))});return}setTimeout(()=>{rT.flushSync(()=>{A(ce=>{const fe=ce.findIndex(pe=>pe.id===te.id);return fe!==-1?[...ce.slice(0,fe),{...ce[fe],...te},...ce.slice(fe+1)]:[te,...ce]})})})}),[q]),he.useEffect(()=>{if(_!=="system"){ie(_);return}if(_==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ie("dark"):ie("light")),typeof window>"u")return;const te=window.matchMedia("(prefers-color-scheme: dark)");try{te.addEventListener("change",({matches:ce})=>{ie(ce?"dark":"light")})}catch{te.addListener(({matches:fe})=>{try{ie(fe?"dark":"light")}catch(pe){console.error(pe)}})}},[_]),he.useEffect(()=>{q.length<=1&&O(!1)},[q]),he.useEffect(()=>{const te=ce=>{var fe;if(u.every(Ae=>ce[Ae]||ce.code===Ae)){var me;O(!0),(me=re.current)==null||me.focus()}ce.code==="Escape"&&(document.activeElement===re.current||(fe=re.current)!=null&&fe.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",te),()=>document.removeEventListener("keydown",te)},[u]),he.useEffect(()=>{if(re.current)return()=>{Ce.current&&(Ce.current.focus({preventScroll:!0}),Ce.current=null,j.current=!1)}},[re.current]),he.createElement("section",{ref:t,"aria-label":`${$} ${we}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((te,ce)=>{var fe;const[pe,me]=te.split("-");return w.length?he.createElement("ol",{key:te,dir:H==="auto"?IE():H,tabIndex:-1,ref:re,className:p,"data-sonner-toaster":!0,"data-sonner-theme":F,"data-y-position":pe,"data-x-position":me,style:{"--front-toast-height":`${((fe=D[0])==null?void 0:fe.height)||0}px`,"--width":`${EN}px`,"--gap":`${G}px`,...M,...xN(v,g)},onBlur:Ae=>{j.current&&!Ae.currentTarget.contains(Ae.relatedTarget)&&(j.current=!1,Ce.current&&(Ce.current.focus({preventScroll:!0}),Ce.current=null))},onFocus:Ae=>{Ae.target instanceof HTMLElement&&Ae.target.dataset.dismissible==="false"||j.current||(j.current=!0,Ce.current=Ae.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{ye||O(!1)},onDragEnd:()=>O(!1),onPointerDown:Ae=>{Ae.target instanceof HTMLElement&&Ae.target.dataset.dismissible==="false"||Se(!0)},onPointerUp:()=>Se(!1)},w.filter(Ae=>!Ae.position&&ce===0||Ae.position===te).map((Ae,Ne)=>{var ft,Et;return he.createElement(RN,{key:Ae.id,icons:Y,index:Ne,toast:Ae,defaultRichColors:S,duration:(ft=V==null?void 0:V.duration)!=null?ft:R,className:V==null?void 0:V.className,descriptionClassName:V==null?void 0:V.descriptionClassName,invert:a,visibleToasts:k,closeButton:(Et=V==null?void 0:V.closeButton)!=null?Et:f,interacting:ye,position:te,style:V==null?void 0:V.style,unstyled:V==null?void 0:V.unstyled,classNames:V==null?void 0:V.classNames,cancelButtonStyle:V==null?void 0:V.cancelButtonStyle,actionButtonStyle:V==null?void 0:V.actionButtonStyle,closeButtonAriaLabel:V==null?void 0:V.closeButtonAriaLabel,removeToast:ne,toasts:w.filter(Je=>Je.position==Ae.position),heights:D.filter(Je=>Je.position==Ae.position),setHeights:N,expandByDefault:h,gap:G,expanded:U,swipeDirections:e.swipeDirections})})):null}))}),IN=({...n})=>{const{theme:e="system"}=tN();return P.jsx(CN,{theme:e,className:"toaster group",icons:{success:P.jsx(x2,{className:"size-4"}),info:P.jsx(O2,{className:"size-4"}),warning:P.jsx(G2,{className:"size-4"}),error:P.jsx(B2,{className:"size-4"}),loading:P.jsx(P2,{className:"size-4 animate-spin"})},style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)","--border-radius":"var(--radius)"},...n})};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=()=>{};var NE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},MN=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],u=n[t++],h=n[t++],f=((a&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const l=n[t++],u=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},uT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],u=a+1<n.length,h=u?n[a+1]:0,f=a+2<n.length,p=f?n[a+2]:0,v=l>>2,g=(l&3)<<4|h>>4;let _=(h&15)<<2|p>>6,S=p&63;f||(S=64,u||(_=64)),i.push(t[v],t[g],t[_],t[S])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(cT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):MN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],h=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const g=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||h==null||p==null||g==null)throw new DN;const _=l<<2|h>>4;if(i.push(_),p!==64){const S=h<<4&240|p>>2;if(i.push(S),g!==64){const R=p<<6&192|g;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class DN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ON=function(n){const e=cT(n);return uT.encodeByteArray(e,!0)},Kh=function(n){return ON(n).replace(/\./g,"")},fT=function(n){try{return uT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=()=>kN().__FIREBASE_DEFAULTS__,LN=()=>{if(typeof process>"u"||typeof NE>"u")return;const n=NE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},VN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&fT(n[1]);return e&&JSON.parse(e)},Ed=()=>{try{return NN()||PN()||LN()||VN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},hT=n=>{var e,t;return(t=(e=Ed())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},UN=n=>{const e=hT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},dT=()=>{var n;return(n=Ed())==null?void 0:n.config},mT=n=>{var e;return(e=Ed())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pT(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Kh(JSON.stringify(t)),Kh(JSON.stringify(u)),""].join(".")}const Yc={};function BN(){const n={prod:[],emulator:[]};for(const e of Object.keys(Yc))Yc[e]?n.emulator.push(e):n.prod.push(e);return n}function FN(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let ME=!1;function gT(n,e){if(typeof window>"u"||typeof document>"u"||!bl(window.location.host)||Yc[n]===e||Yc[n]||ME)return;Yc[n]=e;function t(_){return`__firebase__banner__${_}`}const i="__firebase__banner",l=BN().prod.length>0;function u(){const _=document.getElementById(i);_&&_.remove()}function h(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function f(_,S){_.setAttribute("width","24"),_.setAttribute("id",S),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function p(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{ME=!0,u()},_}function v(_,S){_.setAttribute("id",S),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function g(){const _=FN(i),S=t("text"),R=document.getElementById(S)||document.createElement("span"),M=t("learnmore"),k=document.getElementById(M)||document.createElement("a"),V=t("preprendIcon"),H=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const G=_.element;h(G),v(k,M);const Y=p();f(H,V),G.append(H,R,k,Y),document.body.appendChild(G)}l?(R.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kn())}function HN(){var e;const n=(e=Ed())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function YN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $N(){const n=kn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function QN(){return!HN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XN(){try{return typeof indexedDB=="object"}catch{return!1}}function WN(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)==null?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN="FirebaseError";class as extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=ZN,Object.setPrototypeOf(this,as.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hu.prototype.create)}}class hu{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?JN(l,i):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new as(a,h,i)}}function JN(n,e){return n.replace(eM,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const eM=/\{\$([^}]+)}/g;function tM(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function $a(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],u=e[a];if(DE(l)&&DE(u)){if(!$a(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function DE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function nM(n,e){const t=new rM(n,e);return t.subscribe.bind(t)}class rM{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");iM(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=sg),a.error===void 0&&(a.error=sg),a.complete===void 0&&(a.complete=sg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iM(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function sg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(n){return n&&n._delegate?n._delegate:n}class Qa{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new zN;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oM(e))try{this.getOrInitializeService({instanceIdentifier:ka})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=ka){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ka){return this.instances.has(e)}getOptions(e=ka){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&u.resolve(a)}return a}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:aM(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ka){return this.component?this.component.multipleInstances?e:ka:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aM(n){return n===ka?void 0:n}function oM(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new sM(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})($e||($e={}));const cM={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},uM=$e.INFO,fM={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},hM=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=fM[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ay{constructor(e){this.name=e,this._logLevel=uM,this._logHandler=hM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const dM=(n,e)=>e.some(t=>n instanceof t);let OE,kE;function mM(){return OE||(OE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pM(){return kE||(kE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yT=new WeakMap,Pg=new WeakMap,vT=new WeakMap,ag=new WeakMap,Ry=new WeakMap;function gM(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{t(Xs(n.result)),a()},u=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&yT.set(t,n)}).catch(()=>{}),Ry.set(e,n),e}function yM(n){if(Pg.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{t(),a()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});Pg.set(n,e)}let Lg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Pg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||vT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Xs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function vM(n){Lg=n(Lg)}function _M(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(og(this),e,...t);return vT.set(i,e.sort?e.sort():[e]),Xs(i)}:pM().includes(n)?function(...e){return n.apply(og(this),e),Xs(yT.get(this))}:function(...e){return Xs(n.apply(og(this),e))}}function bM(n){return typeof n=="function"?_M(n):(n instanceof IDBTransaction&&yM(n),dM(n,mM())?new Proxy(n,Lg):n)}function Xs(n){if(n instanceof IDBRequest)return gM(n);if(ag.has(n))return ag.get(n);const e=bM(n);return e!==n&&(ag.set(n,e),Ry.set(e,n)),e}const og=n=>Ry.get(n);function EM(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(n,e),h=Xs(u);return i&&u.addEventListener("upgradeneeded",f=>{i(Xs(u.result),f.oldVersion,f.newVersion,Xs(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{l&&f.addEventListener("close",()=>l()),a&&f.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const SM=["get","getKey","getAll","getAllKeys","count"],TM=["put","add","delete","clear"],lg=new Map;function PE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(lg.get(e))return lg.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=TM.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||SM.includes(t)))return;const l=async function(u,...h){const f=this.transaction(u,a?"readwrite":"readonly");let p=f.store;return i&&(p=p.index(h.shift())),(await Promise.all([p[t](...h),a&&f.done]))[0]};return lg.set(e,l),l}vM(n=>({...n,get:(e,t,i)=>PE(e,t)||n.get(e,t,i),has:(e,t)=>!!PE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(AM(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function AM(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vg="@firebase/app",LE="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=new Ay("@firebase/app"),RM="@firebase/app-compat",xM="@firebase/analytics-compat",CM="@firebase/analytics",IM="@firebase/app-check-compat",NM="@firebase/app-check",MM="@firebase/auth",DM="@firebase/auth-compat",OM="@firebase/database",kM="@firebase/data-connect",PM="@firebase/database-compat",LM="@firebase/functions",VM="@firebase/functions-compat",UM="@firebase/installations",zM="@firebase/installations-compat",jM="@firebase/messaging",BM="@firebase/messaging-compat",FM="@firebase/performance",qM="@firebase/performance-compat",HM="@firebase/remote-config",GM="@firebase/remote-config-compat",KM="@firebase/storage",YM="@firebase/storage-compat",$M="@firebase/firestore",QM="@firebase/ai",XM="@firebase/firestore-compat",WM="firebase",ZM="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug="[DEFAULT]",JM={[Vg]:"fire-core",[RM]:"fire-core-compat",[CM]:"fire-analytics",[xM]:"fire-analytics-compat",[NM]:"fire-app-check",[IM]:"fire-app-check-compat",[MM]:"fire-auth",[DM]:"fire-auth-compat",[OM]:"fire-rtdb",[kM]:"fire-data-connect",[PM]:"fire-rtdb-compat",[LM]:"fire-fn",[VM]:"fire-fn-compat",[UM]:"fire-iid",[zM]:"fire-iid-compat",[jM]:"fire-fcm",[BM]:"fire-fcm-compat",[FM]:"fire-perf",[qM]:"fire-perf-compat",[HM]:"fire-rc",[GM]:"fire-rc-compat",[KM]:"fire-gcs",[YM]:"fire-gcs-compat",[$M]:"fire-fst",[XM]:"fire-fst-compat",[QM]:"fire-vertex","fire-js":"fire-js",[WM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh=new Map,eD=new Map,zg=new Map;function VE(n,e){try{n.container.addComponent(e)}catch(t){ns.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function fl(n){const e=n.name;if(zg.has(e))return ns.debug(`There were multiple attempts to register component ${e}.`),!1;zg.set(e,n);for(const t of Yh.values())VE(t,n);for(const t of eD.values())VE(t,n);return!0}function xy(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Hr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ws=new hu("app","Firebase",tD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Qa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ws.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El=ZM;function _T(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:Ug,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Ws.create("bad-app-name",{appName:String(a)});if(t||(t=dT()),!t)throw Ws.create("no-options");const l=Yh.get(a);if(l){if($a(t,l.options)&&$a(i,l.config))return l;throw Ws.create("duplicate-app",{appName:a})}const u=new lM(a);for(const f of zg.values())u.addComponent(f);const h=new nD(t,i,u);return Yh.set(a,h),h}function bT(n=Ug){const e=Yh.get(n);if(!e&&n===Ug&&dT())return _T();if(!e)throw Ws.create("no-app",{appName:n});return e}function Zs(n,e,t){let i=JM[n]??n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ns.warn(u.join(" "));return}fl(new Qa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="firebase-heartbeat-database",iD=1,tu="firebase-heartbeat-store";let cg=null;function ET(){return cg||(cg=EM(rD,iD,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(tu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ws.create("idb-open",{originalErrorMessage:n.message})})),cg}async function sD(n){try{const t=(await ET()).transaction(tu),i=await t.objectStore(tu).get(ST(n));return await t.done,i}catch(e){if(e instanceof as)ns.warn(e.message);else{const t=Ws.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ns.warn(t.message)}}}async function UE(n,e){try{const i=(await ET()).transaction(tu,"readwrite");await i.objectStore(tu).put(e,ST(n)),await i.done}catch(t){if(t instanceof as)ns.warn(t.message);else{const i=Ws.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ns.warn(i.message)}}}function ST(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=1024,oD=30;class lD{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new uD(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=zE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>oD){const u=fD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ns.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=zE(),{heartbeatsToSend:i,unsentEntries:a}=cD(this._heartbeatsCache.heartbeats),l=Kh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ns.warn(t),""}}}function zE(){return new Date().toISOString().substring(0,10)}function cD(n,e=aD){const t=[];let i=n.slice();for(const a of n){const l=t.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),jE(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),jE(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class uD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XN()?WN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await sD(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return UE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return UE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function jE(n){return Kh(JSON.stringify({version:2,heartbeats:n})).length}function fD(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(n){fl(new Qa("platform-logger",e=>new wM(e),"PRIVATE")),fl(new Qa("heartbeat",e=>new lD(e),"PRIVATE")),Zs(Vg,LE,n),Zs(Vg,LE,"esm2020"),Zs("fire-js","")}hD("");function TT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dD=TT,wT=new hu("auth","Firebase",TT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h=new Ay("@firebase/auth");function mD(n,...e){$h.logLevel<=$e.WARN&&$h.warn(`Auth (${El}): ${n}`,...e)}function vh(n,...e){$h.logLevel<=$e.ERROR&&$h.error(`Auth (${El}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(n,...e){throw Iy(n,...e)}function $r(n,...e){return Iy(n,...e)}function Cy(n,e,t){const i={...dD(),[e]:t};return new hu("auth","Firebase",i).create(e,{appName:n.name})}function qa(n){return Cy(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pD(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Ri(n,"argument-error"),Cy(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Iy(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return wT.create(n,...e)}function Oe(n,e,...t){if(!n)throw Iy(e,...t)}function Wi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw vh(e),new Error(e)}function rs(n,e){n||Wi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function gD(){return BE()==="http:"||BE()==="https:"}function BE(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gD()||KN()||"connection"in navigator)?navigator.onLine:!0}function vD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,t){this.shortDelay=e,this.longDelay=t,rs(t>e,"Short delay should be less than long delay!"),this.isMobile=qN()||YN()}get(){return yD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(n,e){rs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ED=new mu(3e4,6e4);function My(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Sl(n,e,t,i,a={}){return RT(n,a,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const h=du({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:f,...l};return GN()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&bl(n.emulatorConfig.host)&&(p.credentials="include"),AT.fetch()(await xT(n,n.config.apiHost,t,h),p)})}async function RT(n,e,t){n._canInitEmulator=!1;const i={..._D,...e};try{const a=new TD(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw eh(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw eh(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw eh(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw eh(n,"user-disabled",u);const v=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Cy(n,v,p);Ri(n,v)}}catch(a){if(a instanceof as)throw a;Ri(n,"network-request-failed",{message:String(a)})}}async function SD(n,e,t,i,a={}){const l=await Sl(n,e,t,i,a);return"mfaPendingCredential"in l&&Ri(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function xT(n,e,t,i){const a=`${e}${t}?${i}`,l=n,u=l.config.emulator?Ny(n.config,a):`${n.config.apiScheme}://${a}`;return bD.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}class TD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i($r(this.auth,"network-request-failed")),ED.get())})}}function eh(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=$r(n,e,i);return a.customData._tokenResponse=t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wD(n,e){return Sl(n,"POST","/v1/accounts:delete",e)}async function Qh(n,e){return Sl(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function AD(n,e=!1){const t=Xn(n),i=await t.getIdToken(e),a=Dy(i);Oe(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:$c(ug(a.auth_time)),issuedAtTime:$c(ug(a.iat)),expirationTime:$c(ug(a.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function ug(n){return Number(n)*1e3}function Dy(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return vh("JWT malformed, contained fewer than 3 sections"),null;try{const a=fT(t);return a?JSON.parse(a):(vh("Failed to decode base64 JWT payload"),null)}catch(a){return vh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function FE(n){const e=Dy(n);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nu(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof as&&RD(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function RD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=$c(this.lastLoginAt),this.creationTime=$c(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xh(n){var g;const e=n.auth,t=await n.getIdToken(),i=await nu(n,Qh(e,{idToken:t}));Oe(i==null?void 0:i.users.length,e,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const l=(g=a.providerUserInfo)!=null&&g.length?CT(a.providerUserInfo):[],u=ID(n.providerData,l),h=n.isAnonymous,f=!(n.email&&a.passwordHash)&&!(u!=null&&u.length),p=h?f:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Bg(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(n,v)}async function CD(n){const e=Xn(n);await Xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ID(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function CT(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ND(n,e){const t=await RT(n,{},async()=>{const i=du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,u=await xT(n,a,"/v1/token",`key=${l}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return n.emulatorConfig&&bl(n.emulatorConfig.host)&&(f.credentials="include"),AT.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function MD(n,e){return Sl(n,"POST","/v2/accounts:revokeToken",My(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):FE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const t=FE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await ND(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,u=new rl;return i&&(Oe(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(Oe(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Oe(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new rl,this.toJSON())}_performRefresh(){return Wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(n,e){Oe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Kr{constructor({uid:e,auth:t,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new xD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Bg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await nu(this,this.stsTokenManager.getToken(this.auth,e));return Oe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return AD(this,e)}reload(){return CD(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Kr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Xh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hr(this.auth.app))return Promise.reject(qa(this.auth));const e=await this.getIdToken();return await nu(this,wD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,u=t.photoURL??void 0,h=t.tenantId??void 0,f=t._redirectEventId??void 0,p=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:g,emailVerified:_,isAnonymous:S,providerData:R,stsTokenManager:M}=t;Oe(g&&M,e,"internal-error");const k=rl.fromJSON(this.name,M);Oe(typeof g=="string",e,"internal-error"),zs(i,e.name),zs(a,e.name),Oe(typeof _=="boolean",e,"internal-error"),Oe(typeof S=="boolean",e,"internal-error"),zs(l,e.name),zs(u,e.name),zs(h,e.name),zs(f,e.name),zs(p,e.name),zs(v,e.name);const V=new Kr({uid:g,auth:e,email:a,emailVerified:_,displayName:i,isAnonymous:S,photoURL:u,phoneNumber:l,tenantId:h,stsTokenManager:k,createdAt:p,lastLoginAt:v});return R&&Array.isArray(R)&&(V.providerData=R.map(H=>({...H}))),f&&(V._redirectEventId=f),V}static async _fromIdTokenResponse(e,t,i=!1){const a=new rl;a.updateFromServerResponse(t);const l=new Kr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Xh(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Oe(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?CT(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),h=new rl;h.updateFromIdToken(i);const f=new Kr({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Bg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE=new Map;function Zi(n){rs(n instanceof Function,"Expected a class definition");let e=qE.get(n);return e?(rs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,qE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}IT.type="NONE";const HE=IT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(n,e,t){return`firebase:${n}:${e}:${t}`}class il{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=_h(this.userKey,a.apiKey,l),this.fullPersistenceKey=_h("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Qh(this.auth,{idToken:e}).catch(()=>{});return t?Kr._fromGetAccountInfoResponse(this.auth,t,e):null}return Kr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new il(Zi(HE),e,i);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Zi(HE);const u=_h(i,e.config.apiKey,e.name);let h=null;for(const p of t)try{const v=await p._get(u);if(v){let g;if(typeof v=="string"){const _=await Qh(e,{idToken:v}).catch(()=>{});if(!_)break;g=await Kr._fromGetAccountInfoResponse(e,_,v)}else g=Kr._fromJSON(e,v);p!==l&&(h=g),l=p;break}}catch{}const f=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!f.length?new il(l,e,i):(l=f[0],h&&await l._set(u,h.toJSON()),await Promise.all(t.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new il(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(OT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(NT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PT(e))return"Blackberry";if(LT(e))return"Webos";if(MT(e))return"Safari";if((e.includes("chrome/")||DT(e))&&!e.includes("edge/"))return"Chrome";if(kT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function NT(n=kn()){return/firefox\//i.test(n)}function MT(n=kn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DT(n=kn()){return/crios\//i.test(n)}function OT(n=kn()){return/iemobile/i.test(n)}function kT(n=kn()){return/android/i.test(n)}function PT(n=kn()){return/blackberry/i.test(n)}function LT(n=kn()){return/webos/i.test(n)}function Oy(n=kn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function DD(n=kn()){var e;return Oy(n)&&!!((e=window.navigator)!=null&&e.standalone)}function OD(){return $N()&&document.documentMode===10}function VT(n=kn()){return Oy(n)||kT(n)||LT(n)||PT(n)||/windows phone/i.test(n)||OT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(n,e=[]){let t;switch(n){case"Browser":t=GE(kn());break;case"Worker":t=`${GE(kn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${El}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((u,h)=>{try{const f=e(l);u(f)}catch(f){h(f)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PD(n,e={}){return Sl(n,"GET","/v2/passwordPolicy",My(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=6;class VD{constructor(e){var i;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??LD,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new KE(this),this.idTokenSubscription=new KE(this),this.beforeStateQueue=new kD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Zi(t)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await il.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Qh(this,{idToken:e}),i=await Kr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(Hr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(l=this.redirectUser)==null?void 0:l._redirectEventId,h=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Xh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hr(this.app))return Promise.reject(qa(this));const t=e?Xn(e):null;return t&&Oe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hr(this.app)?Promise.reject(qa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hr(this.app)?Promise.reject(qa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PD(this),t=new VD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hu("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await MD(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Zi(e)||this._popupRedirectResolver;Oe(t,this,"argument-error"),this.redirectPersistenceManager=await il.create(this,[Zi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,a);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var t;if(Hr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&mD(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Sd(n){return Xn(n)}class KE{constructor(e){this.auth=e,this.observer=null,this.addObserver=nM(t=>this.observer=t)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ky={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zD(n){ky=n}function jD(n){return ky.loadJS(n)}function BD(){return ky.gapiScript}function FD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(n,e){const t=xy(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if($a(l,e??{}))return a;Ri(a,"already-initialized")}return t.initialize({options:e})}function HD(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Zi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function GD(n,e,t){const i=Sd(n);Oe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=zT(e),{host:u,port:h}=KD(e),f=h===null?"":`:${h}`,p={url:`${l}//${u}${f}/`},v=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Oe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Oe($a(p,i.config.emulator)&&$a(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,bl(u)?(pT(`${l}//${u}${f}`),gT("Auth",!0)):YD()}function zT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function KD(n){const e=zT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:YE(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:YE(u)}}}function YE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function YD(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Wi("not implemented")}_getIdTokenResponse(e){return Wi("not implemented")}_linkToIdToken(e,t){return Wi("not implemented")}_getReauthenticationResolver(e){return Wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sl(n,e){return SD(n,"POST","/v1/accounts:signInWithIdp",My(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D="http://localhost";class Xa extends jT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Xa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ri("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=t;if(!i||!a)return null;const u=new Xa(i,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return sl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,sl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,sl(e,t)}buildRequest(){const e={requestUri:$D,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=du(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends Py{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends pu{constructor(){super("facebook.com")}static credential(e){return Xa._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fs.credential(e.oauthAccessToken)}catch{return null}}}Fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Xa._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Qi.credential(t,i)}catch{return null}}}Qi.GOOGLE_SIGN_IN_METHOD="google.com";Qi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends pu{constructor(){super("github.com")}static credential(e){return Xa._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qs.credential(e.oauthAccessToken)}catch{return null}}}qs.GITHUB_SIGN_IN_METHOD="github.com";qs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends pu{constructor(){super("twitter.com")}static credential(e,t){return Xa._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Hs.credential(t,i)}catch{return null}}}Hs.TWITTER_SIGN_IN_METHOD="twitter.com";Hs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await Kr._fromIdTokenResponse(e,i,a),u=$E(i);return new hl({user:l,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=$E(i);return new hl({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function $E(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh extends as{constructor(e,t,i,a){super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Wh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new Wh(e,t,i,a)}}function BT(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Wh._fromErrorAndOperation(n,l,e,i):l})}async function QD(n,e,t=!1){const i=await nu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return hl._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XD(n,e,t=!1){const{auth:i}=n;if(Hr(i.app))return Promise.reject(qa(i));const a="reauthenticate";try{const l=await nu(n,BT(i,a,e,n),t);Oe(l.idToken,i,"internal-error");const u=Dy(l.idToken);Oe(u,i,"internal-error");const{sub:h}=u;return Oe(n.uid===h,i,"user-mismatch"),hl._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Ri(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WD(n,e,t=!1){if(Hr(n.app))return Promise.reject(qa(n));const i="signIn",a=await BT(n,i,e),l=await hl._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}function ZD(n,e,t,i){return Xn(n).onIdTokenChanged(e,t,i)}function JD(n,e,t){return Xn(n).beforeAuthStateChanged(e,t)}function eO(n,e,t,i){return Xn(n).onAuthStateChanged(e,t,i)}function tO(n){return Xn(n).signOut()}const Zh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Zh,"1"),this.storage.removeItem(Zh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=1e3,rO=10;class qT extends FT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);OD()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,rO):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},nO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}qT.type="LOCAL";const iO=qT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT extends FT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}HT.type="SESSION";const GT=HT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new Td(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(u).map(async p=>p(t.origin,l)),f=await sO(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Td.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((h,f)=>{const p=Ly("",20);a.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(g){const _=g;if(_.data.eventId===p)switch(_.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(_.data.response);break;default:clearTimeout(v),clearTimeout(l),f(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(){return window}function oO(n){_i().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(){return typeof _i().WorkerGlobalScope<"u"&&typeof _i().importScripts=="function"}async function lO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cO(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function uO(){return KT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="firebaseLocalStorageDb",fO=1,Jh="firebaseLocalStorage",$T="fbase_key";class gu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function wd(n,e){return n.transaction([Jh],e?"readwrite":"readonly").objectStore(Jh)}function hO(){const n=indexedDB.deleteDatabase(YT);return new gu(n).toPromise()}function Fg(){const n=indexedDB.open(YT,fO);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Jh,{keyPath:$T})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Jh)?e(i):(i.close(),await hO(),e(await Fg()))})})}async function QE(n,e,t){const i=wd(n,!0).put({[$T]:e,value:t});return new gu(i).toPromise()}async function dO(n,e){const t=wd(n,!1).get(e),i=await new gu(t).toPromise();return i===void 0?null:i.value}function XE(n,e){const t=wd(n,!0).delete(e);return new gu(t).toPromise()}const mO=800,pO=3;class QT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>pO)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Td._getInstance(uO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await lO(),!this.activeServiceWorker)return;this.sender=new aO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||cO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fg();return await QE(e,Zh,"1"),await XE(e,Zh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>QE(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>dO(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>XE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=wd(a,!1).getAll();return new gu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QT.type="LOCAL";const gO=QT;new mu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(n,e){return e?Zi(e):(Oe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy extends jT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return sl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return sl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function yO(n){return WD(n.auth,new Vy(n),n.bypassAuthState)}function vO(n){const{auth:e,user:t}=n;return Oe(t,e,"internal-error"),XD(t,new Vy(n),n.bypassAuthState)}async function _O(n){const{auth:e,user:t}=n;return Oe(t,e,"internal-error"),QD(t,new Vy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yO;case"linkViaPopup":case"linkViaRedirect":return _O;case"reauthViaPopup":case"reauthViaRedirect":return vO;default:Ri(this.auth,"internal-error")}}resolve(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=new mu(2e3,1e4);async function EO(n,e,t){if(Hr(n.app))return Promise.reject($r(n,"operation-not-supported-in-this-environment"));const i=Sd(n);pD(n,e,Py);const a=XT(i,t);return new Va(i,"signInViaPopup",e,a).executeNotNull()}class Va extends WT{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Va.currentPopupAction&&Va.currentPopupAction.cancel(),Va.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){rs(this.filter.length===1,"Popup operations only handle one event");const e=Ly();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject($r(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject($r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Va.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if((i=(t=this.authWindow)==null?void 0:t.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($r(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bO.get())};e()}}Va.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO="pendingRedirect",bh=new Map;class TO extends WT{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=bh.get(this.auth._key());if(!e){try{const i=await wO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}bh.set(this.auth._key(),e)}return this.bypassAuthState||bh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wO(n,e){const t=xO(e),i=RO(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function AO(n,e){bh.set(n._key(),e)}function RO(n){return Zi(n._redirectPersistence)}function xO(n){return _h(SO,n.config.apiKey,n.name)}async function CO(n,e,t=!1){if(Hr(n.app))return Promise.reject(qa(n));const i=Sd(n),a=XT(i,e),u=await new TO(i,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=600*1e3;class NO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!MO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!ZT(e)){const a=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";t.onError($r(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=IO&&this.cachedEventUids.clear(),this.cachedEventUids.has(WE(e))}saveEventToCache(e){this.cachedEventUids.add(WE(e)),this.lastProcessedEventTime=Date.now()}}function WE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function ZT({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function MO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DO(n,e={}){return Sl(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kO=/^https?/;async function PO(n){if(n.config.emulator)return;const{authorizedDomains:e}=await DO(n);for(const t of e)try{if(LO(t))return}catch{}Ri(n,"unauthorized-domain")}function LO(n){const e=jg(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!kO.test(t))return!1;if(OO.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=new mu(3e4,6e4);function ZE(){const n=_i().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function UO(n){return new Promise((e,t)=>{var a,l,u;function i(){ZE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ZE(),t($r(n,"network-request-failed"))},timeout:VO.get()})}if((l=(a=_i().gapi)==null?void 0:a.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((u=_i().gapi)!=null&&u.load)i();else{const h=FD("iframefcb");return _i()[h]=()=>{gapi.load?i():t($r(n,"network-request-failed"))},jD(`${BD()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw Eh=null,e})}let Eh=null;function zO(n){return Eh=Eh||UO(n),Eh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=new mu(5e3,15e3),BO="__/auth/iframe",FO="emulator/auth/iframe",qO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GO(n){const e=n.config;Oe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Ny(e,FO):`https://${n.config.authDomain}/${BO}`,i={apiKey:e.apiKey,appName:n.name,v:El},a=HO.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${du(i).slice(1)}`}async function KO(n){const e=await zO(n),t=_i().gapi;return Oe(t,n,"internal-error"),e.open({where:document.body,url:GO(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qO,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const u=$r(n,"network-request-failed"),h=_i().setTimeout(()=>{l(u)},jO.get());function f(){_i().clearTimeout(h),a(i)}i.ping(f).then(f,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$O=500,QO=600,XO="_blank",WO="http://localhost";class JE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZO(n,e,t,i=$O,a=QO){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f={...YO,width:i.toString(),height:a.toString(),top:l,left:u},p=kn().toLowerCase();t&&(h=DT(p)?XO:t),NT(p)&&(e=e||WO,f.scrollbars="yes");const v=Object.entries(f).reduce((_,[S,R])=>`${_}${S}=${R},`,"");if(DD(p)&&h!=="_self")return JO(e||"",h),new JE(null);const g=window.open(e||"",h,v);Oe(g,n,"popup-blocked");try{g.focus()}catch{}return new JE(g)}function JO(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek="__/auth/handler",tk="emulator/auth/handler",nk=encodeURIComponent("fac");async function e1(n,e,t,i,a,l){Oe(n.config.authDomain,n,"auth-domain-config-required"),Oe(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:El,eventId:a};if(e instanceof Py){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",tM(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,g]of Object.entries({}))u[v]=g}if(e instanceof pu){const v=e.getScopes().filter(g=>g!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const f=await n._getAppCheckToken(),p=f?`#${nk}=${encodeURIComponent(f)}`:"";return`${rk(n)}?${du(h).slice(1)}${p}`}function rk({config:n}){return n.emulator?Ny(n,tk):`https://${n.authDomain}/${ek}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg="webStorageSupport";class ik{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GT,this._completeRedirectFn=CO,this._overrideRedirectResult=AO}async _openPopup(e,t,i,a){var u;rs((u=this.eventManagers[e._key()])==null?void 0:u.manager,"_initialize() not called before _openPopup()");const l=await e1(e,t,i,jg(),a);return ZO(e,l,Ly())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await e1(e,t,i,jg(),a);return oO(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(rs(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await KO(e),i=new NO(e);return t.register("authEvent",a=>(Oe(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(fg,{type:fg},a=>{var u;const l=(u=a==null?void 0:a[0])==null?void 0:u[fg];l!==void 0&&t(!!l),Ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=PO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return VT()||MT()||Oy()}}const sk=ik;var t1="@firebase/auth",n1="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lk(n){fl(new Qa("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;Oe(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UT(n)},p=new UD(i,a,l,f);return HD(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),fl(new Qa("auth-internal",e=>{const t=Sd(e.getProvider("auth").getImmediate());return(i=>new ak(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zs(t1,n1,ok(n)),Zs(t1,n1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=300,uk=mT("authIdTokenMaxAge")||ck;let r1=null;const fk=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>uk)return;const a=t==null?void 0:t.token;r1!==a&&(r1=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function hk(n=bT()){const e=xy(n,"auth");if(e.isInitialized())return e.getImmediate();const t=qD(n,{popupRedirectResolver:sk,persistence:[gO,iO,GT]}),i=mT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=fk(l.toString());JD(t,u,()=>u(t.currentUser)),ZD(t,h=>u(h))}}const a=hT("auth");return a&&GD(t,`http://${a}`),t}function dk(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}zD({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=$r("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",dk().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lk("Browser");var i1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Js,JT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,w){function C(){}C.prototype=w.prototype,A.F=w.prototype,A.prototype=new C,A.prototype.constructor=A,A.D=function(D,N,U){for(var O=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)O[ye-2]=arguments[ye];return w.prototype[N].apply(D,O)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(A,w,C){C||(C=0);const D=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)D[N]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(N=0;N<16;++N)D[N]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=A.g[0],C=A.g[1],N=A.g[2];let U=A.g[3],O;O=w+(U^C&(N^U))+D[0]+3614090360&4294967295,w=C+(O<<7&4294967295|O>>>25),O=U+(N^w&(C^N))+D[1]+3905402710&4294967295,U=w+(O<<12&4294967295|O>>>20),O=N+(C^U&(w^C))+D[2]+606105819&4294967295,N=U+(O<<17&4294967295|O>>>15),O=C+(w^N&(U^w))+D[3]+3250441966&4294967295,C=N+(O<<22&4294967295|O>>>10),O=w+(U^C&(N^U))+D[4]+4118548399&4294967295,w=C+(O<<7&4294967295|O>>>25),O=U+(N^w&(C^N))+D[5]+1200080426&4294967295,U=w+(O<<12&4294967295|O>>>20),O=N+(C^U&(w^C))+D[6]+2821735955&4294967295,N=U+(O<<17&4294967295|O>>>15),O=C+(w^N&(U^w))+D[7]+4249261313&4294967295,C=N+(O<<22&4294967295|O>>>10),O=w+(U^C&(N^U))+D[8]+1770035416&4294967295,w=C+(O<<7&4294967295|O>>>25),O=U+(N^w&(C^N))+D[9]+2336552879&4294967295,U=w+(O<<12&4294967295|O>>>20),O=N+(C^U&(w^C))+D[10]+4294925233&4294967295,N=U+(O<<17&4294967295|O>>>15),O=C+(w^N&(U^w))+D[11]+2304563134&4294967295,C=N+(O<<22&4294967295|O>>>10),O=w+(U^C&(N^U))+D[12]+1804603682&4294967295,w=C+(O<<7&4294967295|O>>>25),O=U+(N^w&(C^N))+D[13]+4254626195&4294967295,U=w+(O<<12&4294967295|O>>>20),O=N+(C^U&(w^C))+D[14]+2792965006&4294967295,N=U+(O<<17&4294967295|O>>>15),O=C+(w^N&(U^w))+D[15]+1236535329&4294967295,C=N+(O<<22&4294967295|O>>>10),O=w+(N^U&(C^N))+D[1]+4129170786&4294967295,w=C+(O<<5&4294967295|O>>>27),O=U+(C^N&(w^C))+D[6]+3225465664&4294967295,U=w+(O<<9&4294967295|O>>>23),O=N+(w^C&(U^w))+D[11]+643717713&4294967295,N=U+(O<<14&4294967295|O>>>18),O=C+(U^w&(N^U))+D[0]+3921069994&4294967295,C=N+(O<<20&4294967295|O>>>12),O=w+(N^U&(C^N))+D[5]+3593408605&4294967295,w=C+(O<<5&4294967295|O>>>27),O=U+(C^N&(w^C))+D[10]+38016083&4294967295,U=w+(O<<9&4294967295|O>>>23),O=N+(w^C&(U^w))+D[15]+3634488961&4294967295,N=U+(O<<14&4294967295|O>>>18),O=C+(U^w&(N^U))+D[4]+3889429448&4294967295,C=N+(O<<20&4294967295|O>>>12),O=w+(N^U&(C^N))+D[9]+568446438&4294967295,w=C+(O<<5&4294967295|O>>>27),O=U+(C^N&(w^C))+D[14]+3275163606&4294967295,U=w+(O<<9&4294967295|O>>>23),O=N+(w^C&(U^w))+D[3]+4107603335&4294967295,N=U+(O<<14&4294967295|O>>>18),O=C+(U^w&(N^U))+D[8]+1163531501&4294967295,C=N+(O<<20&4294967295|O>>>12),O=w+(N^U&(C^N))+D[13]+2850285829&4294967295,w=C+(O<<5&4294967295|O>>>27),O=U+(C^N&(w^C))+D[2]+4243563512&4294967295,U=w+(O<<9&4294967295|O>>>23),O=N+(w^C&(U^w))+D[7]+1735328473&4294967295,N=U+(O<<14&4294967295|O>>>18),O=C+(U^w&(N^U))+D[12]+2368359562&4294967295,C=N+(O<<20&4294967295|O>>>12),O=w+(C^N^U)+D[5]+4294588738&4294967295,w=C+(O<<4&4294967295|O>>>28),O=U+(w^C^N)+D[8]+2272392833&4294967295,U=w+(O<<11&4294967295|O>>>21),O=N+(U^w^C)+D[11]+1839030562&4294967295,N=U+(O<<16&4294967295|O>>>16),O=C+(N^U^w)+D[14]+4259657740&4294967295,C=N+(O<<23&4294967295|O>>>9),O=w+(C^N^U)+D[1]+2763975236&4294967295,w=C+(O<<4&4294967295|O>>>28),O=U+(w^C^N)+D[4]+1272893353&4294967295,U=w+(O<<11&4294967295|O>>>21),O=N+(U^w^C)+D[7]+4139469664&4294967295,N=U+(O<<16&4294967295|O>>>16),O=C+(N^U^w)+D[10]+3200236656&4294967295,C=N+(O<<23&4294967295|O>>>9),O=w+(C^N^U)+D[13]+681279174&4294967295,w=C+(O<<4&4294967295|O>>>28),O=U+(w^C^N)+D[0]+3936430074&4294967295,U=w+(O<<11&4294967295|O>>>21),O=N+(U^w^C)+D[3]+3572445317&4294967295,N=U+(O<<16&4294967295|O>>>16),O=C+(N^U^w)+D[6]+76029189&4294967295,C=N+(O<<23&4294967295|O>>>9),O=w+(C^N^U)+D[9]+3654602809&4294967295,w=C+(O<<4&4294967295|O>>>28),O=U+(w^C^N)+D[12]+3873151461&4294967295,U=w+(O<<11&4294967295|O>>>21),O=N+(U^w^C)+D[15]+530742520&4294967295,N=U+(O<<16&4294967295|O>>>16),O=C+(N^U^w)+D[2]+3299628645&4294967295,C=N+(O<<23&4294967295|O>>>9),O=w+(N^(C|~U))+D[0]+4096336452&4294967295,w=C+(O<<6&4294967295|O>>>26),O=U+(C^(w|~N))+D[7]+1126891415&4294967295,U=w+(O<<10&4294967295|O>>>22),O=N+(w^(U|~C))+D[14]+2878612391&4294967295,N=U+(O<<15&4294967295|O>>>17),O=C+(U^(N|~w))+D[5]+4237533241&4294967295,C=N+(O<<21&4294967295|O>>>11),O=w+(N^(C|~U))+D[12]+1700485571&4294967295,w=C+(O<<6&4294967295|O>>>26),O=U+(C^(w|~N))+D[3]+2399980690&4294967295,U=w+(O<<10&4294967295|O>>>22),O=N+(w^(U|~C))+D[10]+4293915773&4294967295,N=U+(O<<15&4294967295|O>>>17),O=C+(U^(N|~w))+D[1]+2240044497&4294967295,C=N+(O<<21&4294967295|O>>>11),O=w+(N^(C|~U))+D[8]+1873313359&4294967295,w=C+(O<<6&4294967295|O>>>26),O=U+(C^(w|~N))+D[15]+4264355552&4294967295,U=w+(O<<10&4294967295|O>>>22),O=N+(w^(U|~C))+D[6]+2734768916&4294967295,N=U+(O<<15&4294967295|O>>>17),O=C+(U^(N|~w))+D[13]+1309151649&4294967295,C=N+(O<<21&4294967295|O>>>11),O=w+(N^(C|~U))+D[4]+4149444226&4294967295,w=C+(O<<6&4294967295|O>>>26),O=U+(C^(w|~N))+D[11]+3174756917&4294967295,U=w+(O<<10&4294967295|O>>>22),O=N+(w^(U|~C))+D[2]+718787259&4294967295,N=U+(O<<15&4294967295|O>>>17),O=C+(U^(N|~w))+D[9]+3951481745&4294967295,A.g[0]=A.g[0]+w&4294967295,A.g[1]=A.g[1]+(N+(O<<21&4294967295|O>>>11))&4294967295,A.g[2]=A.g[2]+N&4294967295,A.g[3]=A.g[3]+U&4294967295}i.prototype.v=function(A,w){w===void 0&&(w=A.length);const C=w-this.blockSize,D=this.C;let N=this.h,U=0;for(;U<w;){if(N==0)for(;U<=C;)a(this,A,U),U+=this.blockSize;if(typeof A=="string"){for(;U<w;)if(D[N++]=A.charCodeAt(U++),N==this.blockSize){a(this,D),N=0;break}}else for(;U<w;)if(D[N++]=A[U++],N==this.blockSize){a(this,D),N=0;break}}this.h=N,this.o+=w},i.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var w=1;w<A.length-8;++w)A[w]=0;w=this.o*8;for(var C=A.length-8;C<A.length;++C)A[C]=w&255,w/=256;for(this.v(A),A=Array(16),w=0,C=0;C<4;++C)for(let D=0;D<32;D+=8)A[w++]=this.g[C]>>>D&255;return A};function l(A,w){var C=h;return Object.prototype.hasOwnProperty.call(C,A)?C[A]:C[A]=w(A)}function u(A,w){this.h=w;const C=[];let D=!0;for(let N=A.length-1;N>=0;N--){const U=A[N]|0;D&&U==w||(C[N]=U,D=!1)}this.g=C}var h={};function f(A){return-128<=A&&A<128?l(A,function(w){return new u([w|0],w<0?-1:0)}):new u([A|0],A<0?-1:0)}function p(A){if(isNaN(A)||!isFinite(A))return g;if(A<0)return k(p(-A));const w=[];let C=1;for(let D=0;A>=C;D++)w[D]=A/C|0,C*=4294967296;return new u(w,0)}function v(A,w){if(A.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(A.charAt(0)=="-")return k(v(A.substring(1),w));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(w,8));let D=g;for(let U=0;U<A.length;U+=8){var N=Math.min(8,A.length-U);const O=parseInt(A.substring(U,U+N),w);N<8?(N=p(Math.pow(w,N)),D=D.j(N).add(p(O))):(D=D.j(C),D=D.add(p(O)))}return D}var g=f(0),_=f(1),S=f(16777216);n=u.prototype,n.m=function(){if(M(this))return-k(this).m();let A=0,w=1;for(let C=0;C<this.g.length;C++){const D=this.i(C);A+=(D>=0?D:4294967296+D)*w,w*=4294967296}return A},n.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R(this))return"0";if(M(this))return"-"+k(this).toString(A);const w=p(Math.pow(A,6));var C=this;let D="";for(;;){const N=Y(C,w).g;C=V(C,N.j(w));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(A);if(C=N,R(C))return U+D;for(;U.length<6;)U="0"+U;D=U+D}},n.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function R(A){if(A.h!=0)return!1;for(let w=0;w<A.g.length;w++)if(A.g[w]!=0)return!1;return!0}function M(A){return A.h==-1}n.l=function(A){return A=V(this,A),M(A)?-1:R(A)?0:1};function k(A){const w=A.g.length,C=[];for(let D=0;D<w;D++)C[D]=~A.g[D];return new u(C,~A.h).add(_)}n.abs=function(){return M(this)?k(this):this},n.add=function(A){const w=Math.max(this.g.length,A.g.length),C=[];let D=0;for(let N=0;N<=w;N++){let U=D+(this.i(N)&65535)+(A.i(N)&65535),O=(U>>>16)+(this.i(N)>>>16)+(A.i(N)>>>16);D=O>>>16,U&=65535,O&=65535,C[N]=O<<16|U}return new u(C,C[C.length-1]&-2147483648?-1:0)};function V(A,w){return A.add(k(w))}n.j=function(A){if(R(this)||R(A))return g;if(M(this))return M(A)?k(this).j(k(A)):k(k(this).j(A));if(M(A))return k(this.j(k(A)));if(this.l(S)<0&&A.l(S)<0)return p(this.m()*A.m());const w=this.g.length+A.g.length,C=[];for(var D=0;D<2*w;D++)C[D]=0;for(D=0;D<this.g.length;D++)for(let N=0;N<A.g.length;N++){const U=this.i(D)>>>16,O=this.i(D)&65535,ye=A.i(N)>>>16,Se=A.i(N)&65535;C[2*D+2*N]+=O*Se,H(C,2*D+2*N),C[2*D+2*N+1]+=U*Se,H(C,2*D+2*N+1),C[2*D+2*N+1]+=O*ye,H(C,2*D+2*N+1),C[2*D+2*N+2]+=U*ye,H(C,2*D+2*N+2)}for(A=0;A<w;A++)C[A]=C[2*A+1]<<16|C[2*A];for(A=w;A<2*w;A++)C[A]=0;return new u(C,0)};function H(A,w){for(;(A[w]&65535)!=A[w];)A[w+1]+=A[w]>>>16,A[w]&=65535,w++}function G(A,w){this.g=A,this.h=w}function Y(A,w){if(R(w))throw Error("division by zero");if(R(A))return new G(g,g);if(M(A))return w=Y(k(A),w),new G(k(w.g),k(w.h));if(M(w))return w=Y(A,k(w)),new G(k(w.g),w.h);if(A.g.length>30){if(M(A)||M(w))throw Error("slowDivide_ only works with positive integers.");for(var C=_,D=w;D.l(A)<=0;)C=$(C),D=$(D);var N=q(C,1),U=q(D,1);for(D=q(D,2),C=q(C,2);!R(D);){var O=U.add(D);O.l(A)<=0&&(N=N.add(C),U=O),D=q(D,1),C=q(C,1)}return w=V(A,N.j(w)),new G(N,w)}for(N=g;A.l(w)>=0;){for(C=Math.max(1,Math.floor(A.m()/w.m())),D=Math.ceil(Math.log(C)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),U=p(C),O=U.j(w);M(O)||O.l(A)>0;)C-=D,U=p(C),O=U.j(w);R(U)&&(U=_),N=N.add(U),A=V(A,O)}return new G(N,A)}n.B=function(A){return Y(this,A).h},n.and=function(A){const w=Math.max(this.g.length,A.g.length),C=[];for(let D=0;D<w;D++)C[D]=this.i(D)&A.i(D);return new u(C,this.h&A.h)},n.or=function(A){const w=Math.max(this.g.length,A.g.length),C=[];for(let D=0;D<w;D++)C[D]=this.i(D)|A.i(D);return new u(C,this.h|A.h)},n.xor=function(A){const w=Math.max(this.g.length,A.g.length),C=[];for(let D=0;D<w;D++)C[D]=this.i(D)^A.i(D);return new u(C,this.h^A.h)};function $(A){const w=A.g.length+1,C=[];for(let D=0;D<w;D++)C[D]=A.i(D)<<1|A.i(D-1)>>>31;return new u(C,A.h)}function q(A,w){const C=w>>5;w%=32;const D=A.g.length-C,N=[];for(let U=0;U<D;U++)N[U]=w>0?A.i(U+C)>>>w|A.i(U+C+1)<<32-w:A.i(U+C);return new u(N,A.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,JT=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=v,Js=u}).apply(typeof i1<"u"?i1:typeof self<"u"?self:typeof window<"u"?window:{});var th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ew,zc,tw,Sh,qg,nw,rw,iw;(function(){var n,e=Object.defineProperty;function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof th=="object"&&th];for(var b=0;b<d.length;++b){var T=d[b];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=t(this);function a(d,b){if(b)e:{var T=i;d=d.split(".");for(var I=0;I<d.length-1;I++){var Q=d[I];if(!(Q in T))break e;T=T[Q]}d=d[d.length-1],I=T[d],b=b(I),b!=I&&b!=null&&e(T,d,{configurable:!0,writable:!0,value:b})}}a("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(d){return d||function(b){var T=[],I;for(I in b)Object.prototype.hasOwnProperty.call(b,I)&&T.push([I,b[I]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(d){var b=typeof d;return b=="object"&&d!=null||b=="function"}function f(d,b,T){return d.call.apply(d.bind,arguments)}function p(d,b,T){return p=f,p.apply(null,arguments)}function v(d,b){var T=Array.prototype.slice.call(arguments,1);return function(){var I=T.slice();return I.push.apply(I,arguments),d.apply(this,I)}}function g(d,b){function T(){}T.prototype=b.prototype,d.Z=b.prototype,d.prototype=new T,d.prototype.constructor=d,d.Ob=function(I,Q,J){for(var de=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)de[Ue-2]=arguments[Ue];return b.prototype[Q].apply(I,de)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function S(d){const b=d.length;if(b>0){const T=Array(b);for(let I=0;I<b;I++)T[I]=d[I];return T}return[]}function R(d,b){for(let I=1;I<arguments.length;I++){const Q=arguments[I];var T=typeof Q;if(T=T!="object"?T:Q?Array.isArray(Q)?"array":T:"null",T=="array"||T=="object"&&typeof Q.length=="number"){T=d.length||0;const J=Q.length||0;d.length=T+J;for(let de=0;de<J;de++)d[T+de]=Q[de]}else d.push(Q)}}class M{constructor(b,T){this.i=b,this.j=T,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function k(d){u.setTimeout(()=>{throw d},0)}function V(){var d=A;let b=null;return d.g&&(b=d.g,d.g=d.g.next,d.g||(d.h=null),b.next=null),b}class H{constructor(){this.h=this.g=null}add(b,T){const I=G.get();I.set(b,T),this.h?this.h.next=I:this.g=I,this.h=I}}var G=new M(()=>new Y,d=>d.reset());class Y{constructor(){this.next=this.g=this.h=null}set(b,T){this.h=b,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let $,q=!1,A=new H,w=()=>{const d=Promise.resolve(void 0);$=()=>{d.then(C)}};function C(){for(var d;d=V();){try{d.h.call(d.g)}catch(T){k(T)}var b=G;b.j(d),b.h<100&&(b.h++,d.next=b.g,b.g=d)}q=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(d,b){this.type=d,this.g=this.target=b,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,b=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};u.addEventListener("test",T,b),u.removeEventListener("test",T,b)}catch{}return d})();function O(d){return/^[\s\xa0]*$/.test(d)}function ye(d,b){N.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,b)}g(ye,N),ye.prototype.init=function(d,b){const T=this.type=d.type,I=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=b,b=d.relatedTarget,b||(T=="mouseover"?b=d.fromElement:T=="mouseout"&&(b=d.toElement)),this.relatedTarget=b,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&ye.Z.h.call(this)},ye.prototype.h=function(){ye.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Se="closure_listenable_"+(Math.random()*1e6|0),F=0;function ie(d,b,T,I,Q){this.listener=d,this.proxy=null,this.src=b,this.type=T,this.capture=!!I,this.ha=Q,this.key=++F,this.da=this.fa=!1}function re(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function we(d,b,T){for(const I in d)b.call(T,d[I],I,d)}function Ce(d,b){for(const T in d)b.call(void 0,d[T],T,d)}function j(d){const b={};for(const T in d)b[T]=d[T];return b}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function te(d,b){let T,I;for(let Q=1;Q<arguments.length;Q++){I=arguments[Q];for(T in I)d[T]=I[T];for(let J=0;J<ne.length;J++)T=ne[J],Object.prototype.hasOwnProperty.call(I,T)&&(d[T]=I[T])}}function ce(d){this.src=d,this.g={},this.h=0}ce.prototype.add=function(d,b,T,I,Q){const J=d.toString();d=this.g[J],d||(d=this.g[J]=[],this.h++);const de=pe(d,b,I,Q);return de>-1?(b=d[de],T||(b.fa=!1)):(b=new ie(b,this.src,J,!!I,Q),b.fa=T,d.push(b)),b};function fe(d,b){const T=b.type;if(T in d.g){var I=d.g[T],Q=Array.prototype.indexOf.call(I,b,void 0),J;(J=Q>=0)&&Array.prototype.splice.call(I,Q,1),J&&(re(b),d.g[T].length==0&&(delete d.g[T],d.h--))}}function pe(d,b,T,I){for(let Q=0;Q<d.length;++Q){const J=d[Q];if(!J.da&&J.listener==b&&J.capture==!!T&&J.ha==I)return Q}return-1}var me="closure_lm_"+(Math.random()*1e6|0),Ae={};function Ne(d,b,T,I,Q){if(Array.isArray(b)){for(let J=0;J<b.length;J++)Ne(d,b[J],T,I,Q);return null}return T=Un(T),d&&d[Se]?d.J(b,T,h(I)?!!I.capture:!1,Q):ft(d,b,T,!1,I,Q)}function ft(d,b,T,I,Q,J){if(!b)throw Error("Invalid event type");const de=h(Q)?!!Q.capture:!!Q;let Ue=Wt(d);if(Ue||(d[me]=Ue=new ce(d)),T=Ue.add(b,T,I,de,J),T.proxy)return T;if(I=Et(),T.proxy=I,I.src=d,I.listener=T,d.addEventListener)U||(Q=de),Q===void 0&&(Q=!1),d.addEventListener(b.toString(),I,Q);else if(d.attachEvent)d.attachEvent(It(b.toString()),I);else if(d.addListener&&d.removeListener)d.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Et(){function d(T){return b.call(d.src,d.listener,T)}const b=Tn;return d}function Je(d,b,T,I,Q){if(Array.isArray(b))for(var J=0;J<b.length;J++)Je(d,b[J],T,I,Q);else I=h(I)?!!I.capture:!!I,T=Un(T),d&&d[Se]?(d=d.i,J=String(b).toString(),J in d.g&&(b=d.g[J],T=pe(b,T,I,Q),T>-1&&(re(b[T]),Array.prototype.splice.call(b,T,1),b.length==0&&(delete d.g[J],d.h--)))):d&&(d=Wt(d))&&(b=d.g[b.toString()],d=-1,b&&(d=pe(b,T,I,Q)),(T=d>-1?b[d]:null)&&Sn(T))}function Sn(d){if(typeof d!="number"&&d&&!d.da){var b=d.src;if(b&&b[Se])fe(b.i,d);else{var T=d.type,I=d.proxy;b.removeEventListener?b.removeEventListener(T,I,d.capture):b.detachEvent?b.detachEvent(It(T),I):b.addListener&&b.removeListener&&b.removeListener(I),(T=Wt(b))?(fe(T,d),T.h==0&&(T.src=null,b[me]=null)):re(d)}}}function It(d){return d in Ae?Ae[d]:Ae[d]="on"+d}function Tn(d,b){if(d.da)d=!0;else{b=new ye(b,this);const T=d.listener,I=d.ha||d.src;d.fa&&Sn(d),d=T.call(I,b)}return d}function Wt(d){return d=d[me],d instanceof ce?d:null}var Zt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Un(d){return typeof d=="function"?d:(d[Zt]||(d[Zt]=function(b){return d.handleEvent(b)}),d[Zt])}function Fe(){D.call(this),this.i=new ce(this),this.M=this,this.G=null}g(Fe,D),Fe.prototype[Se]=!0,Fe.prototype.removeEventListener=function(d,b,T,I){Je(this,d,b,T,I)};function it(d,b){var T,I=d.G;if(I)for(T=[];I;I=I.G)T.push(I);if(d=d.M,I=b.type||b,typeof b=="string")b=new N(b,d);else if(b instanceof N)b.target=b.target||d;else{var Q=b;b=new N(I,d),te(b,Q)}Q=!0;let J,de;if(T)for(de=T.length-1;de>=0;de--)J=b.g=T[de],Q=un(J,I,!0,b)&&Q;if(J=b.g=d,Q=un(J,I,!0,b)&&Q,Q=un(J,I,!1,b)&&Q,T)for(de=0;de<T.length;de++)J=b.g=T[de],Q=un(J,I,!1,b)&&Q}Fe.prototype.N=function(){if(Fe.Z.N.call(this),this.i){var d=this.i;for(const b in d.g){const T=d.g[b];for(let I=0;I<T.length;I++)re(T[I]);delete d.g[b],d.h--}}this.G=null},Fe.prototype.J=function(d,b,T,I){return this.i.add(String(d),b,!1,T,I)},Fe.prototype.K=function(d,b,T,I){return this.i.add(String(d),b,!0,T,I)};function un(d,b,T,I){if(b=d.i.g[String(b)],!b)return!0;b=b.concat();let Q=!0;for(let J=0;J<b.length;++J){const de=b[J];if(de&&!de.da&&de.capture==T){const Ue=de.listener,kt=de.ha||de.src;de.fa&&fe(d.i,de),Q=Ue.call(kt,I)!==!1&&Q}}return Q&&!I.defaultPrevented}function Rt(d,b){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:u.setTimeout(d,b||0)}function Pe(d){d.g=Rt(()=>{d.g=null,d.i&&(d.i=!1,Pe(d))},d.l);const b=d.h;d.h=null,d.m.apply(null,b)}class je extends D{constructor(b,T){super(),this.m=b,this.l=T,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Pe(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gt(d){D.call(this),this.h=d,this.g={}}g(gt,D);var Jt=[];function Jn(d){we(d.g,function(b,T){this.g.hasOwnProperty(T)&&Sn(b)},d),d.g={}}gt.prototype.N=function(){gt.Z.N.call(this),Jn(this)},gt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wn=u.JSON.stringify,hr=u.JSON.parse,An=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function dr(){}function Rn(){}var xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ot(){N.call(this,"d")}g(Ot,N);function rn(){N.call(this,"c")}g(rn,N);var _t={},Ii=null;function mr(){return Ii=Ii||new Fe}_t.Ia="serverreachability";function Cn(d){N.call(this,_t.Ia,d)}g(Cn,N);function zn(d){const b=mr();it(b,new Cn(b))}_t.STAT_EVENT="statevent";function pr(d,b){N.call(this,_t.STAT_EVENT,d),this.stat=b}g(pr,N);function St(d){const b=mr();it(b,new pr(b,d))}_t.Ja="timingevent";function er(d,b){N.call(this,_t.Ja,d),this.size=b}g(er,N);function Ie(d,b){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},b)}function st(){this.g=!0}st.prototype.ua=function(){this.g=!1};function zt(d,b,T,I,Q,J){d.info(function(){if(d.g)if(J){var de="",Ue=J.split("&");for(let nt=0;nt<Ue.length;nt++){var kt=Ue[nt].split("=");if(kt.length>1){const xt=kt[0];kt=kt[1];const br=xt.split("_");de=br.length>=2&&br[1]=="type"?de+(xt+"="+kt+"&"):de+(xt+"=redacted&")}}}else de=null;else de=J;return"XMLHTTP REQ ("+I+") [attempt "+Q+"]: "+b+`
`+T+`
`+de})}function sn(d,b,T,I,Q,J,de){d.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+Q+"]: "+b+`
`+T+`
`+J+" "+de})}function Pn(d,b,T,I){d.info(function(){return"XMLHTTP TEXT ("+b+"): "+In(d,T)+(I?" "+I:"")})}function Tt(d,b){d.info(function(){return"TIMEOUT: "+b})}st.prototype.info=function(){};function In(d,b){if(!d.g)return b;if(!b)return null;try{const J=JSON.parse(b);if(J){for(d=0;d<J.length;d++)if(Array.isArray(J[d])){var T=J[d];if(!(T.length<2)){var I=T[1];if(Array.isArray(I)&&!(I.length<1)){var Q=I[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let de=1;de<I.length;de++)I[de]=""}}}}return wn(J)}catch{return b}}var gr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},fn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},hn;function Wr(){}g(Wr,dr),Wr.prototype.g=function(){return new XMLHttpRequest},hn=new Wr;function dn(d){return encodeURIComponent(String(d))}function Ml(d){var b=1;d=d.split(":");const T=[];for(;b>0&&d.length;)T.push(d.shift()),b--;return d.length&&T.push(d.join(":")),T}function kr(d,b,T,I){this.j=d,this.i=b,this.l=T,this.S=I||1,this.V=new gt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pr}function Pr(){this.i=null,this.g="",this.h=!1}var jt={},an={};function Zr(d,b,T){d.M=1,d.A=ca(Ft(b)),d.u=T,d.R=!0,so(d,null)}function so(d,b){d.F=Date.now(),Jr(d),d.B=Ft(d.A);var T=d.B,I=d.S;Array.isArray(I)||(I=[String(I)]),co(T.i,"t",I),d.C=0,T=d.j.L,d.h=new Pr,d.g=zu(d.j,T?b:null,!d.u),d.P>0&&(d.O=new je(p(d.Y,d,d.g),d.P)),b=d.V,T=d.g,I=d.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(Jt[0]=Q.toString()),Q=Jt);for(let J=0;J<Q.length;J++){const de=Ne(T,Q[J],I||b.handleEvent,!1,b.h||b);if(!de)break;b.g[de.key]=de}b=d.J?j(d.J):{},d.u?(d.v||(d.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,b)):(d.v="GET",d.g.ea(d.B,d.v,null,b)),zn(),zt(d.i,d.v,d.B,d.l,d.S,d.u)}kr.prototype.ba=function(d){d=d.target;const b=this.O;b&&Ur(d)==3?b.j():this.Y(d)},kr.prototype.Y=function(d){try{if(d==this.g)e:{const Ue=Ur(this.g),kt=this.g.ya(),nt=this.g.ca();if(!(Ue<3)&&(Ue!=3||this.g&&(this.h.h||this.g.la()||mn(this.g)))){this.K||Ue!=4||kt==7||(kt==8||nt<=0?zn(3):zn(2)),ei(this);var b=this.g.ca();this.X=b;var T=Gd(this);if(this.o=b==200,sn(this.i,this.v,this.B,this.l,this.S,Ue,b),this.o){if(this.U&&!this.L){t:{if(this.g){var I,Q=this.g;if((I=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(I)){var J=I;break t}}J=null}if(d=J)Pn(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ti(this,d);else{this.o=!1,this.m=3,St(12),tr(this),yr(this);break e}}if(this.R){d=!0;let xt;for(;!this.K&&this.C<T.length;)if(xt=Ru(this,T),xt==an){Ue==4&&(this.m=4,St(14),d=!1),Pn(this.i,this.l,null,"[Incomplete Response]");break}else if(xt==jt){this.m=4,St(15),Pn(this.i,this.l,T,"[Invalid Chunk]"),d=!1;break}else Pn(this.i,this.l,xt,null),ti(this,xt);if(Au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||T.length!=0||this.h.h||(this.m=1,St(16),d=!1),this.o=this.o&&d,!d)Pn(this.i,this.l,T,"[Invalid Chunked Response]"),tr(this),yr(this);else if(T.length>0&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.aa&&!de.P&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Kl(de),de.P=!0,St(11))}}else Pn(this.i,this.l,T,null),ti(this,T);Ue==4&&tr(this),this.o&&!this.K&&(Ue==4?Pu(this.j,this):(this.o=!1,Jr(this)))}else Mi(this.g),b==400&&T.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),tr(this),yr(this)}}}catch{}finally{}};function Gd(d){if(!Au(d))return d.g.la();const b=mn(d.g);if(b==="")return"";let T="";const I=b.length,Q=Ur(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return tr(d),yr(d),"";d.h.i=new u.TextDecoder}for(let J=0;J<I;J++)d.h.h=!0,T+=d.h.i.decode(b[J],{stream:!(Q&&J==I-1)});return b.length=0,d.h.g+=T,d.C=0,d.h.g}function Au(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Ru(d,b){var T=d.C,I=b.indexOf(`
`,T);return I==-1?an:(T=Number(b.substring(T,I)),isNaN(T)?jt:(I+=1,I+T>b.length?an:(b=b.slice(I,I+T),d.C=I+T,b)))}kr.prototype.cancel=function(){this.K=!0,tr(this)};function Jr(d){d.T=Date.now()+d.H,ao(d,d.H)}function ao(d,b){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Ie(p(d.aa,d),b)}function ei(d){d.D&&(u.clearTimeout(d.D),d.D=null)}kr.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Tt(this.i,this.B),this.M!=2&&(zn(),St(17)),tr(this),this.m=2,yr(this)):ao(this,this.T-d)};function yr(d){d.j.I==0||d.K||Pu(d.j,d)}function tr(d){ei(d);var b=d.O;b&&typeof b.dispose=="function"&&b.dispose(),d.O=null,Jn(d.V),d.g&&(b=d.g,d.g=null,b.abort(),b.dispose())}function ti(d,b){try{var T=d.j;if(T.I!=0&&(T.g==d||ri(T.h,d))){if(!d.L&&ri(T.h,d)&&T.I==3){try{var I=T.Ba.g.parse(b)}catch{I=null}if(Array.isArray(I)&&I.length==3){var Q=I;if(Q[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<d.F)po(T),ps(T);else break e;ga(T),St(18)}}else T.xa=Q[1],0<T.xa-T.K&&Q[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Ie(p(T.Va,T),6e3));ni(T.h)<=1&&T.ta&&(T.ta=void 0)}else ci(T,11)}else if((d.L||T.g==d)&&po(T),!O(b))for(Q=T.Ba.g.parse(b),b=0;b<Q.length;b++){let nt=Q[b];const xt=nt[0];if(!(xt<=T.K))if(T.K=xt,nt=nt[1],T.I==2)if(nt[0]=="c"){T.M=nt[1],T.ba=nt[2];const br=nt[3];br!=null&&(T.ka=br,T.j.info("VER="+T.ka));const ui=nt[4];ui!=null&&(T.za=ui,T.j.info("SVER="+T.za));const zr=nt[5];zr!=null&&typeof zr=="number"&&zr>0&&(I=1.5*zr,T.O=I,T.j.info("backChannelRequestTimeoutMs_="+I)),I=T;const jr=d.g;if(jr){const ya=jr.g?jr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ya){var J=I.h;J.g||ya.indexOf("spdy")==-1&&ya.indexOf("quic")==-1&&ya.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(kl(J,J.h),J.h=null))}if(I.G){const go=jr.g?jr.g.getResponseHeader("X-HTTP-Session-Id"):null;go&&(I.wa=go,lt(I.J,I.G,go))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-d.F,T.j.info("Handshake RTT: "+T.T+"ms")),I=T;var de=d;if(I.na=Uu(I,I.L?I.ba:null,I.W),de.L){Pl(I.h,de);var Ue=de,kt=I.O;kt&&(Ue.H=kt),Ue.D&&(ei(Ue),Jr(Ue)),I.g=de}else Ou(I);T.i.length>0&&li(T)}else nt[0]!="stop"&&nt[0]!="close"||ci(T,7);else T.I==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?ci(T,7):Hl(T):nt[0]!="noop"&&T.l&&T.l.qa(nt),T.A=0)}}zn(4)}catch{}}var Bt=class{constructor(d,b){this.g=d,this.map=b}};function Dl(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ol(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function ni(d){return d.h?1:d.g?d.g.size:0}function ri(d,b){return d.h?d.h==b:d.g?d.g.has(b):!1}function kl(d,b){d.g?d.g.add(b):d.h=b}function Pl(d,b){d.h&&d.h==b?d.h=null:d.g&&d.g.has(b)&&d.g.delete(b)}Dl.prototype.cancel=function(){if(this.i=Ll(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Ll(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let b=d.i;for(const T of d.g.values())b=b.concat(T.G);return b}return S(d.i)}var xu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oo(d,b){if(d){d=d.split("&");for(let T=0;T<d.length;T++){const I=d[T].indexOf("=");let Q,J=null;I>=0?(Q=d[T].substring(0,I),J=d[T].substring(I+1)):Q=d[T],b(Q,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function nr(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;d instanceof nr?(this.l=d.l,on(this,d.j),this.o=d.o,this.g=d.g,ls(this,d.u),this.h=d.h,Vl(this,Mu(d.i)),this.m=d.m):d&&(b=String(d).match(xu))?(this.l=!1,on(this,b[1]||"",!0),this.o=ii(b[2]||""),this.g=ii(b[3]||"",!0),ls(this,b[4]),this.h=ii(b[5]||"",!0),Vl(this,b[6]||"",!0),this.m=ii(b[7]||"")):(this.l=!1,this.i=new us(null,this.l))}nr.prototype.toString=function(){const d=[];var b=this.j;b&&d.push(ua(b,lo,!0),":");var T=this.g;return(T||b=="file")&&(d.push("//"),(b=this.o)&&d.push(ua(b,lo,!0),"@"),d.push(dn(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&d.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(ua(T,T.charAt(0)=="/"?Ul:Cu,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",ua(T,Iu)),d.join("")},nr.prototype.resolve=function(d){const b=Ft(this);let T=!!d.j;T?on(b,d.j):T=!!d.o,T?b.o=d.o:T=!!d.g,T?b.g=d.g:T=d.u!=null;var I=d.h;if(T)ls(b,d.u);else if(T=!!d.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var Q=b.h.lastIndexOf("/");Q!=-1&&(I=b.h.slice(0,Q+1)+I)}if(Q=I,Q==".."||Q==".")I="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){I=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const J=[];for(let de=0;de<Q.length;){const Ue=Q[de++];Ue=="."?I&&de==Q.length&&J.push(""):Ue==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),I&&de==Q.length&&J.push("")):(J.push(Ue),I=!0)}I=J.join("/")}else I=Q}return T?b.h=I:T=d.i.toString()!=="",T?Vl(b,Mu(d.i)):T=!!d.m,T&&(b.m=d.m),b};function Ft(d){return new nr(d)}function on(d,b,T){d.j=T?ii(b,!0):b,d.j&&(d.j=d.j.replace(/:$/,""))}function ls(d,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);d.u=b}else d.u=null}function Vl(d,b,T){b instanceof us?(d.i=b,uo(d.i,d.l)):(T||(b=ua(b,cs)),d.i=new us(b,d.l))}function lt(d,b,T){d.i.set(b,T)}function ca(d){return lt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function ii(d,b){return d?b?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ua(d,b,T){return typeof d=="string"?(d=encodeURI(d).replace(b,jn),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function jn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var lo=/[#\/\?@]/g,Cu=/[#\?:]/g,Ul=/[#\?]/g,cs=/[#\?@]/g,Iu=/#/g;function us(d,b){this.h=this.g=null,this.i=d||null,this.j=!!b}function Bn(d){d.g||(d.g=new Map,d.h=0,d.i&&oo(d.i,function(b,T){d.add(decodeURIComponent(b.replace(/\+/g," ")),T)}))}n=us.prototype,n.add=function(d,b){Bn(this),this.i=null,d=fs(this,d);let T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(b),this.h+=1,this};function Nu(d,b){Bn(d),b=fs(d,b),d.g.has(b)&&(d.i=null,d.h-=d.g.get(b).length,d.g.delete(b))}function zl(d,b){return Bn(d),b=fs(d,b),d.g.has(b)}n.forEach=function(d,b){Bn(this),this.g.forEach(function(T,I){T.forEach(function(Q){d.call(b,Q,I,this)},this)},this)};function jl(d,b){Bn(d);let T=[];if(typeof b=="string")zl(d,b)&&(T=T.concat(d.g.get(fs(d,b))));else for(d=Array.from(d.g.values()),b=0;b<d.length;b++)T=T.concat(d[b]);return T}n.set=function(d,b){return Bn(this),this.i=null,d=fs(this,d),zl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[b]),this.h+=1,this},n.get=function(d,b){return d?(d=jl(this,d),d.length>0?String(d[0]):b):b};function co(d,b,T){Nu(d,b),T.length>0&&(d.i=null,d.g.set(fs(d,b),S(T)),d.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],b=Array.from(this.g.keys());for(let I=0;I<b.length;I++){var T=b[I];const Q=dn(T);T=jl(this,T);for(let J=0;J<T.length;J++){let de=Q;T[J]!==""&&(de+="="+dn(T[J])),d.push(de)}}return this.i=d.join("&")};function Mu(d){const b=new us;return b.i=d.i,d.g&&(b.g=new Map(d.g),b.h=d.h),b}function fs(d,b){return b=String(b),d.j&&(b=b.toLowerCase()),b}function uo(d,b){b&&!d.j&&(Bn(d),d.i=null,d.g.forEach(function(T,I){const Q=I.toLowerCase();I!=Q&&(Nu(this,I),co(this,Q,T))},d)),d.j=b}function Lr(d,b){const T=new st;if(u.Image){const I=new Image;I.onload=v(vr,T,"TestLoadImage: loaded",!0,b,I),I.onerror=v(vr,T,"TestLoadImage: error",!1,b,I),I.onabort=v(vr,T,"TestLoadImage: abort",!1,b,I),I.ontimeout=v(vr,T,"TestLoadImage: timeout",!1,b,I),u.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=d}else b(!1)}function Bl(d,b){const T=new st,I=new AbortController,Q=setTimeout(()=>{I.abort(),vr(T,"TestPingServer: timeout",!1,b)},1e4);fetch(d,{signal:I.signal}).then(J=>{clearTimeout(Q),J.ok?vr(T,"TestPingServer: ok",!0,b):vr(T,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Q),vr(T,"TestPingServer: error",!1,b)})}function vr(d,b,T,I,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),I(T)}catch{}}function hs(){this.g=new An}function si(d){this.i=d.Sb||null,this.h=d.ab||!1}g(si,dr),si.prototype.g=function(){return new fa(this.i,this.h)};function fa(d,b){Fe.call(this),this.H=d,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(fa,Fe),n=fa.prototype,n.open=function(d,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=b,this.readyState=1,Vr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(b.body=d),(this.H||u).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ds(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Vr(this)),this.g&&(this.readyState=3,Vr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;fo(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function fo(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var b=d.value?d.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!d.done}))&&(this.response=this.responseText+=b)}d.done?ds(this):Vr(this),this.readyState==3&&fo(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,ds(this))},n.Na=function(d){this.g&&(this.response=d,ds(this))},n.ga=function(){this.g&&ds(this)};function ds(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Vr(d)}n.setRequestHeader=function(d,b){this.A.append(d,b)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],b=this.h.entries();for(var T=b.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=b.next();return d.join(`\r
`)};function Vr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(fa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function _r(d){let b="";return we(d,function(T,I){b+=I,b+=":",b+=T,b+=`\r
`}),b}function ha(d,b,T){e:{for(I in T){var I=!1;break e}I=!0}I||(T=_r(T),typeof d=="string"?T!=null&&dn(T):lt(d,b,T))}function ht(d){Fe.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(ht,Fe);var ai=/^https?$/i,Fl=["POST","PUT"];n=ht.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,b,T,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);b=b?b.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():hn.g(),this.g.onreadystatechange=_(p(this.Ca,this));try{this.B=!0,this.g.open(b,String(d),!0),this.B=!1}catch(J){da(this,J);return}if(d=T||"",T=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var Q in I)T.set(Q,I[Q]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const J of I.keys())T.set(J,I.get(J));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(T.keys()).find(J=>J.toLowerCase()=="content-type"),Q=u.FormData&&d instanceof u.FormData,!(Array.prototype.indexOf.call(Fl,b,void 0)>=0)||I||Q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,de]of T)this.g.setRequestHeader(J,de);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(J){da(this,J)}};function da(d,b){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=b,d.o=5,ql(d),Ni(d)}function ql(d){d.A||(d.A=!0,it(d,"complete"),it(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,it(this,"complete"),it(this,"abort"),Ni(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ni(this,!0)),ht.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ma(this):this.Xa())},n.Xa=function(){ma(this)};function ma(d){if(d.h&&typeof l<"u"){if(d.v&&Ur(d)==4)setTimeout(d.Ca.bind(d),0);else if(it(d,"readystatechange"),Ur(d)==4){d.h=!1;try{const J=d.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var T;if(!(T=b)){var I;if(I=J===0){let de=String(d.D).match(xu)[1]||null;!de&&u.self&&u.self.location&&(de=u.self.location.protocol.slice(0,-1)),I=!ai.test(de?de.toLowerCase():"")}T=I}if(T)it(d,"complete"),it(d,"success");else{d.o=6;try{var Q=Ur(d)>2?d.g.statusText:""}catch{Q=""}d.l=Q+" ["+d.ca()+"]",ql(d)}}finally{Ni(d)}}}}function Ni(d,b){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const T=d.g;d.g=null,b||it(d,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Ur(d){return d.g?d.g.readyState:0}n.ca=function(){try{return Ur(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var b=this.g.responseText;return d&&b.indexOf(d)==0&&(b=b.substring(d.length)),hr(b)}};function mn(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Mi(d){const b={};d=(d.g&&Ur(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<d.length;I++){if(O(d[I]))continue;var T=Ml(d[I]);const Q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const J=b[Q]||[];b[Q]=J,J.push(T)}Ce(b,function(I){return I.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function oi(d,b,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||b}function ms(d){this.za=0,this.i=[],this.j=new st,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=oi("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=oi("baseRetryDelayMs",5e3,d),this.Za=oi("retryDelaySeedMs",1e4,d),this.Ta=oi("forwardChannelMaxRetries",2,d),this.va=oi("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Dl(d&&d.concurrentRequestLimit),this.Ba=new hs,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=ms.prototype,n.ka=8,n.I=1,n.connect=function(d,b,T,I){St(0),this.W=d,this.H=b||{},T&&I!==void 0&&(this.H.OSID=T,this.H.OAID=I),this.F=this.X,this.J=Uu(this,null,this.W),li(this)};function Hl(d){if(ho(d),d.I==3){var b=d.V++,T=Ft(d.J);if(lt(T,"SID",d.M),lt(T,"RID",b),lt(T,"TYPE","terminate"),pa(d,T),b=new kr(d,d.j,b),b.M=2,b.A=ca(Ft(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(b.A.toString(),"")}catch{}!T&&u.Image&&(new Image().src=b.A,T=!0),T||(b.g=zu(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Jr(b)}Vu(d)}function ps(d){d.g&&(Kl(d),d.g.cancel(),d.g=null)}function ho(d){ps(d),d.v&&(u.clearTimeout(d.v),d.v=null),po(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&u.clearTimeout(d.m),d.m=null)}function li(d){if(!Ol(d.h)&&!d.m){d.m=!0;var b=d.Ea;$||w(),q||($(),q=!0),A.add(b,d),d.D=0}}function mo(d,b){return ni(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=b.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Ie(p(d.Ea,d,b),Lu(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const Q=new kr(this,this.j,d);let J=this.o;if(this.U&&(J?(J=j(J),te(J,this.U)):J=this.U),this.u!==null||this.R||(Q.J=J,J=null),this.S)e:{for(var b=0,T=0;T<this.i.length;T++){t:{var I=this.i[T];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(b+=I,b>4096){b=T;break e}if(b===4096||T===this.i.length-1){b=T+1;break e}}b=1e3}else b=1e3;b=Du(this,Q,b),T=Ft(this.J),lt(T,"RID",d),lt(T,"CVER",22),this.G&&lt(T,"X-HTTP-Session-Id",this.G),pa(this,T),J&&(this.R?b="headers="+dn(_r(J))+"&"+b:this.u&&ha(T,this.u,J)),kl(this.h,Q),this.Ra&&lt(T,"TYPE","init"),this.S?(lt(T,"$req",b),lt(T,"SID","null"),Q.U=!0,Zr(Q,T,null)):Zr(Q,T,b),this.I=2}}else this.I==3&&(d?Gl(this,d):this.i.length==0||Ol(this.h)||Gl(this))};function Gl(d,b){var T;b?T=b.l:T=d.V++;const I=Ft(d.J);lt(I,"SID",d.M),lt(I,"RID",T),lt(I,"AID",d.K),pa(d,I),d.u&&d.o&&ha(I,d.u,d.o),T=new kr(d,d.j,T,d.D+1),d.u===null&&(T.J=d.o),b&&(d.i=b.G.concat(d.i)),b=Du(d,T,1e3),T.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),kl(d.h,T),Zr(T,I,b)}function pa(d,b){d.H&&we(d.H,function(T,I){lt(b,I,T)}),d.l&&we({},function(T,I){lt(b,I,T)})}function Du(d,b,T){T=Math.min(d.i.length,T);const I=d.l?p(d.l.Ka,d.l,d):null;e:{var Q=d.i;let Ue=-1;for(;;){const kt=["count="+T];Ue==-1?T>0?(Ue=Q[0].g,kt.push("ofs="+Ue)):Ue=0:kt.push("ofs="+Ue);let nt=!0;for(let xt=0;xt<T;xt++){var J=Q[xt].g;const br=Q[xt].map;if(J-=Ue,J<0)Ue=Math.max(0,Q[xt].g-100),nt=!1;else try{J="req"+J+"_"||"";try{var de=br instanceof Map?br:Object.entries(br);for(const[ui,zr]of de){let jr=zr;h(zr)&&(jr=wn(zr)),kt.push(J+ui+"="+encodeURIComponent(jr))}}catch(ui){throw kt.push(J+"type="+encodeURIComponent("_badmap")),ui}}catch{I&&I(br)}}if(nt){de=kt.join("&");break e}}de=void 0}return d=d.i.splice(0,T),b.G=d,de}function Ou(d){if(!d.g&&!d.v){d.Y=1;var b=d.Da;$||w(),q||($(),q=!0),A.add(b,d),d.A=0}}function ga(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Ie(p(d.Da,d),Lu(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,ku(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Ie(p(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),ps(this),ku(this))};function Kl(d){d.B!=null&&(u.clearTimeout(d.B),d.B=null)}function ku(d){d.g=new kr(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var b=Ft(d.na);lt(b,"RID","rpc"),lt(b,"SID",d.M),lt(b,"AID",d.K),lt(b,"CI",d.F?"0":"1"),!d.F&&d.ia&&lt(b,"TO",d.ia),lt(b,"TYPE","xmlhttp"),pa(d,b),d.u&&d.o&&ha(b,d.u,d.o),d.O&&(d.g.H=d.O);var T=d.g;d=d.ba,T.M=1,T.A=ca(Ft(b)),T.u=null,T.R=!0,so(T,d)}n.Va=function(){this.C!=null&&(this.C=null,ps(this),ga(this),St(19))};function po(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function Pu(d,b){var T=null;if(d.g==b){po(d),Kl(d),d.g=null;var I=2}else if(ri(d.h,b))T=b.G,Pl(d.h,b),I=1;else return;if(d.I!=0){if(b.o)if(I==1){T=b.u?b.u.length:0,b=Date.now()-b.F;var Q=d.D;I=mr(),it(I,new er(I,T)),li(d)}else Ou(d);else if(Q=b.m,Q==3||Q==0&&b.X>0||!(I==1&&mo(d,b)||I==2&&ga(d)))switch(T&&T.length>0&&(b=d.h,b.i=b.i.concat(T)),Q){case 1:ci(d,5);break;case 4:ci(d,10);break;case 3:ci(d,6);break;default:ci(d,2)}}}function Lu(d,b){let T=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(T*=2),T*b}function ci(d,b){if(d.j.info("Error code "+b),b==2){var T=p(d.bb,d),I=d.Ua;const Q=!I;I=new nr(I||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||on(I,"https"),ca(I),Q?Lr(I.toString(),T):Bl(I.toString(),T)}else St(2);d.I=0,d.l&&d.l.pa(b),Vu(d),ho(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function Vu(d){if(d.I=0,d.ja=[],d.l){const b=Ll(d.h);(b.length!=0||d.i.length!=0)&&(R(d.ja,b),R(d.ja,d.i),d.h.i.length=0,S(d.i),d.i.length=0),d.l.oa()}}function Uu(d,b,T){var I=T instanceof nr?Ft(T):new nr(T);if(I.g!="")b&&(I.g=b+"."+I.g),ls(I,I.u);else{var Q=u.location;I=Q.protocol,b=b?b+"."+Q.hostname:Q.hostname,Q=+Q.port;const J=new nr(null);I&&on(J,I),b&&(J.g=b),Q&&ls(J,Q),T&&(J.h=T),I=J}return T=d.G,b=d.wa,T&&b&&lt(I,T,b),lt(I,"VER",d.ka),pa(d,I),I}function zu(d,b,T){if(b&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=d.Aa&&!d.ma?new ht(new si({ab:T})):new ht(d.ma),b.Fa(d.L),b}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ju(){}n=ju.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function gs(){}gs.prototype.g=function(d,b){return new Ln(d,b)};function Ln(d,b){Fe.call(this),this.g=new ms(b),this.l=d,this.h=b&&b.messageUrlParams||null,d=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(d?d["X-WebChannel-Content-Type"]=b.messageContentType:d={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(d?d["X-WebChannel-Client-Profile"]=b.sa:d={"X-WebChannel-Client-Profile":b.sa}),this.g.U=d,(d=b&&b.Qb)&&!O(d)&&(this.g.u=d),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!O(b)&&(this.g.G=b,d=this.h,d!==null&&b in d&&(d=this.h,b in d&&delete d[b])),this.j=new Di(this)}g(Ln,Fe),Ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){Hl(this.g)},Ln.prototype.o=function(d){var b=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.v&&(T={},T.__data__=wn(d),d=T);b.i.push(new Bt(b.Ya++,d)),b.I==3&&li(b)},Ln.prototype.N=function(){this.g.l=null,delete this.j,Hl(this.g),delete this.g,Ln.Z.N.call(this)};function Bu(d){Ot.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var b=d.__sm__;if(b){e:{for(const T in b){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,b=b!==null&&d in b?b[d]:void 0),this.data=b}else this.data=d}g(Bu,Ot);function Fu(){rn.call(this),this.status=1}g(Fu,rn);function Di(d){this.g=d}g(Di,ju),Di.prototype.ra=function(){it(this.g,"a")},Di.prototype.qa=function(d){it(this.g,new Bu(d))},Di.prototype.pa=function(d){it(this.g,new Fu)},Di.prototype.oa=function(){it(this.g,"b")},gs.prototype.createWebChannel=gs.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,iw=function(){return new gs},rw=function(){return mr()},nw=_t,qg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gr.NO_ERROR=0,gr.TIMEOUT=8,gr.HTTP_ERROR=6,Sh=gr,fn.COMPLETE="complete",tw=fn,Rn.EventType=xn,xn.OPEN="a",xn.CLOSE="b",xn.ERROR="c",xn.MESSAGE="d",Fe.prototype.listen=Fe.prototype.J,zc=Rn,ht.prototype.listenOnce=ht.prototype.K,ht.prototype.getLastError=ht.prototype.Ha,ht.prototype.getLastErrorCode=ht.prototype.ya,ht.prototype.getStatus=ht.prototype.ca,ht.prototype.getResponseJson=ht.prototype.La,ht.prototype.getResponseText=ht.prototype.la,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Fa,ew=ht}).apply(typeof th<"u"?th:typeof self<"u"?self:typeof window<"u"?window:{});const s1="@firebase/firestore",a1="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tl="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=new Ay("@firebase/firestore");function Zo(){return Wa.logLevel}function ve(n,...e){if(Wa.logLevel<=$e.DEBUG){const t=e.map(Uy);Wa.debug(`Firestore (${Tl}): ${n}`,...t)}}function is(n,...e){if(Wa.logLevel<=$e.ERROR){const t=e.map(Uy);Wa.error(`Firestore (${Tl}): ${n}`,...t)}}function dl(n,...e){if(Wa.logLevel<=$e.WARN){const t=e.map(Uy);Wa.warn(`Firestore (${Tl}): ${n}`,...t)}}function Uy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,sw(n,i,t)}function sw(n,e,t){let i=`FIRESTORE (${Tl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw is(i),new Error(i)}function ot(n,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,n||sw(e,a,i)}function Ve(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends as{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Dn.UNAUTHENTICATED)))}shutdown(){}}class pk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class gk{constructor(e){this.t=e,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ot(this.o===void 0,42304);let i=this.i;const a=f=>this.i!==i?(i=this.i,t(f)):Promise.resolve();let l=new Ji;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ji,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const f=l;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},h=f=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ji)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ot(typeof i.accessToken=="string",31837,{l:i}),new aw(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string",2055,{h:e}),new Dn(e)}}class yk{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class vk{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new yk(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class o1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _k{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ot(this.o===void 0,3512);const i=l=>{l.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,ve("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new o1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(ot(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new o1(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=bk(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function Qe(n,e){return n<e?-1:n>e?1:0}function Hg(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const a=n.charAt(i),l=e.charAt(i);if(a!==l)return hg(a)===hg(l)?Qe(a,l):hg(a)?1:-1}return Qe(n.length,e.length)}const Ek=55296,Sk=57343;function hg(n){const e=n.charCodeAt(0);return e>=Ek&&e<=Sk}function ml(n,e,t){return n.length===e.length&&n.every(((i,a)=>t(i,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg="__name__";class yi{constructor(e,t,i){t===void 0?t=0:t>e.length&&De(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&De(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return yi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof yi?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=yi.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Qe(e.length,t.length)}static compareSegments(e,t){const i=yi.isNumericId(e),a=yi.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?yi.extractNumericId(e).compare(yi.extractNumericId(t)):Hg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Js.fromString(e.substring(4,e.length-2))}}class bt extends yi{construct(e,t,i){return new bt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ge(oe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((a=>a.length>0)))}return new bt(t)}static emptyPath(){return new bt([])}}const Tk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends yi{construct(e,t,i){return new bn(e,t,i)}static isValidIdentifier(e){return Tk.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Gg}static keyField(){return new bn([Gg])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new ge(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new ge(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ge(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(i+=h,a++):(l(),a++)}if(l(),u)throw new ge(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(t)}static emptyPath(){return new bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(bt.fromString(e))}static fromName(e){return new xe(bt.fromString(e).popFirst(5))}static empty(){return new xe(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return bt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new bt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(n,e,t){if(!t)throw new ge(oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function wk(n,e,t,i){if(e===!0&&i===!0)throw new ge(oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function l1(n){if(!xe.isDocumentKey(n))throw new ge(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function c1(n){if(xe.isDocumentKey(n))throw new ge(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function lw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Ad(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":De(12329,{type:typeof n})}function Za(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ge(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ad(n);throw new ge(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(n,e){const t={typeString:n};return e&&(t.value=e),t}function yu(n,e){if(!lw(n))throw new ge(oe.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const u=n[i];if(a&&typeof u!==a){t=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new ge(oe.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=-62135596800,f1=1e6;class vt{static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*f1);return new vt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<u1)throw new ge(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/f1}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:vt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yu(e,vt._jsonSchema))return new vt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-u1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}vt._jsonSchemaVersion="firestore/timestamp/1.0",vt._jsonSchema={type:Qt("string",vt._jsonSchemaVersion),seconds:Qt("number"),nanoseconds:Qt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new vt(0,0))}static max(){return new ke(new vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=-1;function Ak(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=ke.fromTimestamp(i===1e9?new vt(t+1,0):new vt(t,i));return new na(a,xe.empty(),e)}function Rk(n){return new na(n.readTime,n.key,ru)}class na{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new na(ke.min(),xe.empty(),ru)}static max(){return new na(ke.max(),xe.empty(),ru)}}function xk(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=xe.comparator(n.documentKey,e.documentKey),t!==0?t:Qe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ik{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(n){if(n.code!==oe.FAILED_PRECONDITION||n.message!==Ck)throw n;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ue.reject(t)}static resolve(e){return new ue(((t,i)=>{t(e)}))}static reject(e){return new ue(((t,i)=>{i(e)}))}static waitFor(e){return new ue(((t,i)=>{let a=0,l=0,u=!1;e.forEach((h=>{++a,h.next((()=>{++l,u&&l===a&&t()}),(f=>i(f)))})),u=!0,l===a&&t()}))}static or(e){let t=ue.resolve(!1);for(const i of e)t=t.next((a=>a?ue.resolve(a):i()));return t}static forEach(e,t){const i=[];return e.forEach(((a,l)=>{i.push(t.call(this,a,l))})),this.waitFor(i)}static mapArray(e,t){return new ue(((i,a)=>{const l=e.length,u=new Array(l);let h=0;for(let f=0;f<l;f++){const p=f;t(e[p]).next((v=>{u[p]=v,++h,h===l&&i(u)}),(v=>a(v)))}}))}static doWhile(e,t){return new ue(((i,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):i()};l()}))}}function Nk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Al(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Rd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy=-1;function xd(n){return n==null}function ed(n){return n===0&&1/n==-1/0}function Mk(n){return typeof n=="number"&&Number.isInteger(n)&&!ed(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw="";function Dk(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=h1(e)),e=Ok(n.get(t),e);return h1(e)}function Ok(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case cw:t+="";break;default:t+=l}}return t}function h1(n){return n+cw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function to(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function uw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,t){this.comparator=e,this.root=t||_n.EMPTY}insert(e,t){return new Nt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nh(this.root,e,this.comparator,!0)}}class nh{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??_n.RED,this.left=a??_n.EMPTY,this.right=l??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new _n(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return _n.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new _n(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new m1(this.data.getIterator())}getIteratorFrom(e){return new m1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new nn(this.comparator);return t.data=e,t}}class m1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new Yr([])}unionWith(e){let t=new nn(bn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Yr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ml(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new fw("Invalid base64 string: "+l):l}})(e);return new En(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new En(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}En.EMPTY_BYTE_STRING=new En("");const kk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ra(n){if(ot(!!n,39018),typeof n=="string"){let e=0;const t=kk.exec(n);if(ot(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Vt(n.seconds),nanos:Vt(n.nanos)}}function Vt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ia(n){return typeof n=="string"?En.fromBase64String(n):En.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="server_timestamp",dw="__type__",mw="__previous_value__",pw="__local_write_time__";function By(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[dw])==null?void 0:i.stringValue)===hw}function Cd(n){const e=n.mapValue.fields[mw];return By(e)?Cd(e):e}function iu(n){const e=ra(n.mapValue.fields[pw].timestampValue);return new vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e,t,i,a,l,u,h,f,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=v}}const td="(default)";class su{constructor(e,t){this.projectId=e,this.database=t||td}static empty(){return new su("","")}get isDefaultDatabase(){return this.database===td}isEqual(e){return e instanceof su&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="__type__",Lk="__max__",rh={mapValue:{}},yw="__vector__",nd="value";function sa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?By(n)?4:Uk(n)?9007199254740991:Vk(n)?10:11:De(28295,{value:n})}function xi(n,e){if(n===e)return!0;const t=sa(n);if(t!==sa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return iu(n).isEqual(iu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=ra(a.timestampValue),h=ra(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,l){return ia(a.bytesValue).isEqual(ia(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,l){return Vt(a.geoPointValue.latitude)===Vt(l.geoPointValue.latitude)&&Vt(a.geoPointValue.longitude)===Vt(l.geoPointValue.longitude)})(n,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Vt(a.integerValue)===Vt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Vt(a.doubleValue),h=Vt(l.doubleValue);return u===h?ed(u)===ed(h):isNaN(u)&&isNaN(h)}return!1})(n,e);case 9:return ml(n.arrayValue.values||[],e.arrayValue.values||[],xi);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},h=l.mapValue.fields||{};if(d1(u)!==d1(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!xi(u[f],h[f])))return!1;return!0})(n,e);default:return De(52216,{left:n})}}function au(n,e){return(n.values||[]).find((t=>xi(t,e)))!==void 0}function pl(n,e){if(n===e)return 0;const t=sa(n),i=sa(e);if(t!==i)return Qe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qe(n.booleanValue,e.booleanValue);case 2:return(function(l,u){const h=Vt(l.integerValue||l.doubleValue),f=Vt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,e);case 3:return p1(n.timestampValue,e.timestampValue);case 4:return p1(iu(n),iu(e));case 5:return Hg(n.stringValue,e.stringValue);case 6:return(function(l,u){const h=ia(l),f=ia(u);return h.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(l,u){const h=l.split("/"),f=u.split("/");for(let p=0;p<h.length&&p<f.length;p++){const v=Qe(h[p],f[p]);if(v!==0)return v}return Qe(h.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,u){const h=Qe(Vt(l.latitude),Vt(u.latitude));return h!==0?h:Qe(Vt(l.longitude),Vt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return g1(n.arrayValue,e.arrayValue);case 10:return(function(l,u){var _,S,R,M;const h=l.fields||{},f=u.fields||{},p=(_=h[nd])==null?void 0:_.arrayValue,v=(S=f[nd])==null?void 0:S.arrayValue,g=Qe(((R=p==null?void 0:p.values)==null?void 0:R.length)||0,((M=v==null?void 0:v.values)==null?void 0:M.length)||0);return g!==0?g:g1(p,v)})(n.mapValue,e.mapValue);case 11:return(function(l,u){if(l===rh.mapValue&&u===rh.mapValue)return 0;if(l===rh.mapValue)return 1;if(u===rh.mapValue)return-1;const h=l.fields||{},f=Object.keys(h),p=u.fields||{},v=Object.keys(p);f.sort(),v.sort();for(let g=0;g<f.length&&g<v.length;++g){const _=Hg(f[g],v[g]);if(_!==0)return _;const S=pl(h[f[g]],p[v[g]]);if(S!==0)return S}return Qe(f.length,v.length)})(n.mapValue,e.mapValue);default:throw De(23264,{he:t})}}function p1(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Qe(n,e);const t=ra(n),i=ra(e),a=Qe(t.seconds,i.seconds);return a!==0?a:Qe(t.nanos,i.nanos)}function g1(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=pl(t[a],i[a]);if(l)return l}return Qe(t.length,i.length)}function gl(n){return Kg(n)}function Kg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=ra(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return ia(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return xe.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=Kg(l);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const u of i)l?l=!1:a+=",",a+=`${u}:${Kg(t.fields[u])}`;return a+"}"})(n.mapValue):De(61005,{value:n})}function Th(n){switch(sa(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cd(n);return e?16+Th(e):16;case 5:return 2*n.stringValue.length;case 6:return ia(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+Th(l)),0)})(n.arrayValue);case 10:case 11:return(function(i){let a=0;return to(i.fields,((l,u)=>{a+=l.length+Th(u)})),a})(n.mapValue);default:throw De(13486,{value:n})}}function y1(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Yg(n){return!!n&&"integerValue"in n}function Fy(n){return!!n&&"arrayValue"in n}function v1(n){return!!n&&"nullValue"in n}function _1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function wh(n){return!!n&&"mapValue"in n}function Vk(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[gw])==null?void 0:i.stringValue)===yw}function Qc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return to(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Qc(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Qc(n.arrayValue.values[t]);return e}return{...n}}function Uk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Lk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.value=e}static empty(){return new Nr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!wh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qc(t)}setAll(e){let t=bn.emptyPath(),i={},a=[];e.forEach(((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,i,a),i={},a=[],t=h.popLast()}u?i[h.lastSegment()]=Qc(u):a.push(h.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());wh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];wh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){to(t,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new Nr(Qc(this.value))}}function vw(n){const e=[];return to(n.fields,((t,i)=>{const a=new bn([t]);if(wh(i)){const l=vw(i.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new Yr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e,t,i,a,l,u,h){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new On(e,0,ke.min(),ke.min(),ke.min(),Nr.empty(),0)}static newFoundDocument(e,t,i,a){return new On(e,1,t,ke.min(),i,a,0)}static newNoDocument(e,t){return new On(e,2,t,ke.min(),ke.min(),Nr.empty(),0)}static newUnknownDocument(e,t){return new On(e,3,t,ke.min(),ke.min(),Nr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof On&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new On(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,t){this.position=e,this.inclusive=t}}function b1(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],u=n.position[a];if(l.field.isKeyField()?i=xe.comparator(xe.fromName(u.referenceValue),t.key):i=pl(u,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function E1(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!xi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,t="asc"){this.field=e,this.dir=t}}function zk(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{}class $t extends _w{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new Bk(e,t,i):t==="array-contains"?new Hk(e,i):t==="in"?new Gk(e,i):t==="not-in"?new Kk(e,i):t==="array-contains-any"?new Yk(e,i):new $t(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new Fk(e,i):new qk(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(pl(t,this.value)):t!==null&&sa(this.value)===sa(t)&&this.matchesComparison(pl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qr extends _w{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Qr(e,t)}matches(e){return bw(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function bw(n){return n.op==="and"}function Ew(n){return jk(n)&&bw(n)}function jk(n){for(const e of n.filters)if(e instanceof Qr)return!1;return!0}function $g(n){if(n instanceof $t)return n.field.canonicalString()+n.op.toString()+gl(n.value);if(Ew(n))return n.filters.map((e=>$g(e))).join(",");{const e=n.filters.map((t=>$g(t))).join(",");return`${n.op}(${e})`}}function Sw(n,e){return n instanceof $t?(function(i,a){return a instanceof $t&&i.op===a.op&&i.field.isEqual(a.field)&&xi(i.value,a.value)})(n,e):n instanceof Qr?(function(i,a){return a instanceof Qr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,u,h)=>l&&Sw(u,a.filters[h])),!0):!1})(n,e):void De(19439)}function Tw(n){return n instanceof $t?(function(t){return`${t.field.canonicalString()} ${t.op} ${gl(t.value)}`})(n):n instanceof Qr?(function(t){return t.op.toString()+" {"+t.getFilters().map(Tw).join(" ,")+"}"})(n):"Filter"}class Bk extends $t{constructor(e,t,i){super(e,t,i),this.key=xe.fromName(i.referenceValue)}matches(e){const t=xe.comparator(e.key,this.key);return this.matchesComparison(t)}}class Fk extends $t{constructor(e,t){super(e,"in",t),this.keys=ww("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class qk extends $t{constructor(e,t){super(e,"not-in",t),this.keys=ww("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function ww(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((i=>xe.fromName(i.referenceValue)))}class Hk extends $t{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Fy(t)&&au(t.arrayValue,this.value)}}class Gk extends $t{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&au(this.value.arrayValue,t)}}class Kk extends $t{constructor(e,t){super(e,"not-in",t)}matches(e){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!au(this.value.arrayValue,t)}}class Yk extends $t{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Fy(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>au(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,t=null,i=[],a=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=u,this.endAt=h,this.Te=null}}function S1(n,e=null,t=[],i=[],a=null,l=null,u=null){return new $k(n,e,t,i,a,l,u)}function qy(n){const e=Ve(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>$g(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),xd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>gl(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>gl(i))).join(",")),e.Te=t}return e.Te}function Hy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!zk(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Sw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!E1(n.startAt,e.startAt)&&E1(n.endAt,e.endAt)}function Qg(n){return xe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,t=null,i=[],a=[],l=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Qk(n,e,t,i,a,l,u,h){return new Rl(n,e,t,i,a,l,u,h)}function Gy(n){return new Rl(n)}function T1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Aw(n){return n.collectionGroup!==null}function Xc(n){const e=Ve(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new nn(bn.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new ou(l,i))})),t.has(bn.keyField().canonicalString())||e.Ie.push(new ou(bn.keyField(),i))}return e.Ie}function bi(n){const e=Ve(n);return e.Ee||(e.Ee=Xk(e,Xc(n))),e.Ee}function Xk(n,e){if(n.limitType==="F")return S1(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new ou(a.field,l)}));const t=n.endAt?new rd(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new rd(n.startAt.position,n.startAt.inclusive):null;return S1(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Xg(n,e){const t=n.filters.concat([e]);return new Rl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function id(n,e,t){return new Rl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Id(n,e){return Hy(bi(n),bi(e))&&n.limitType===e.limitType}function Rw(n){return`${qy(bi(n))}|lt:${n.limitType}`}function Jo(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((a=>Tw(a))).join(", ")}]`),xd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>gl(a))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>gl(a))).join(",")),`Target(${i})`})(bi(n))}; limitType=${n.limitType})`}function Nd(n,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):xe.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(n,e)&&(function(i,a){for(const l of Xc(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(n,e)&&(function(i,a){return!(i.startAt&&!(function(u,h,f){const p=b1(u,h,f);return u.inclusive?p<=0:p<0})(i.startAt,Xc(i),a)||i.endAt&&!(function(u,h,f){const p=b1(u,h,f);return u.inclusive?p>=0:p>0})(i.endAt,Xc(i),a))})(n,e)}function Wk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function xw(n){return(e,t)=>{let i=!1;for(const a of Xc(n)){const l=Zk(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function Zk(n,e,t){const i=n.field.isKeyField()?xe.comparator(e.key,t.key):(function(l,u,h){const f=u.data.field(l),p=h.data.field(l);return f!==null&&p!==null?pl(f,p):De(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return De(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){to(this.inner,((t,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return uw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk=new Nt(xe.comparator);function ss(){return Jk}const Cw=new Nt(xe.comparator);function jc(...n){let e=Cw;for(const t of n)e=e.insert(t.key,t);return e}function Iw(n){let e=Cw;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function Ua(){return Wc()}function Nw(){return Wc()}function Wc(){return new no((n=>n.toString()),((n,e)=>n.isEqual(e)))}const eP=new Nt(xe.comparator),tP=new nn(xe.comparator);function Xe(...n){let e=tP;for(const t of n)e=e.add(t);return e}const nP=new nn(Qe);function rP(){return nP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ed(e)?"-0":e}}function Mw(n){return{integerValue:""+n}}function iP(n,e){return Mk(e)?Mw(e):Ky(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(){this._=void 0}}function sP(n,e,t){return n instanceof sd?(function(a,l){const u={fields:{[dw]:{stringValue:hw},[pw]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&By(l)&&(l=Cd(l)),l&&(u.fields[mw]=l),{mapValue:u}})(t,e):n instanceof lu?Ow(n,e):n instanceof cu?kw(n,e):(function(a,l){const u=Dw(a,l),h=w1(u)+w1(a.Ae);return Yg(u)&&Yg(a.Ae)?Mw(h):Ky(a.serializer,h)})(n,e)}function aP(n,e,t){return n instanceof lu?Ow(n,e):n instanceof cu?kw(n,e):t}function Dw(n,e){return n instanceof ad?(function(i){return Yg(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class sd extends Md{}class lu extends Md{constructor(e){super(),this.elements=e}}function Ow(n,e){const t=Pw(e);for(const i of n.elements)t.some((a=>xi(a,i)))||t.push(i);return{arrayValue:{values:t}}}class cu extends Md{constructor(e){super(),this.elements=e}}function kw(n,e){let t=Pw(e);for(const i of n.elements)t=t.filter((a=>!xi(a,i)));return{arrayValue:{values:t}}}class ad extends Md{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function w1(n){return Vt(n.integerValue||n.doubleValue)}function Pw(n){return Fy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function oP(n,e){return n.field.isEqual(e.field)&&(function(i,a){return i instanceof lu&&a instanceof lu||i instanceof cu&&a instanceof cu?ml(i.elements,a.elements,xi):i instanceof ad&&a instanceof ad?xi(i.Ae,a.Ae):i instanceof sd&&a instanceof sd})(n.transform,e.transform)}class lP{constructor(e,t){this.version=e,this.transformResults=t}}class es{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new es}static exists(e){return new es(void 0,e)}static updateTime(e){return new es(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ah(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Dd{}function Lw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Uw(n.key,es.none()):new vu(n.key,n.data,es.none());{const t=n.data,i=Nr.empty();let a=new nn(bn.comparator);for(let l of e.fields)if(!a.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?i.delete(l):i.set(l,u),a=a.add(l)}return new ro(n.key,i,new Yr(a.toArray()),es.none())}}function cP(n,e,t){n instanceof vu?(function(a,l,u){const h=a.value.clone(),f=R1(a.fieldTransforms,l,u.transformResults);h.setAll(f),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,e,t):n instanceof ro?(function(a,l,u){if(!Ah(a.precondition,l))return void l.convertToUnknownDocument(u.version);const h=R1(a.fieldTransforms,l,u.transformResults),f=l.data;f.setAll(Vw(a)),f.setAll(h),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Zc(n,e,t,i){return n instanceof vu?(function(l,u,h,f){if(!Ah(l.precondition,u))return h;const p=l.value.clone(),v=x1(l.fieldTransforms,f,u);return p.setAll(v),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(n,e,t,i):n instanceof ro?(function(l,u,h,f){if(!Ah(l.precondition,u))return h;const p=x1(l.fieldTransforms,f,u),v=u.data;return v.setAll(Vw(l)),v.setAll(p),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((g=>g.field)))})(n,e,t,i):(function(l,u,h){return Ah(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,e,t)}function uP(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=Dw(i.transform,a||null);l!=null&&(t===null&&(t=Nr.empty()),t.set(i.field,l))}return t||null}function A1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&ml(i,a,((l,u)=>oP(l,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class vu extends Dd{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ro extends Dd{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Vw(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function R1(n,e,t){const i=new Map;ot(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const l=n[a],u=l.transform,h=e.data.field(l.field);i.set(l.field,aP(u,h,t[a]))}return i}function x1(n,e,t){const i=new Map;for(const a of n){const l=a.transform,u=t.data.field(a.field);i.set(a.field,sP(l,u,e))}return i}class Uw extends Dd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fP extends Dd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&cP(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Zc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Zc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Nw();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=t.has(a.key)?null:h;const f=Lw(u,h);f!==null&&i.set(a.key,f),u.isValidDocument()||u.convertToNoDocument(ke.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Xe())}isEqual(e){return this.batchId===e.batchId&&ml(this.mutations,e.mutations,((t,i)=>A1(t,i)))&&ml(this.baseMutations,e.baseMutations,((t,i)=>A1(t,i)))}}class Yy{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){ot(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return eP})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,i[u].version);return new Yy(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dP=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt,Ze;function pP(n){switch(n){case oe.OK:return De(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return De(15467,{code:n})}}function zw(n){if(n===void 0)return is("GRPC error has no .code"),oe.UNKNOWN;switch(n){case Yt.OK:return oe.OK;case Yt.CANCELLED:return oe.CANCELLED;case Yt.UNKNOWN:return oe.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return oe.INTERNAL;case Yt.UNAVAILABLE:return oe.UNAVAILABLE;case Yt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Yt.NOT_FOUND:return oe.NOT_FOUND;case Yt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Yt.ABORTED:return oe.ABORTED;case Yt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Yt.DATA_LOSS:return oe.DATA_LOSS;default:return De(39323,{code:n})}}(Ze=Yt||(Yt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=new Js([4294967295,4294967295],0);function C1(n){const e=gP().encode(n),t=new JT;return t.update(e),new Uint8Array(t.digest())}function I1(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Js([t,i],0),new Js([a,l],0)]}class $y{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Bc(`Invalid padding: ${t}`);if(i<0)throw new Bc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Bc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Bc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Js.fromNumber(this.ge)}ye(e,t,i){let a=e.add(t.multiply(Js.fromNumber(i)));return a.compare(yP)===1&&(a=new Js([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=C1(e),[i,a]=I1(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);if(!this.we(u))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new $y(l,a,t);return i.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const t=C1(e),[i,a]=I1(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);this.Se(u)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Bc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,_u.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Od(ke.min(),a,new Nt(Qe),ss(),Xe())}}class _u{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new _u(i,t,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,t,i,a){this.be=e,this.removedTargetIds=t,this.key=i,this.De=a}}class jw{constructor(e,t){this.targetId=e,this.Ce=t}}class Bw{constructor(e,t,i=En.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class N1{constructor(){this.ve=0,this.Fe=M1(),this.Me=En.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xe(),t=Xe(),i=Xe();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:De(38017,{changeType:l})}})),new _u(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=M1()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ot(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class vP{constructor(e){this.Ge=e,this.ze=new Map,this.je=ss(),this.Je=ih(),this.He=ih(),this.Ye=new Nt(Qe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:De(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,i=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(Qg(l))if(i===0){const u=new xe(l.path);this.et(t,u,On.newNoDocument(u,ke.min()))}else ot(i===1,20013,{expectedCount:i});else{const u=this._t(t);if(u!==i){const h=this.ut(e),f=h?this.ct(h,e,u):1;if(f!==0){this.it(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let u,h;try{u=ia(i).toUint8Array()}catch(f){if(f instanceof fw)return dl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new $y(u,a,l)}catch(f){return dl(f instanceof Bc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let a=0;return i.forEach((l=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,u)=>{const h=this.ot(u);if(h){if(l.current&&Qg(h.target)){const f=new xe(h.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,On.newNoDocument(f,e))}l.Be&&(t.set(u,l.ke()),l.qe())}}));let i=Xe();this.He.forEach(((l,u)=>{let h=!0;u.forEachWhile((f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new Od(e,t,this.Ye,this.je,i);return this.je=ss(),this.Je=ih(),this.He=ih(),this.Ye=new Nt(Qe),a}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new N1,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new nn(Qe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new nn(Qe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ve("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new N1),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function ih(){return new Nt(xe.comparator)}function M1(){return new Nt(xe.comparator)}const _P={asc:"ASCENDING",desc:"DESCENDING"},bP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EP={and:"AND",or:"OR"};class SP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Wg(n,e){return n.useProto3Json||xd(e)?e:{value:e}}function od(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Fw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function TP(n,e){return od(n,e.toTimestamp())}function Ei(n){return ot(!!n,49232),ke.fromTimestamp((function(t){const i=ra(t);return new vt(i.seconds,i.nanos)})(n))}function Qy(n,e){return Zg(n,e).canonicalString()}function Zg(n,e){const t=(function(a){return new bt(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function qw(n){const e=bt.fromString(n);return ot($w(e),10190,{key:e.toString()}),e}function Jg(n,e){return Qy(n.databaseId,e.path)}function dg(n,e){const t=qw(e);if(t.get(1)!==n.databaseId.projectId)throw new ge(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ge(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new xe(Gw(t))}function Hw(n,e){return Qy(n.databaseId,e)}function wP(n){const e=qw(n);return e.length===4?bt.emptyPath():Gw(e)}function ey(n){return new bt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Gw(n){return ot(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function D1(n,e,t){return{name:Jg(n,e),fields:t.value.mapValue.fields}}function AP(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:De(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,v){return p.useProto3Json?(ot(v===void 0||typeof v=="string",58123),En.fromBase64String(v||"")):(ot(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),En.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(p){const v=p.code===void 0?oe.UNKNOWN:zw(p.code);return new ge(v,p.message||"")})(u);t=new Bw(i,a,l,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=dg(n,i.document.name),l=Ei(i.document.updateTime),u=i.document.createTime?Ei(i.document.createTime):ke.min(),h=new Nr({mapValue:{fields:i.document.fields}}),f=On.newFoundDocument(a,l,u,h),p=i.targetIds||[],v=i.removedTargetIds||[];t=new Rh(p,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=dg(n,i.document),l=i.readTime?Ei(i.readTime):ke.min(),u=On.newNoDocument(a,l),h=i.removedTargetIds||[];t=new Rh([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=dg(n,i.document),l=i.removedTargetIds||[];t=new Rh([],l,a,null)}else{if(!("filter"in e))return De(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,u=new mP(a,l),h=i.targetId;t=new jw(h,u)}}return t}function RP(n,e){let t;if(e instanceof vu)t={update:D1(n,e.key,e.value)};else if(e instanceof Uw)t={delete:Jg(n,e.key)};else if(e instanceof ro)t={update:D1(n,e.key,e.data),updateMask:PP(e.fieldMask)};else{if(!(e instanceof fP))return De(16599,{Vt:e.type});t={verify:Jg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,u){const h=u.transform;if(h instanceof sd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof lu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof cu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof ad)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw De(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:TP(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:De(27497)})(n,e.precondition)),t}function xP(n,e){return n&&n.length>0?(ot(e!==void 0,14353),n.map((t=>(function(a,l){let u=a.updateTime?Ei(a.updateTime):Ei(l);return u.isEqual(ke.min())&&(u=Ei(l)),new lP(u,a.transformResults||[])})(t,e)))):[]}function CP(n,e){return{documents:[Hw(n,e.path)]}}function IP(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=Hw(n,a);const l=(function(p){if(p.length!==0)return Yw(Qr.create(p,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((v=>(function(_){return{field:el(_.field),direction:DP(_.dir)}})(v)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=Wg(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:a}}function NP(n){let e=wP(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){ot(i===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(g){const _=Kw(g);return _ instanceof Qr&&Ew(_)?_.getFilters():[_]})(t.where));let u=[];t.orderBy&&(u=(function(g){return g.map((_=>(function(R){return new ou(tl(R.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(_)))})(t.orderBy));let h=null;t.limit&&(h=(function(g){let _;return _=typeof g=="object"?g.value:g,xd(_)?null:_})(t.limit));let f=null;t.startAt&&(f=(function(g){const _=!!g.before,S=g.values||[];return new rd(S,_)})(t.startAt));let p=null;return t.endAt&&(p=(function(g){const _=!g.before,S=g.values||[];return new rd(S,_)})(t.endAt)),Qk(e,a,u,l,h,"F",f,p)}function MP(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Kw(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=tl(t.unaryFilter.field);return $t.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=tl(t.unaryFilter.field);return $t.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=tl(t.unaryFilter.field);return $t.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=tl(t.unaryFilter.field);return $t.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}})(n):n.fieldFilter!==void 0?(function(t){return $t.create(tl(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Qr.create(t.compositeFilter.filters.map((i=>Kw(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return De(1026)}})(t.compositeFilter.op))})(n):De(30097,{filter:n})}function DP(n){return _P[n]}function OP(n){return bP[n]}function kP(n){return EP[n]}function el(n){return{fieldPath:n.canonicalString()}}function tl(n){return bn.fromServerFormat(n.fieldPath)}function Yw(n){return n instanceof $t?(function(t){if(t.op==="=="){if(_1(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NAN"}};if(v1(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(_1(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NOT_NAN"}};if(v1(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:el(t.field),op:OP(t.op),value:t.value}}})(n):n instanceof Qr?(function(t){const i=t.getFilters().map((a=>Yw(a)));return i.length===1?i[0]:{compositeFilter:{op:kP(t.op),filters:i}}})(n):De(54877,{filter:n})}function PP(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function $w(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,t,i,a,l=ke.min(),u=ke.min(),h=En.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Ys(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e){this.yt=e}}function VP(n){const e=NP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?id(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(){this.Cn=new zP}addToCollectionParentIndex(e,t){return this.Cn.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(na.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(na.min())}updateCollectionGroup(e,t,i){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class zP{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new nn(bt.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new nn(bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Qw=41943040;class $n{static withCacheSize(e){return new $n(e,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$n.DEFAULT_COLLECTION_PERCENTILE=10,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$n.DEFAULT=new $n(Qw,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$n.DISABLED=new $n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new yl(0)}static cr(){return new yl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1="LruGarbageCollector",jP=1048576;function P1([n,e],[t,i]){const a=Qe(n,t);return a===0?Qe(e,i):a}class BP{constructor(e){this.Ir=e,this.buffer=new nn(P1),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();P1(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class FP{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ve(k1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Al(t)?ve(k1,"Ignoring IndexedDB error during garbage collection: ",t):await wl(t)}await this.Vr(3e5)}))}}class qP{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return ue.resolve(Rd.ce);const i=new BP(t);return this.mr.forEachTarget(e,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(O1)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),O1):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,a,l,u,h,f,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),a=this.params.maximumSequenceNumbersToCollect):a=g,u=Date.now(),this.nthSequenceNumber(e,a)))).next((g=>(i=g,h=Date.now(),this.removeTargets(e,i,t)))).next((g=>(l=g,f=Date.now(),this.removeOrphanedDocuments(e,i)))).next((g=>(p=Date.now(),Zo()<=$e.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${l} targets in `+(f-h)+`ms
	Removed ${g} documents in `+(p-f)+`ms
Total Duration: ${p-v}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:g}))))}}function HP(n,e){return new qP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(){this.changes=new no((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,On.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ue.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(i!==null&&Zc(i.mutation,a,Yr.empty(),vt.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Xe()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Xe()){const a=Ua();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,i).next((l=>{let u=jc();return l.forEach(((h,f)=>{u=u.insert(h,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const i=Ua();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Xe())))}populateOverlays(e,t,i){const a=[];return i.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,h)=>{t.set(u,h)}))}))}computeViews(e,t,i,a){let l=ss();const u=Wc(),h=(function(){return Wc()})();return t.forEach(((f,p)=>{const v=i.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof ro)?l=l.insert(p.key,p):v!==void 0?(u.set(p.key,v.mutation.getFieldMask()),Zc(v.mutation,p,v.mutation.getFieldMask(),vt.now())):u.set(p.key,Yr.empty())})),this.recalculateAndSaveOverlays(e,l).next((f=>(f.forEach(((p,v)=>u.set(p,v))),t.forEach(((p,v)=>h.set(p,new KP(v,u.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,t){const i=Wc();let a=new Nt(((u,h)=>u-h)),l=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const h of u)h.keys().forEach((f=>{const p=t.get(f);if(p===null)return;let v=i.get(f)||Yr.empty();v=h.applyToLocalView(p,v),i.set(f,v);const g=(a.get(h.batchId)||Xe()).add(f);a=a.insert(h.batchId,g)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,v=f.value,g=Nw();v.forEach((_=>{if(!l.has(_)){const S=Lw(t.get(_),i.get(_));S!==null&&g.set(_,S),l=l.add(_)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,g))}return ue.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,a){return(function(u){return xe.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Aw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):ue.resolve(Ua());let h=ru,f=l;return u.next((p=>ue.forEach(p,((v,g)=>(h<g.largestBatchId&&(h=g.largestBatchId),l.get(v)?ue.resolve():this.remoteDocumentCache.getEntry(e,v).next((_=>{f=f.insert(v,_)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,f,p,Xe()))).next((v=>({batchId:h,changes:Iw(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new xe(t)).next((i=>{let a=jc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let u=jc();return this.indexManager.getCollectionParents(e,l).next((h=>ue.forEach(h,(f=>{const p=(function(g,_){return new Rl(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(t,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next((v=>{v.forEach(((g,_)=>{u=u.insert(g,_)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a)))).next((u=>{l.forEach(((f,p)=>{const v=p.getKey();u.get(v)===null&&(u=u.insert(v,On.newInvalidDocument(v)))}));let h=jc();return u.forEach(((f,p)=>{const v=l.get(f);v!==void 0&&Zc(v.mutation,p,Yr.empty(),vt.now()),Nd(t,p)&&(h=h.insert(f,p))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ue.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:Ei(a.createTime)}})(t)),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:VP(a.bundledQuery),readTime:Ei(a.readTime)}})(t)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(){this.overlays=new Nt(xe.comparator),this.qr=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ua();return ue.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((a,l)=>{this.St(e,t,l)})),ue.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),ue.resolve()}getOverlaysForCollection(e,t,i){const a=Ua(),l=t.length+1,u=new xe(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&f.largestBatchId>i&&a.set(f.getKey(),f)}return ue.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new Nt(((p,v)=>p-v));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>i){let v=l.get(p.largestBatchId);v===null&&(v=Ua(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const h=Ua(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,v)=>h.set(p,v))),!(h.size()>=a)););return ue.resolve(h)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new dP(t,i));let l=this.qr.get(t);l===void 0&&(l=Xe(),this.qr.set(t,l)),this.qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(){this.sessionToken=En.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(){this.Qr=new nn(cn.$r),this.Ur=new nn(cn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new cn(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new cn(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new xe(new bt([])),i=new cn(t,e),a=new cn(t,e+1),l=[];return this.Ur.forEachInRange([i,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new xe(new bt([])),i=new cn(t,e),a=new cn(t,e+1);let l=Xe();return this.Ur.forEachInRange([i,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const t=new cn(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class cn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return xe.comparator(e.key,t.key)||Qe(e.Yr,t.Yr)}static Kr(e,t){return Qe(e.Yr,t.Yr)||xe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new nn(cn.$r)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new hP(l,t,i,a);this.mutationQueue.push(u);for(const h of a)this.Zr=this.Zr.add(new cn(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ue.resolve(u)}lookupMutationBatch(e,t){return ue.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.ei(i),l=a<0?0:a;return ue.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?jy:this.tr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new cn(t,0),a=new cn(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],(u=>{const h=this.Xr(u.Yr);l.push(h)})),ue.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new nn(Qe);return t.forEach((a=>{const l=new cn(a,0),u=new cn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(h=>{i=i.add(h.Yr)}))})),ue.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;xe.isDocumentKey(l)||(l=l.child(""));const u=new cn(new xe(l),0);let h=new nn(Qe);return this.Zr.forEachWhile((f=>{const p=f.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(h=h.add(f.Yr)),!0)}),u),ue.resolve(this.ti(h))}ti(e){const t=[];return e.forEach((i=>{const a=this.Xr(i);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){ot(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ue.forEach(t.mutations,(a=>{const l=new cn(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new cn(t,0),a=this.Zr.firstAfterOrEqual(i);return ue.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e){this.ri=e,this.docs=(function(){return new Nt(xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,u=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ue.resolve(i?i.document.mutableCopy():On.newInvalidDocument(t))}getEntries(e,t){let i=ss();return t.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():On.newInvalidDocument(a))})),ue.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=ss();const u=t.path,h=new xe(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:v}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||xk(Rk(v),i)<=0||(a.has(v.key)||Nd(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ue.resolve(l)}getAllFromCollectionGroup(e,t,i,a){De(9500)}ii(e,t){return ue.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new JP(this)}getSize(e){return ue.resolve(this.size)}}class JP extends GP{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)})),ue.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e){this.persistence=e,this.si=new no((t=>qy(t)),Hy),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.oi=0,this._i=new Xy,this.targetCount=0,this.ai=yl.ur()}forEachTarget(e,t){return this.si.forEach(((i,a)=>t(a))),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),ue.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new yl(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.Pr(t),ue.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),ue.waitFor(l).next((()=>a))}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return ue.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),ue.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),ue.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return ue.resolve(i)}containsKey(e,t){return ue.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e,t){this.ui={},this.overlays={},this.ci=new Rd(0),this.li=!1,this.li=!0,this.hi=new XP,this.referenceDelegate=e(this),this.Pi=new e4(this),this.indexManager=new UP,this.remoteDocumentCache=(function(a){return new ZP(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new LP(t),this.Ii=new $P(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new QP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new WP(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){ve("MemoryPersistence","Starting transaction:",e);const a=new t4(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,t){return ue.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class t4 extends Ik{constructor(e){super(),this.currentSequenceNumber=e}}class Wy{constructor(e){this.persistence=e,this.Ri=new Xy,this.Vi=null}static mi(e){return new Wy(e)}get fi(){if(this.Vi)return this.Vi;throw De(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),ue.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ue.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.fi,(i=>{const a=xe.fromPath(i);return this.gi(e,a).next((l=>{l||t.removeEntry(a,ke.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ue.or([()=>ue.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class ld{constructor(e,t){this.persistence=e,this.pi=new no((i=>Dk(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=HP(this,t)}static mi(e,t){return new ld(e,t)}Ei(){}di(e){return ue.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((a=>i+a))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return ue.forEach(this.pi,((i,a)=>this.br(e,i,a).next((l=>l?ue.resolve():t(a)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,t).next((h=>{h||(i++,l.removeEntry(u,ke.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ue.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),ue.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ue.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Th(e.data.value)),t}br(e,t,i){return ue.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return ue.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=a}static As(e,t){let i=Xe(),a=Xe();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Zy(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return QN()?8:Nk(kn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.ys(e,t).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,t,a,i).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new n4;return this.Ss(e,t,u).next((h=>{if(l.result=h,this.Vs)return this.bs(e,t,u,h.size)}))})).next((()=>l.result))}bs(e,t,i,a){return i.documentReadCount<this.fs?(Zo()<=$e.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Jo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ue.resolve()):(Zo()<=$e.DEBUG&&ve("QueryEngine","Query:",Jo(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(Zo()<=$e.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Jo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bi(t))):ue.resolve())}ys(e,t){if(T1(t))return ue.resolve(null);let i=bi(t);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=id(t,null,"F"),i=bi(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const u=Xe(...l);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,i).next((f=>{const p=this.Ds(t,h);return this.Cs(t,p,u,f.readTime)?this.ys(e,id(t,null,"F")):this.vs(e,p,t,f)}))))})))))}ws(e,t,i,a){return T1(t)||a.isEqual(ke.min())?ue.resolve(null):this.ps.getDocuments(e,i).next((l=>{const u=this.Ds(t,l);return this.Cs(t,u,i,a)?ue.resolve(null):(Zo()<=$e.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Jo(t)),this.vs(e,u,t,Ak(a,ru)).next((h=>h)))}))}Ds(e,t){let i=new nn(xw(e));return t.forEach(((a,l)=>{Nd(e,l)&&(i=i.add(l))})),i}Cs(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,i){return Zo()<=$e.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Jo(t)),this.ps.getDocumentsMatchingQuery(e,t,na.min(),i)}vs(e,t,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next((l=>(t.forEach((u=>{l=l.insert(u.key,u)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="LocalStore",i4=3e8;class s4{constructor(e,t,i,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new Nt(Qe),this.xs=new no((l=>qy(l)),Hy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function a4(n,e,t,i){return new s4(n,e,t,i)}async function Ww(n,e){const t=Ve(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const u=[],h=[];let f=Xe();for(const p of a){u.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}for(const p of l){h.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(i,f).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:h})))}))}))}function o4(n,e){const t=Ve(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,p,v){const g=p.batch,_=g.keys();let S=ue.resolve();return _.forEach((R=>{S=S.next((()=>v.getEntry(f,R))).next((M=>{const k=p.docVersions.get(R);ot(k!==null,48541),M.version.compareTo(k)<0&&(g.applyToRemoteDocument(M,p),M.isValidDocument()&&(M.setReadTime(p.commitVersion),v.addEntry(M)))}))})),S.next((()=>h.mutationQueue.removeMutationBatch(f,g)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let f=Xe();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(i,a)))}))}function Zw(n){const e=Ve(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function l4(n,e){const t=Ve(n),i=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const h=[];e.targetChanges.forEach(((v,g)=>{const _=a.get(g);if(!_)return;h.push(t.Pi.removeMatchingKeys(l,v.removedDocuments,g).next((()=>t.Pi.addMatchingKeys(l,v.addedDocuments,g))));let S=_.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(g)!==null?S=S.withResumeToken(En.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):v.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(v.resumeToken,i)),a=a.insert(g,S),(function(M,k,V){return M.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=i4?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0})(_,S,v)&&h.push(t.Pi.updateTargetData(l,S))}));let f=ss(),p=Xe();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),h.push(c4(l,u,e.documentUpdates).next((v=>{f=v.ks,p=v.qs}))),!i.isEqual(ke.min())){const v=t.Pi.getLastRemoteSnapshotVersion(l).next((g=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));h.push(v)}return ue.waitFor(h).next((()=>u.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,f,p))).next((()=>f))})).then((l=>(t.Ms=a,l)))}function c4(n,e,t){let i=Xe(),a=Xe();return t.forEach((l=>i=i.add(l))),e.getEntries(n,i).next((l=>{let u=ss();return t.forEach(((h,f)=>{const p=l.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual(ke.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):ve(Jy,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)})),{ks:u,qs:a}}))}function u4(n,e){const t=Ve(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=jy),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function f4(n,e){const t=Ve(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return t.Pi.getTargetData(i,e).next((l=>l?(a=l,ue.resolve(a)):t.Pi.allocateTargetId(i).next((u=>(a=new Ys(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=t.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function ty(n,e,t){const i=Ve(n),a=i.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(u=>i.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Al(u))throw u;ve(Jy,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function L1(n,e,t){const i=Ve(n);let a=ke.min(),l=Xe();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,p,v){const g=Ve(f),_=g.xs.get(v);return _!==void 0?ue.resolve(g.Ms.get(_)):g.Pi.getTargetData(p,v)})(i,u,bi(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,h.targetId).next((f=>{l=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,e,t?a:ke.min(),t?l:Xe()))).next((h=>(h4(i,Wk(e),h),{documents:h,Qs:l})))))}function h4(n,e,t){let i=n.Os.get(e)||ke.min();t.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),n.Os.set(e,i)}class V1{constructor(){this.activeTargetIds=rP()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class d4{constructor(){this.Mo=new V1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new V1,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="ConnectivityMonitor";class z1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ve(U1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ve(U1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sh=null;function ny(){return sh===null?sh=(function(){return 268435456+Math.round(2147483648*Math.random())})():sh++,"0x"+sh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="RestConnection",p4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class g4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===td?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,t,i,a,l){const u=ny(),h=this.zo(e,t.toUriEncodedString());ve(mg,`Sending RPC '${e}' ${u}:`,h,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,a,l);const{host:p}=new URL(h),v=bl(p);return this.Jo(e,h,f,i,v).then((g=>(ve(mg,`Received RPC '${e}' ${u}: `,g),g)),(g=>{throw dl(mg,`RPC '${e}' ${u} failed with error: `,g,"url: ",h,"request:",i),g}))}Ho(e,t,i,a,l,u){return this.Go(e,t,i,a,l)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Tl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}zo(e,t){const i=p4[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn="WebChannelConnection";class v4 extends g4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,a,l){const u=ny();return new Promise(((h,f)=>{const p=new ew;p.setWithCredentials(!0),p.listenOnce(tw.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Sh.NO_ERROR:const g=p.getResponseJson();ve(Mn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(g)),h(g);break;case Sh.TIMEOUT:ve(Mn,`RPC '${e}' ${u} timed out`),f(new ge(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Sh.HTTP_ERROR:const _=p.getStatus();if(ve(Mn,`RPC '${e}' ${u} failed with status:`,_,"response text:",p.getResponseText()),_>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const R=S==null?void 0:S.error;if(R&&R.status&&R.message){const M=(function(V){const H=V.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(H)>=0?H:oe.UNKNOWN})(R.status);f(new ge(M,R.message))}else f(new ge(oe.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new ge(oe.UNAVAILABLE,"Connection failed."));break;default:De(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ve(Mn,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(a);ve(Mn,`RPC '${e}' ${u} sending request:`,a),p.send(t,"POST",v,i,15)}))}T_(e,t,i){const a=ny(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=iw(),h=rw(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const v=l.join("");ve(Mn,`Creating RPC '${e}' stream ${a}: ${v}`,f);const g=u.createWebChannel(v,f);this.I_(g);let _=!1,S=!1;const R=new y4({Yo:k=>{S?ve(Mn,`Not sending because RPC '${e}' stream ${a} is closed:`,k):(_||(ve(Mn,`Opening RPC '${e}' stream ${a} transport.`),g.open(),_=!0),ve(Mn,`RPC '${e}' stream ${a} sending:`,k),g.send(k))},Zo:()=>g.close()}),M=(k,V,H)=>{k.listen(V,(G=>{try{H(G)}catch(Y){setTimeout((()=>{throw Y}),0)}}))};return M(g,zc.EventType.OPEN,(()=>{S||(ve(Mn,`RPC '${e}' stream ${a} transport opened.`),R.o_())})),M(g,zc.EventType.CLOSE,(()=>{S||(S=!0,ve(Mn,`RPC '${e}' stream ${a} transport closed`),R.a_(),this.E_(g))})),M(g,zc.EventType.ERROR,(k=>{S||(S=!0,dl(Mn,`RPC '${e}' stream ${a} transport errored. Name:`,k.name,"Message:",k.message),R.a_(new ge(oe.UNAVAILABLE,"The operation could not be completed")))})),M(g,zc.EventType.MESSAGE,(k=>{var V;if(!S){const H=k.data[0];ot(!!H,16349);const G=H,Y=(G==null?void 0:G.error)||((V=G[0])==null?void 0:V.error);if(Y){ve(Mn,`RPC '${e}' stream ${a} received error:`,Y);const $=Y.status;let q=(function(C){const D=Yt[C];if(D!==void 0)return zw(D)})($),A=Y.message;q===void 0&&(q=oe.INTERNAL,A="Unknown error status: "+$+" with message "+Y.message),S=!0,R.a_(new ge(q,A)),g.close()}else ve(Mn,`RPC '${e}' stream ${a} received:`,H),R.u_(H)}})),M(h,nw.STAT_EVENT,(k=>{k.stat===qg.PROXY?ve(Mn,`RPC '${e}' stream ${a} detected buffering proxy`):k.stat===qg.NOPROXY&&ve(Mn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{R.__()}),0),R}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function pg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(n){return new SP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,t,i=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-i);a>0&&ve("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="PersistentStream";class eA{constructor(e,t,i,a,l,u,h,f){this.Mi=e,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Jw(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(is(t.toString()),is("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===t&&this.G_(i,a)}),(i=>{e((()=>{const a=new ge(oe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ve(j1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ve(j1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class _4 extends eA{constructor(e,t,i,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,u),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=AP(this.serializer,e),i=(function(l){if(!("targetChange"in l))return ke.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?ke.min():u.readTime?Ei(u.readTime):ke.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=ey(this.serializer),t.addTarget=(function(l,u){let h;const f=u.target;if(h=Qg(f)?{documents:CP(l,f)}:{query:IP(l,f).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=Fw(l,u.resumeToken);const p=Wg(l,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(ke.min())>0){h.readTime=od(l,u.snapshotVersion.toTimestamp());const p=Wg(l,u.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const i=MP(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=ey(this.serializer),t.removeTarget=e,this.q_(t)}}class b4 extends eA{constructor(e,t,i,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return ot(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ot(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ot(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=xP(e.writeResults,e.commitTime),i=Ei(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=ey(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>RP(this.serializer,i)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{}class S4 extends E4{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ge(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,Zg(t,i),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(oe.UNKNOWN,l.toString())}))}Ho(e,t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,Zg(t,i),a,u,h,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(oe.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class T4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(is(t),this.aa=!1):ve("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja="RemoteStore";class w4{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{io(this)&&(ve(Ja,"Restarting streams for network reachability change."),await(async function(f){const p=Ve(f);p.Ea.add(4),await bu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Pd(p)})(this))}))})),this.Ra=new T4(i,a)}}async function Pd(n){if(io(n))for(const e of n.da)await e(!0)}async function bu(n){for(const e of n.da)await e(!1)}function tA(n,e){const t=Ve(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),rv(t)?nv(t):xl(t).O_()&&tv(t,e))}function ev(n,e){const t=Ve(n),i=xl(t);t.Ia.delete(e),i.O_()&&nA(t,e),t.Ia.size===0&&(i.O_()?i.L_():io(t)&&t.Ra.set("Unknown"))}function tv(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}xl(n).Y_(e)}function nA(n,e){n.Va.Ue(e),xl(n).Z_(e)}function nv(n){n.Va=new vP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),xl(n).start(),n.Ra.ua()}function rv(n){return io(n)&&!xl(n).x_()&&n.Ia.size>0}function io(n){return Ve(n).Ea.size===0}function rA(n){n.Va=void 0}async function A4(n){n.Ra.set("Online")}async function R4(n){n.Ia.forEach(((e,t)=>{tv(n,e)}))}async function x4(n,e){rA(n),rv(n)?(n.Ra.ha(e),nv(n)):n.Ra.set("Unknown")}async function C4(n,e,t){if(n.Ra.set("Online"),e instanceof Bw&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.Va.removeTarget(h))})(n,e)}catch(i){ve(Ja,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await cd(n,i)}else if(e instanceof Rh?n.Va.Ze(e):e instanceof jw?n.Va.st(e):n.Va.tt(e),!t.isEqual(ke.min()))try{const i=await Zw(n.localStore);t.compareTo(i)>=0&&await(function(l,u){const h=l.Va.Tt(u);return h.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const v=l.Ia.get(p);v&&l.Ia.set(p,v.withResumeToken(f.resumeToken,u))}})),h.targetMismatches.forEach(((f,p)=>{const v=l.Ia.get(f);if(!v)return;l.Ia.set(f,v.withResumeToken(En.EMPTY_BYTE_STRING,v.snapshotVersion)),nA(l,f);const g=new Ys(v.target,f,p,v.sequenceNumber);tv(l,g)})),l.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(i){ve(Ja,"Failed to raise snapshot:",i),await cd(n,i)}}async function cd(n,e,t){if(!Al(e))throw e;n.Ea.add(1),await bu(n),n.Ra.set("Offline"),t||(t=()=>Zw(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ve(Ja,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Pd(n)}))}function iA(n,e){return e().catch((t=>cd(n,t,e)))}async function Ld(n){const e=Ve(n),t=aa(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:jy;for(;I4(e);)try{const a=await u4(e.localStore,i);if(a===null){e.Ta.length===0&&t.L_();break}i=a.batchId,N4(e,a)}catch(a){await cd(e,a)}sA(e)&&aA(e)}function I4(n){return io(n)&&n.Ta.length<10}function N4(n,e){n.Ta.push(e);const t=aa(n);t.O_()&&t.X_&&t.ea(e.mutations)}function sA(n){return io(n)&&!aa(n).x_()&&n.Ta.length>0}function aA(n){aa(n).start()}async function M4(n){aa(n).ra()}async function D4(n){const e=aa(n);for(const t of n.Ta)e.ea(t.mutations)}async function O4(n,e,t){const i=n.Ta.shift(),a=Yy.from(i,e,t);await iA(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await Ld(n)}async function k4(n,e){e&&aa(n).X_&&await(async function(i,a){if((function(u){return pP(u)&&u!==oe.ABORTED})(a.code)){const l=i.Ta.shift();aa(i).B_(),await iA(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Ld(i)}})(n,e),sA(n)&&aA(n)}async function B1(n,e){const t=Ve(n);t.asyncQueue.verifyOperationInProgress(),ve(Ja,"RemoteStore received new credentials");const i=io(t);t.Ea.add(3),await bu(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Pd(t)}async function P4(n,e){const t=Ve(n);e?(t.Ea.delete(2),await Pd(t)):e||(t.Ea.add(2),await bu(t),t.Ra.set("Unknown"))}function xl(n){return n.ma||(n.ma=(function(t,i,a){const l=Ve(t);return l.sa(),new _4(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:A4.bind(null,n),t_:R4.bind(null,n),r_:x4.bind(null,n),H_:C4.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),rv(n)?nv(n):n.Ra.set("Unknown")):(await n.ma.stop(),rA(n))}))),n.ma}function aa(n){return n.fa||(n.fa=(function(t,i,a){const l=Ve(t);return l.sa(),new b4(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:M4.bind(null,n),r_:k4.bind(null,n),ta:D4.bind(null,n),na:O4.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Ld(n)):(await n.fa.stop(),n.Ta.length>0&&(ve(Ja,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const u=Date.now()+i,h=new iv(e,t,u,a,l);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sv(n,e){if(is("AsyncQueue",`${e}: ${n}`),Al(n))return new ge(oe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{static emptySet(e){return new al(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||xe.comparator(t.key,i.key):(t,i)=>xe.comparator(t.key,i.key),this.keyedMap=jc(),this.sortedSet=new Nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof al)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new al;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(){this.ga=new Nt(xe.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):De(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class vl{constructor(e,t,i,a,l,u,h,f,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,i,a,l){const u=[];return t.forEach((h=>{u.push({type:0,doc:h})})),new vl(e,t,al.emptySet(t),u,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Id(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class V4{constructor(){this.queries=q1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=Ve(t),l=a.queries;a.queries=q1(),l.forEach(((u,h)=>{for(const f of h.Sa)f.onError(i)}))})(this,new ge(oe.ABORTED,"Firestore shutting down"))}}function q1(){return new no((n=>Rw(n)),Id)}async function oA(n,e){const t=Ve(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(i=2):(l=new L4,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const h=sv(u,`Initialization of query '${Jo(e.query)}' failed`);return void e.onError(h)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&av(t)}async function lA(n,e){const t=Ve(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function U4(n,e){const t=Ve(n);let i=!1;for(const a of e){const l=a.query,u=t.queries.get(l);if(u){for(const h of u.Sa)h.Fa(a)&&(i=!0);u.wa=a}}i&&av(t)}function z4(n,e,t){const i=Ve(n),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);i.queries.delete(e)}function av(n){n.Ca.forEach((e=>{e.next()}))}var ry,H1;(H1=ry||(ry={})).Ma="default",H1.Cache="cache";class cA{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new vl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=vl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ry.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e){this.key=e}}class fA{constructor(e){this.key=e}}class j4{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Xe(),this.mutatedKeys=Xe(),this.eu=xw(e),this.tu=new al(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new F1,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,u=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,g)=>{const _=a.get(v),S=Nd(this.query,g)?g:null,R=!!_&&this.mutatedKeys.has(_.key),M=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let k=!1;_&&S?_.data.isEqual(S.data)?R!==M&&(i.track({type:3,doc:S}),k=!0):this.su(_,S)||(i.track({type:2,doc:S}),k=!0,(f&&this.eu(S,f)>0||p&&this.eu(S,p)<0)&&(h=!0)):!_&&S?(i.track({type:0,doc:S}),k=!0):_&&!S&&(i.track({type:1,doc:_}),k=!0,(f||p)&&(h=!0)),k&&(S?(u=u.add(S),l=M?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{tu:u,iu:i,Cs:h,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,g)=>(function(S,R){const M=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{Rt:k})}};return M(S)-M(R)})(v.type,g.type)||this.eu(v.doc,g.doc))),this.ou(i),a=a??!1;const h=t&&!a?this._u():[],f=this.Xa.size===0&&this.current&&!a?1:0,p=f!==this.Za;return this.Za=f,u.length!==0||p?{snapshot:new vl(this.query,e.tu,l,u,e.mutatedKeys,f===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new F1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Xe(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new fA(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new uA(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=Xe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return vl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ov="SyncEngine";class B4{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class F4{constructor(e){this.key=e,this.hu=!1}}class q4{constructor(e,t,i,a,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new no((h=>Rw(h)),Id),this.Iu=new Map,this.Eu=new Set,this.du=new Nt(xe.comparator),this.Au=new Map,this.Ru=new Xy,this.Vu={},this.mu=new Map,this.fu=yl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function H4(n,e,t=!0){const i=yA(n);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await hA(i,e,t,!0),a}async function G4(n,e){const t=yA(n);await hA(t,e,!0,!1)}async function hA(n,e,t,i){const a=await f4(n.localStore,bi(e)),l=a.targetId,u=n.sharedClientState.addLocalQueryTarget(l,t);let h;return i&&(h=await K4(n,e,l,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&tA(n.remoteStore,a),h}async function K4(n,e,t,i,a){n.pu=(g,_,S)=>(async function(M,k,V,H){let G=k.view.ru(V);G.Cs&&(G=await L1(M.localStore,k.query,!1).then((({documents:A})=>k.view.ru(A,G))));const Y=H&&H.targetChanges.get(k.targetId),$=H&&H.targetMismatches.get(k.targetId)!=null,q=k.view.applyChanges(G,M.isPrimaryClient,Y,$);return K1(M,k.targetId,q.au),q.snapshot})(n,g,_,S);const l=await L1(n.localStore,e,!0),u=new j4(e,l.Qs),h=u.ru(l.documents),f=_u.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),p=u.applyChanges(h,n.isPrimaryClient,f);K1(n,t,p.au);const v=new B4(e,t,u);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function Y4(n,e,t){const i=Ve(n),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((u=>!Id(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await ty(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),t&&ev(i.remoteStore,a.targetId),iy(i,a.targetId)})).catch(wl)):(iy(i,a.targetId),await ty(i.localStore,a.targetId,!0))}async function $4(n,e){const t=Ve(n),i=t.Tu.get(e),a=t.Iu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),ev(t.remoteStore,i.targetId))}async function Q4(n,e,t){const i=nL(n);try{const a=await(function(u,h){const f=Ve(u),p=vt.now(),v=h.reduce(((S,R)=>S.add(R.key)),Xe());let g,_;return f.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let R=ss(),M=Xe();return f.Ns.getEntries(S,v).next((k=>{R=k,R.forEach(((V,H)=>{H.isValidDocument()||(M=M.add(V))}))})).next((()=>f.localDocuments.getOverlayedDocuments(S,R))).next((k=>{g=k;const V=[];for(const H of h){const G=uP(H,g.get(H.key).overlayedDocument);G!=null&&V.push(new ro(H.key,G,vw(G.value.mapValue),es.exists(!0)))}return f.mutationQueue.addMutationBatch(S,p,V,h)})).next((k=>{_=k;const V=k.applyToLocalDocumentSet(g,M);return f.documentOverlayCache.saveOverlays(S,k.batchId,V)}))})).then((()=>({batchId:_.batchId,changes:Iw(g)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(u,h,f){let p=u.Vu[u.currentUser.toKey()];p||(p=new Nt(Qe)),p=p.insert(h,f),u.Vu[u.currentUser.toKey()]=p})(i,a.batchId,t),await Eu(i,a.changes),await Ld(i.remoteStore)}catch(a){const l=sv(a,"Failed to persist write");t.reject(l)}}async function dA(n,e){const t=Ve(n);try{const i=await l4(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=t.Au.get(l);u&&(ot(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?ot(u.hu,14607):a.removedDocuments.size>0&&(ot(u.hu,42227),u.hu=!1))})),await Eu(t,i,e)}catch(i){await wl(i)}}function G1(n,e,t){const i=Ve(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.Tu.forEach(((l,u)=>{const h=u.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const f=Ve(u);f.onlineState=h;let p=!1;f.queries.forEach(((v,g)=>{for(const _ of g.Sa)_.va(h)&&(p=!0)})),p&&av(f)})(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function X4(n,e,t){const i=Ve(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Au.get(e),l=a&&a.key;if(l){let u=new Nt(xe.comparator);u=u.insert(l,On.newNoDocument(l,ke.min()));const h=Xe().add(l),f=new Od(ke.min(),new Map,new Nt(Qe),u,h);await dA(i,f),i.du=i.du.remove(l),i.Au.delete(e),lv(i)}else await ty(i.localStore,e,!1).then((()=>iy(i,e,t))).catch(wl)}async function W4(n,e){const t=Ve(n),i=e.batch.batchId;try{const a=await o4(t.localStore,e);pA(t,i,null),mA(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Eu(t,a)}catch(a){await wl(a)}}async function Z4(n,e,t){const i=Ve(n);try{const a=await(function(u,h){const f=Ve(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return f.mutationQueue.lookupMutationBatch(p,h).next((g=>(ot(g!==null,37113),v=g.keys(),f.mutationQueue.removeMutationBatch(p,g)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,v,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>f.localDocuments.getDocuments(p,v)))}))})(i.localStore,e);pA(i,e,t),mA(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Eu(i,a)}catch(a){await wl(a)}}function mA(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function pA(n,e,t){const i=Ve(n);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function iy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((i=>{n.Ru.containsKey(i)||gA(n,i)}))}function gA(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(ev(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),lv(n))}function K1(n,e,t){for(const i of t)i instanceof uA?(n.Ru.addReference(i.key,e),J4(n,i)):i instanceof fA?(ve(ov,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||gA(n,i.key)):De(19791,{wu:i})}function J4(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(ve(ov,"New document in limbo: "+t),n.Eu.add(i),lv(n))}function lv(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new xe(bt.fromString(e)),i=n.fu.next();n.Au.set(i,new F4(t)),n.du=n.du.insert(t,i),tA(n.remoteStore,new Ys(bi(Gy(t.path)),i,"TargetPurposeLimboResolution",Rd.ce))}}async function Eu(n,e,t){const i=Ve(n),a=[],l=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,f)=>{u.push(i.pu(f,e,t).then((p=>{var v;if((p||t)&&i.isPrimaryClient){const g=p?!p.fromCache:(v=t==null?void 0:t.targetChanges.get(f.targetId))==null?void 0:v.current;i.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(p){a.push(p);const g=Zy.As(f.targetId,p);l.push(g)}})))})),await Promise.all(u),i.Pu.H_(a),await(async function(f,p){const v=Ve(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>ue.forEach(p,(_=>ue.forEach(_.Es,(S=>v.persistence.referenceDelegate.addReference(g,_.targetId,S))).next((()=>ue.forEach(_.ds,(S=>v.persistence.referenceDelegate.removeReference(g,_.targetId,S)))))))))}catch(g){if(!Al(g))throw g;ve(Jy,"Failed to update sequence numbers: "+g)}for(const g of p){const _=g.targetId;if(!g.fromCache){const S=v.Ms.get(_),R=S.snapshotVersion,M=S.withLastLimboFreeSnapshotVersion(R);v.Ms=v.Ms.insert(_,M)}}})(i.localStore,l))}async function eL(n,e){const t=Ve(n);if(!t.currentUser.isEqual(e)){ve(ov,"User change. New user:",e.toKey());const i=await Ww(t.localStore,e);t.currentUser=e,(function(l,u){l.mu.forEach((h=>{h.forEach((f=>{f.reject(new ge(oe.CANCELLED,u))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Eu(t,i.Ls)}}function tL(n,e){const t=Ve(n),i=t.Au.get(e);if(i&&i.hu)return Xe().add(i.key);{let a=Xe();const l=t.Iu.get(e);if(!l)return a;for(const u of l){const h=t.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function yA(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=dA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=X4.bind(null,e),e.Pu.H_=U4.bind(null,e.eventManager),e.Pu.yu=z4.bind(null,e.eventManager),e}function nL(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=W4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Z4.bind(null,e),e}class ud{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return a4(this.persistence,new r4,e.initialUser,this.serializer)}Cu(e){return new Xw(Wy.mi,this.serializer)}Du(e){return new d4}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ud.provider={build:()=>new ud};class rL extends ud{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ot(this.persistence.referenceDelegate instanceof ld,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new FP(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?$n.withCacheSize(this.cacheSizeBytes):$n.DEFAULT;return new Xw((i=>ld.mi(i,t)),this.serializer)}}class sy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>G1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=eL.bind(null,this.syncEngine),await P4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new V4})()}createDatastore(e){const t=kd(e.databaseInfo.databaseId),i=(function(l){return new v4(l)})(e.databaseInfo);return(function(l,u,h,f){return new S4(l,u,h,f)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,a,l,u,h){return new w4(i,a,l,u,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>G1(this.syncEngine,t,0)),(function(){return z1.v()?new z1:new m4})())}createSyncEngine(e,t){return(function(a,l,u,h,f,p,v){const g=new q4(a,l,u,h,f,p);return v&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(a){const l=Ve(a);ve(Ja,"RemoteStore shutting down."),l.Ea.add(5),await bu(l),l.Aa.shutdown(),l.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}sy.provider={build:()=>new sy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):is("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="FirestoreClient";class iL{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=Dn.UNAUTHENTICATED,this.clientId=zy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async u=>{ve(oa,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(ve(oa,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=sv(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function gg(n,e){n.asyncQueue.verifyOperationInProgress(),ve(oa,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async a=>{i.isEqual(a)||(await Ww(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Y1(n,e){n.asyncQueue.verifyOperationInProgress();const t=await sL(n);ve(oa,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>B1(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,a)=>B1(e.remoteStore,a))),n._onlineComponents=e}async function sL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ve(oa,"Using user provided OfflineComponentProvider");try{await gg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===oe.FAILED_PRECONDITION||a.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;dl("Error using user provided cache. Falling back to memory cache: "+t),await gg(n,new ud)}}else ve(oa,"Using default OfflineComponentProvider"),await gg(n,new rL(void 0));return n._offlineComponents}async function _A(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ve(oa,"Using user provided OnlineComponentProvider"),await Y1(n,n._uninitializedComponentsProvider._online)):(ve(oa,"Using default OnlineComponentProvider"),await Y1(n,new sy))),n._onlineComponents}function aL(n){return _A(n).then((e=>e.syncEngine))}async function bA(n){const e=await _A(n),t=e.eventManager;return t.onListen=H4.bind(null,e.syncEngine),t.onUnlisten=Y4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=G4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=$4.bind(null,e.syncEngine),t}function oL(n,e,t={}){const i=new Ji;return n.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,f,p){const v=new vA({next:_=>{v.Nu(),u.enqueueAndForget((()=>lA(l,g)));const S=_.docs.has(h);!S&&_.fromCache?p.reject(new ge(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&_.fromCache&&f&&f.source==="server"?p.reject(new ge(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(_)},error:_=>p.reject(_)}),g=new cA(Gy(h.path),v,{includeMetadataChanges:!0,qa:!0});return oA(l,g)})(await bA(n),n.asyncQueue,e,t,i))),i.promise}function lL(n,e,t={}){const i=new Ji;return n.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,f,p){const v=new vA({next:_=>{v.Nu(),u.enqueueAndForget((()=>lA(l,g))),_.fromCache&&f.source==="server"?p.reject(new ge(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(_)},error:_=>p.reject(_)}),g=new cA(h,v,{includeMetadataChanges:!0,qa:!0});return oA(l,g)})(await bA(n),n.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="firestore.googleapis.com",Q1=!0;class X1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=SA,this.ssl=Q1}else this.host=e.host,this.ssl=e.ssl??Q1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Qw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jP)throw new ge(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=EA(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ge(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ge(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ge(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vd{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new X1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new X1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new mk;switch(i.type){case"firstParty":return new vk(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ge(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=$1.get(t);i&&(ve("ComponentProvider","Removing Datastore"),$1.delete(t),i.terminate())})(this),Promise.resolve()}}function cL(n,e,t,i={}){var p;n=Za(n,Vd);const a=bl(e),l=n._getSettings(),u={...l,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;a&&(pT(`https://${h}`),gT("Firestore",!0)),l.host!==SA&&l.host!==h&&dl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...l,host:h,ssl:a,emulatorOptions:i};if(!$a(f,u)&&(n._setSettings(f),i.mockUserToken)){let v,g;if(typeof i.mockUserToken=="string")v=i.mockUserToken,g=Dn.MOCK_USER;else{v=jN(i.mockUserToken,(p=n._app)==null?void 0:p.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new ge(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Dn(_)}n._authCredentials=new pk(new aw(v,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new la(this.firestore,e,this._query)}}class Xt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ea(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xt(this.firestore,e,this._key)}toJSON(){return{type:Xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(yu(t,Xt._jsonSchema))return new Xt(e,i||null,new xe(bt.fromString(t.referencePath)))}}Xt._jsonSchemaVersion="firestore/documentReference/1.0",Xt._jsonSchema={type:Qt("string",Xt._jsonSchemaVersion),referencePath:Qt("string")};class ea extends la{constructor(e,t,i){super(e,t,Gy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new xe(e))}withConverter(e){return new ea(this.firestore,e,this._path)}}function W1(n,e,...t){if(n=Xn(n),ow("collection","path",e),n instanceof Vd){const i=bt.fromString(e,...t);return c1(i),new ea(n,null,i)}{if(!(n instanceof Xt||n instanceof ea))throw new ge(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(bt.fromString(e,...t));return c1(i),new ea(n.firestore,null,i)}}function ah(n,e,...t){if(n=Xn(n),arguments.length===1&&(e=zy.newId()),ow("doc","path",e),n instanceof Vd){const i=bt.fromString(e,...t);return l1(i),new Xt(n,null,new xe(i))}{if(!(n instanceof Xt||n instanceof ea))throw new ge(oe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(bt.fromString(e,...t));return l1(i),new Xt(n.firestore,n instanceof ea?n.converter:null,new xe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="AsyncQueue";class J1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Jw(this,"async_queue_retry"),this._c=()=>{const i=pg();i&&ve(Z1,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=pg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=pg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ji;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Al(e))throw e;ve(Z1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,is("INTERNAL UNHANDLED ERROR: ",eS(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=iv.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&De(47125,{Pc:eS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function eS(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Ud extends Vd{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new J1,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new J1(e),this._firestoreClient=void 0,await e}}}function uL(n,e){const t=typeof n=="object"?n:bT(),i=typeof n=="string"?n:td,a=xy(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=UN("firestore");l&&cL(a,...l)}return a}function cv(n){if(n._terminated)throw new ge(oe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||fL(n),n._firestoreClient}function fL(n){var i,a,l;const e=n._freezeSettings(),t=(function(h,f,p,v){return new Pk(h,f,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,EA(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(n._databaseId,((i=n._app)==null?void 0:i.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new iL(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mr(En.fromBase64String(e))}catch(t){throw new ge(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Mr(En.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yu(e,Mr._jsonSchema))return Mr.fromBase64String(e.bytes)}}Mr._jsonSchemaVersion="firestore/bytes/1.0",Mr._jsonSchema={type:Qt("string",Mr._jsonSchemaVersion),bytes:Qt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function tS(){return new zd(Gg)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Si._jsonSchemaVersion}}static fromJSON(e){if(yu(e,Si._jsonSchema))return new Si(e.latitude,e.longitude)}}Si._jsonSchemaVersion="firestore/geoPoint/1.0",Si._jsonSchema={type:Qt("string",Si._jsonSchemaVersion),latitude:Qt("number"),longitude:Qt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ti._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yu(e,Ti._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Ti(e.vectorValues);throw new ge(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ti._jsonSchemaVersion="firestore/vectorValue/1.0",Ti._jsonSchema={type:Qt("string",Ti._jsonSchemaVersion),vectorValues:Qt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL=/^__.*__$/;class dL{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ro(e,this.data,this.fieldMask,t,this.fieldTransforms):new vu(e,this.data,t,this.fieldTransforms)}}function wA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{Ac:n})}}class uv{constructor(e,t,i,a,l,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new uv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const t=(a=this.path)==null?void 0:a.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){var a;const t=(a=this.path)==null?void 0:a.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return fd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(wA(this.Ac)&&hL.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class mL{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||kd(e)}Cc(e,t,i,a=!1){return new uv({Ac:e,methodName:t,Dc:i,path:bn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function AA(n){const e=n._freezeSettings(),t=kd(n._databaseId);return new mL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function pL(n,e,t,i,a,l={}){const u=n.Cc(l.merge||l.mergeFields?2:0,e,t,a);CA("Data must be an object, but it was:",u,i);const h=RA(i,u);let f,p;if(l.merge)f=new Yr(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const g of l.mergeFields){const _=yL(e,g,t);if(!u.contains(_))throw new ge(oe.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);_L(v,_)||v.push(_)}f=new Yr(v),p=u.fieldTransforms.filter((g=>f.covers(g.field)))}else f=null,p=u.fieldTransforms;return new dL(new Nr(h),f,p)}function gL(n,e,t,i=!1){return fv(t,n.Cc(i?4:3,e))}function fv(n,e){if(xA(n=Xn(n)))return CA("Unsupported field value:",e,n),RA(n,e);if(n instanceof TA)return(function(i,a){if(!wA(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,a){const l=[];let u=0;for(const h of i){let f=fv(h,a.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),l.push(f),u++}return{arrayValue:{values:l}}})(n,e)}return(function(i,a){if((i=Xn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return iP(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=vt.fromDate(i);return{timestampValue:od(a.serializer,l)}}if(i instanceof vt){const l=new vt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:od(a.serializer,l)}}if(i instanceof Si)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Mr)return{bytesValue:Fw(a.serializer,i._byteString)};if(i instanceof Xt){const l=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Qy(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Ti)return(function(u,h){return{mapValue:{fields:{[gw]:{stringValue:yw},[nd]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return Ky(h.serializer,p)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${Ad(i)}`)})(n,e)}function RA(n,e){const t={};return uw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):to(n,((i,a)=>{const l=fv(a,e.mc(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function xA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof vt||n instanceof Si||n instanceof Mr||n instanceof Xt||n instanceof TA||n instanceof Ti)}function CA(n,e,t){if(!xA(t)||!lw(t)){const i=Ad(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function yL(n,e,t){if((e=Xn(e))instanceof zd)return e._internalPath;if(typeof e=="string")return IA(n,e);throw fd("Field path arguments must be of type string or ",n,!1,void 0,t)}const vL=new RegExp("[~\\*/\\[\\]]");function IA(n,e,t){if(e.search(vL)>=0)throw fd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new zd(...e.split("."))._internalPath}catch{throw fd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function fd(n,e,t,i,a){const l=i&&!i.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(l||u)&&(f+=" (found",l&&(f+=` in field ${i}`),u&&(f+=` in document ${a}`),f+=")"),new ge(oe.INVALID_ARGUMENT,h+n+f)}function _L(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class bL extends NA{data(){return super.data()}}function jd(n,e){return typeof e=="string"?IA(n,e):e instanceof zd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ge(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hv{}class dv extends hv{}function nS(n,e,...t){let i=[];e instanceof hv&&i.push(e),i=i.concat(t),(function(l){const u=l.filter((f=>f instanceof mv)).length,h=l.filter((f=>f instanceof Bd)).length;if(u>1||u>0&&h>0)throw new ge(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)n=a._apply(n);return n}class Bd extends dv{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Bd(e,t,i)}_apply(e){const t=this._parse(e);return MA(e._query,t),new la(e.firestore,e.converter,Xg(e._query,t))}_parse(e){const t=AA(e.firestore);return(function(l,u,h,f,p,v,g){let _;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ge(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){iS(g,v);const R=[];for(const M of g)R.push(rS(f,l,M));_={arrayValue:{values:R}}}else _=rS(f,l,g)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||iS(g,v),_=gL(h,u,g,v==="in"||v==="not-in");return $t.create(p,v,_)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function yg(n,e,t){const i=e,a=jd("where",n);return Bd._create(a,i,t)}class mv extends hv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new mv(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:Qr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let u=a;const h=l.getFlattenedFilters();for(const f of h)MA(u,f),u=Xg(u,f)})(e._query,t),new la(e.firestore,e.converter,Xg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class pv extends dv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new pv(e,t)}_apply(e){const t=(function(a,l,u){if(a.startAt!==null)throw new ge(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ge(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ou(l,u)})(e._query,this._field,this._direction);return new la(e.firestore,e.converter,(function(a,l){const u=a.explicitOrderBy.concat([l]);return new Rl(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,t))}}function SL(n,e="asc"){const t=e,i=jd("orderBy",n);return pv._create(i,t)}class gv extends dv{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new gv(e,t,i)}_apply(e){return new la(e.firestore,e.converter,id(e._query,this._limit,this._limitType))}}function TL(n){return gv._create("limit",n,"F")}function rS(n,e,t){if(typeof(t=Xn(t))=="string"){if(t==="")throw new ge(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Aw(e)&&t.indexOf("/")!==-1)throw new ge(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(bt.fromString(t));if(!xe.isDocumentKey(i))throw new ge(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return y1(n,new xe(i))}if(t instanceof Xt)return y1(n,t._key);throw new ge(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ad(t)}.`)}function iS(n,e){if(!Array.isArray(n)||n.length===0)throw new ge(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function MA(n,e){const t=(function(a,l){for(const u of a)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ge(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class wL{convertValue(e,t="none"){switch(sa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ia(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return to(e,((a,l)=>{i[a]=this.convertValue(l,t)})),i}convertVectorValue(e){var i,a,l;const t=(l=(a=(i=e.fields)==null?void 0:i[nd].arrayValue)==null?void 0:a.values)==null?void 0:l.map((u=>Vt(u.doubleValue)));return new Ti(t)}convertGeoPoint(e){return new Si(Vt(e.latitude),Vt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Cd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(iu(e));default:return null}}convertTimestamp(e){const t=ra(e);return new vt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=bt.fromString(e);ot($w(i),9688,{name:e});const a=new su(i.get(1),i.get(3)),l=new xe(i.popFirst(5));return a.isEqual(t)||is(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Fc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ha extends NA{constructor(e,t,i,a,l,u){super(e,t,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(jd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ha._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ha._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ha._jsonSchema={type:Qt("string",Ha._jsonSchemaVersion),bundleSource:Qt("string","DocumentSnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class xh extends Ha{data(e={}){return super.data(e)}}class ol{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Fc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new xh(this._firestore,this._userDataWriter,i.key,i,new Fc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const f=new xh(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Fc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const f=new xh(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Fc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),v=u.indexOf(h.doc.key)),{type:RL(h.type),doc:f,oldIndex:p,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ol._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=zy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function RL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(n){n=Za(n,Xt);const e=Za(n.firestore,Ud);return oL(cv(e),n._key).then((t=>CL(e,n,t)))}ol._jsonSchemaVersion="firestore/querySnapshot/1.0",ol._jsonSchema={type:Qt("string",ol._jsonSchemaVersion),bundleSource:Qt("string","QuerySnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class DA extends wL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,t)}}function aS(n){n=Za(n,la);const e=Za(n.firestore,Ud),t=cv(e),i=new DA(e);return EL(n._query),lL(t,n._query).then((a=>new ol(e,i,n,a)))}function oh(n,e,t){n=Za(n,Xt);const i=Za(n.firestore,Ud),a=AL(n.converter,e,t);return xL(i,[pL(AA(i),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,es.none())])}function xL(n,e){return(function(i,a){const l=new Ji;return i.asyncQueue.enqueueAndForget((async()=>Q4(await aL(i),a,l))),l.promise})(cv(n),e)}function CL(n,e,t){const i=t.docs.get(e._key),a=new DA(n);return new Ha(n,a,e._key,i,new Fc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){Tl=a})(El),fl(new Qa("firestore",((i,{instanceIdentifier:a,options:l})=>{const u=i.getProvider("app").getImmediate(),h=new Ud(new gk(i.getProvider("auth-internal")),new _k(u,i.getProvider("app-check-internal")),(function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ge(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new su(p.options.projectId,v)})(u,a),u);return l={useFetchStreams:t,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),Zs(s1,a1,e),Zs(s1,a1,"esm2020")})();var IL="firebase",NL="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zs(IL,NL,"app");const ML={VITE_FIREBASE_API_KEY:"AIzaSyCTtoqZae_UoKY0fTb9yKs-KxFb-XPNy_Y",VITE_FIREBASE_APP_ID:"1:972437577186:web:ad49bdfcef4e0a5b9a2dbb",VITE_FIREBASE_AUTH_DOMAIN:"edwardscamera-infinisweeper.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"972437577186",VITE_FIREBASE_PROJECT_ID:"edwardscamera-infinisweeper",VITE_FIREBASE_STORAGE_BUCKET:"edwardscamera-infinisweeper.firebasestorage.app"},{VITE_FIREBASE_API_KEY:DL,VITE_FIREBASE_AUTH_DOMAIN:OL,VITE_FIREBASE_PROJECT_ID:kL,VITE_FIREBASE_STORAGE_BUCKET:PL,VITE_FIREBASE_MESSAGING_SENDER_ID:LL,VITE_FIREBASE_APP_ID:VL}=ML,OA=_T({apiKey:DL,authDomain:OL,projectId:kL,storageBucket:PL,messagingSenderId:LL,appId:VL}),vg=hk(OA),Ko=uL(OA),kA=L.createContext(void 0),Su=()=>{const n=L.use(kA);if(!n)throw new Error("useDb must be used within a DbProvider");return n},UL=({children:n})=>{const[e,t]=L.useState(null),[i,a]=L.useState(null);L.useEffect(()=>{const u=eO(vg,async h=>{var f;if(t(h),h){const p=ah(Ko,"users",h.uid);try{const v=await sS(p);if(v.exists())a(((f=v.data())==null?void 0:f.username)??null);else{const g=h.displayName||"Anonymous";await oh(p,{createdAt:vt.now(),username:g}),a(g)}}catch{Xi.error("Failed to fetch user data!")}}else a(null)});return()=>u()},[]);const l={user:e,name:i,login:async()=>{const u=new Qi;await EO(vg,u)},logout:async()=>{await tO(vg)},updateName:async u=>{if(!e)return;const h=ah(Ko,"users",e.uid);await oh(h,{username:u},{merge:!0});const f=W1(Ko,"scores"),p=nS(f,yg(tS(),">=",`${e.uid}_`),yg(tS(),"<=",`${e.uid}_`)),v=await aS(p);await Promise.all(v.docs.map(g=>oh(g.ref,{username:u},{merge:!0}))),a(u)},getScoreboard:async()=>{const u=[{id:"classic",label:"Classic"}],h={};return await Promise.all(u.map(async({id:f,label:p})=>{const v=nS(W1(Ko,"scores"),yg("mode","==",f),SL("score","desc"),TL(10)),g=await aS(v);h[p]=g.docs.map(_=>({name:_.data().username,score:_.data().score,game_type:p}))})),h},submitScore:async(u,h)=>{if(!e||!i)return;const f=`${e.uid}_${h}`,p=ah(Ko,"scores",f);await oh(p,{score:u,username:i,mode:h,updatedAt:vt.now()})},fetchHighScore:async u=>{if(!e)return null;const h=`${e.uid}_${u}`,f=ah(Ko,"scores",h),p=await sS(f);return p.exists()?p.data().score:null}};return P.jsx(kA.Provider,{value:l,children:n})},hd=new AudioContext,dd=hd.createGain();dd.gain.value=1;dd.connect(hd.destination);const oS={},lh={};let lS=3;const La={async loadAudios(n){for(const[e,t]of Object.entries(n)){const a=await(await fetch(t)).arrayBuffer(),l=await hd.decodeAudioData(a);oS[e]=l,lh[e]=new Set}},play(n,e=1){const t=oS[n];if(!t){console.warn(`Audio "${n}" not loaded.`);return}const i=lh[n];if(i.size>=lS)return;const a=hd.createBufferSource();a.buffer=t,a.playbackRate.value=e,a.connect(dd),a.start(),i.add(a),a.onended=()=>i.delete(a)},setMaxInstances(n,e){lh[n]||(lh[n]=new Set),lS=e},setVolume(n){dd.gain.value=n}};var Ch={exports:{}},zL=Ch.exports,cS;function jL(){return cS||(cS=1,(function(n){(function(e,t,i){function a(f){var p=this,v=h();p.next=function(){var g=2091639*p.s0+p.c*23283064365386963e-26;return p.s0=p.s1,p.s1=p.s2,p.s2=g-(p.c=g|0)},p.c=1,p.s0=v(" "),p.s1=v(" "),p.s2=v(" "),p.s0-=v(f),p.s0<0&&(p.s0+=1),p.s1-=v(f),p.s1<0&&(p.s1+=1),p.s2-=v(f),p.s2<0&&(p.s2+=1),v=null}function l(f,p){return p.c=f.c,p.s0=f.s0,p.s1=f.s1,p.s2=f.s2,p}function u(f,p){var v=new a(f),g=p&&p.state,_=v.next;return _.int32=function(){return v.next()*4294967296|0},_.double=function(){return _()+(_()*2097152|0)*11102230246251565e-32},_.quick=_,g&&(typeof g=="object"&&l(g,v),_.state=function(){return l(v,{})}),_}function h(){var f=4022871197,p=function(v){v=String(v);for(var g=0;g<v.length;g++){f+=v.charCodeAt(g);var _=.02519603282416938*f;f=_>>>0,_-=f,_*=f,f=_>>>0,_-=f,f+=_*4294967296}return(f>>>0)*23283064365386963e-26};return p}t&&t.exports?t.exports=u:this.alea=u})(zL,n)})(Ch)),Ch.exports}var Ih={exports:{}},BL=Ih.exports,uS;function FL(){return uS||(uS=1,(function(n){(function(e,t,i){function a(h){var f=this,p="";f.x=0,f.y=0,f.z=0,f.w=0,f.next=function(){var g=f.x^f.x<<11;return f.x=f.y,f.y=f.z,f.z=f.w,f.w^=f.w>>>19^g^g>>>8},h===(h|0)?f.x=h:p+=h;for(var v=0;v<p.length+64;v++)f.x^=p.charCodeAt(v)|0,f.next()}function l(h,f){return f.x=h.x,f.y=h.y,f.z=h.z,f.w=h.w,f}function u(h,f){var p=new a(h),v=f&&f.state,g=function(){return(p.next()>>>0)/4294967296};return g.double=function(){do var _=p.next()>>>11,S=(p.next()>>>0)/4294967296,R=(_+S)/(1<<21);while(R===0);return R},g.int32=p.next,g.quick=g,v&&(typeof v=="object"&&l(v,p),g.state=function(){return l(p,{})}),g}t&&t.exports?t.exports=u:this.xor128=u})(BL,n)})(Ih)),Ih.exports}var Nh={exports:{}},qL=Nh.exports,fS;function HL(){return fS||(fS=1,(function(n){(function(e,t,i){function a(h){var f=this,p="";f.next=function(){var g=f.x^f.x>>>2;return f.x=f.y,f.y=f.z,f.z=f.w,f.w=f.v,(f.d=f.d+362437|0)+(f.v=f.v^f.v<<4^(g^g<<1))|0},f.x=0,f.y=0,f.z=0,f.w=0,f.v=0,h===(h|0)?f.x=h:p+=h;for(var v=0;v<p.length+64;v++)f.x^=p.charCodeAt(v)|0,v==p.length&&(f.d=f.x<<10^f.x>>>4),f.next()}function l(h,f){return f.x=h.x,f.y=h.y,f.z=h.z,f.w=h.w,f.v=h.v,f.d=h.d,f}function u(h,f){var p=new a(h),v=f&&f.state,g=function(){return(p.next()>>>0)/4294967296};return g.double=function(){do var _=p.next()>>>11,S=(p.next()>>>0)/4294967296,R=(_+S)/(1<<21);while(R===0);return R},g.int32=p.next,g.quick=g,v&&(typeof v=="object"&&l(v,p),g.state=function(){return l(p,{})}),g}t&&t.exports?t.exports=u:this.xorwow=u})(qL,n)})(Nh)),Nh.exports}var Mh={exports:{}},GL=Mh.exports,hS;function KL(){return hS||(hS=1,(function(n){(function(e,t,i){function a(h){var f=this;f.next=function(){var v=f.x,g=f.i,_,S;return _=v[g],_^=_>>>7,S=_^_<<24,_=v[g+1&7],S^=_^_>>>10,_=v[g+3&7],S^=_^_>>>3,_=v[g+4&7],S^=_^_<<7,_=v[g+7&7],_=_^_<<13,S^=_^_<<9,v[g]=S,f.i=g+1&7,S};function p(v,g){var _,S=[];if(g===(g|0))S[0]=g;else for(g=""+g,_=0;_<g.length;++_)S[_&7]=S[_&7]<<15^g.charCodeAt(_)+S[_+1&7]<<13;for(;S.length<8;)S.push(0);for(_=0;_<8&&S[_]===0;++_);for(_==8?S[7]=-1:S[_],v.x=S,v.i=0,_=256;_>0;--_)v.next()}p(f,h)}function l(h,f){return f.x=h.x.slice(),f.i=h.i,f}function u(h,f){h==null&&(h=+new Date);var p=new a(h),v=f&&f.state,g=function(){return(p.next()>>>0)/4294967296};return g.double=function(){do var _=p.next()>>>11,S=(p.next()>>>0)/4294967296,R=(_+S)/(1<<21);while(R===0);return R},g.int32=p.next,g.quick=g,v&&(v.x&&l(v,p),g.state=function(){return l(p,{})}),g}t&&t.exports?t.exports=u:this.xorshift7=u})(GL,n)})(Mh)),Mh.exports}var Dh={exports:{}},YL=Dh.exports,dS;function $L(){return dS||(dS=1,(function(n){(function(e,t,i){function a(h){var f=this;f.next=function(){var v=f.w,g=f.X,_=f.i,S,R;return f.w=v=v+1640531527|0,R=g[_+34&127],S=g[_=_+1&127],R^=R<<13,S^=S<<17,R^=R>>>15,S^=S>>>12,R=g[_]=R^S,f.i=_,R+(v^v>>>16)|0};function p(v,g){var _,S,R,M,k,V=[],H=128;for(g===(g|0)?(S=g,g=null):(g=g+"\0",S=0,H=Math.max(H,g.length)),R=0,M=-32;M<H;++M)g&&(S^=g.charCodeAt((M+32)%g.length)),M===0&&(k=S),S^=S<<10,S^=S>>>15,S^=S<<4,S^=S>>>13,M>=0&&(k=k+1640531527|0,_=V[M&127]^=S+k,R=_==0?R+1:0);for(R>=128&&(V[(g&&g.length||0)&127]=-1),R=127,M=512;M>0;--M)S=V[R+34&127],_=V[R=R+1&127],S^=S<<13,_^=_<<17,S^=S>>>15,_^=_>>>12,V[R]=S^_;v.w=k,v.X=V,v.i=R}p(f,h)}function l(h,f){return f.i=h.i,f.w=h.w,f.X=h.X.slice(),f}function u(h,f){h==null&&(h=+new Date);var p=new a(h),v=f&&f.state,g=function(){return(p.next()>>>0)/4294967296};return g.double=function(){do var _=p.next()>>>11,S=(p.next()>>>0)/4294967296,R=(_+S)/(1<<21);while(R===0);return R},g.int32=p.next,g.quick=g,v&&(v.X&&l(v,p),g.state=function(){return l(p,{})}),g}t&&t.exports?t.exports=u:this.xor4096=u})(YL,n)})(Dh)),Dh.exports}var Oh={exports:{}},QL=Oh.exports,mS;function XL(){return mS||(mS=1,(function(n){(function(e,t,i){function a(h){var f=this,p="";f.next=function(){var g=f.b,_=f.c,S=f.d,R=f.a;return g=g<<25^g>>>7^_,_=_-S|0,S=S<<24^S>>>8^R,R=R-g|0,f.b=g=g<<20^g>>>12^_,f.c=_=_-S|0,f.d=S<<16^_>>>16^R,f.a=R-g|0},f.a=0,f.b=0,f.c=-1640531527,f.d=1367130551,h===Math.floor(h)?(f.a=h/4294967296|0,f.b=h|0):p+=h;for(var v=0;v<p.length+20;v++)f.b^=p.charCodeAt(v)|0,f.next()}function l(h,f){return f.a=h.a,f.b=h.b,f.c=h.c,f.d=h.d,f}function u(h,f){var p=new a(h),v=f&&f.state,g=function(){return(p.next()>>>0)/4294967296};return g.double=function(){do var _=p.next()>>>11,S=(p.next()>>>0)/4294967296,R=(_+S)/(1<<21);while(R===0);return R},g.int32=p.next,g.quick=g,v&&(typeof v=="object"&&l(v,p),g.state=function(){return l(p,{})}),g}t&&t.exports?t.exports=u:this.tychei=u})(QL,n)})(Oh)),Oh.exports}var kh={exports:{}};const WL={},ZL=Object.freeze(Object.defineProperty({__proto__:null,default:WL},Symbol.toStringTag,{value:"Module"})),JL=EC(ZL);var eV=kh.exports,pS;function tV(){return pS||(pS=1,(function(n){(function(e,t,i){var a=256,l=6,u=52,h="random",f=i.pow(a,l),p=i.pow(2,u),v=p*2,g=a-1,_;function S(Y,$,q){var A=[];$=$==!0?{entropy:!0}:$||{};var w=V(k($.entropy?[Y,G(t)]:Y??H(),3),A),C=new R(A),D=function(){for(var N=C.g(l),U=f,O=0;N<p;)N=(N+O)*a,U*=a,O=C.g(1);for(;N>=v;)N/=2,U/=2,O>>>=1;return(N+O)/U};return D.int32=function(){return C.g(4)|0},D.quick=function(){return C.g(4)/4294967296},D.double=D,V(G(C.S),t),($.pass||q||function(N,U,O,ye){return ye&&(ye.S&&M(ye,C),N.state=function(){return M(C,{})}),O?(i[h]=N,U):N})(D,w,"global"in $?$.global:this==i,$.state)}function R(Y){var $,q=Y.length,A=this,w=0,C=A.i=A.j=0,D=A.S=[];for(q||(Y=[q++]);w<a;)D[w]=w++;for(w=0;w<a;w++)D[w]=D[C=g&C+Y[w%q]+($=D[w])],D[C]=$;(A.g=function(N){for(var U,O=0,ye=A.i,Se=A.j,F=A.S;N--;)U=F[ye=g&ye+1],O=O*a+F[g&(F[ye]=F[Se=g&Se+U])+(F[Se]=U)];return A.i=ye,A.j=Se,O})(a)}function M(Y,$){return $.i=Y.i,$.j=Y.j,$.S=Y.S.slice(),$}function k(Y,$){var q=[],A=typeof Y,w;if($&&A=="object")for(w in Y)try{q.push(k(Y[w],$-1))}catch{}return q.length?q:A=="string"?Y:Y+"\0"}function V(Y,$){for(var q=Y+"",A,w=0;w<q.length;)$[g&w]=g&(A^=$[g&w]*19)+q.charCodeAt(w++);return G($)}function H(){try{var Y;return _&&(Y=_.randomBytes)?Y=Y(a):(Y=new Uint8Array(a),(e.crypto||e.msCrypto).getRandomValues(Y)),G(Y)}catch{var $=e.navigator,q=$&&$.plugins;return[+new Date,e,q,e.screen,G(t)]}}function G(Y){return String.fromCharCode.apply(0,Y)}if(V(i.random(),t),n.exports){n.exports=S;try{_=JL}catch{}}else i["seed"+h]=S})(typeof self<"u"?self:eV,[],Math)})(kh)),kh.exports}var _g,gS;function nV(){if(gS)return _g;gS=1;var n=jL(),e=FL(),t=HL(),i=KL(),a=$L(),l=XL(),u=tV();return u.alea=n,u.xor128=e,u.xorwow=t,u.xorshift7=i,u.xor4096=a,u.tychei=l,_g=u,_g}var rV=nV();const iV=uy(rV);class ay{constructor(e,t,i=null){at(this,"velocity",{x:(Math.random()*2-1)/20,y:0});at(this,"size",{x:1,y:1});at(this,"angle",0);this.position=e,this.color=t,this.image=i}update(){this.position.x+=this.velocity.x,this.position.y+=this.velocity.y,this.velocity.y+=.01,this.angle+=this.velocity.y}render(e){e.save(),e.translate(this.position.x+this.size.x/2,this.position.y+this.size.y/2),e.rotate(this.angle),this.image?e.drawImage(this.image,-this.size.x/2,-this.size.y/2,this.size.x,this.size.y):(e.fillStyle=this.color,e.fillRect(-this.size.x/2,-this.size.y/2,this.size.x,this.size.y)),e.restore()}}class sV{constructor(){at(this,"entities",[])}add(e){this.entities.push({particle:e,deathTime:performance.now()+3e3})}update(){this.entities=this.entities.filter(e=>e.deathTime>performance.now());for(const e of this.entities)e.particle.update()}render(e){for(const t of this.entities)t.particle.render(e)}clear(){this.entities=[]}explode(e,t){for(let i=0;i<250;i++){const a=["red","yellow","orange"],l=a[Math.floor(Math.random()*a.length)],u=new ay({x:e+Math.random(),y:t+Math.random()},l),h=Math.random()*.25+.25,f=Math.random()*2*Math.PI,p=Math.random()*.5;u.size={x:h,y:h},u.velocity={x:Math.cos(f)*p,y:Math.sin(f)*p},this.add(u)}}popFlag(e){const t=nl.get("flag");this.add(new ay(e,"#f00",t))}}const aV={1:"#1977D3",2:"#3B8E3F",3:"#D53734",4:"#7A1EA2",5:"#FF8F00",6:"#159AA4",7:"#434343",8:"#A99D93"};class gi{constructor(e,t,i,a){at(this,"tilesRevealed",0);at(this,"tilesFlagged",0);at(this,"game");at(this,"board",new Map);at(this,"particleManager",new sV);at(this,"bombChance",.18);at(this,"borderThickness",.1);at(this,"seed");at(this,"eventQueue",[]);if(this.bombChance=t??this.bombChance,this.seed=i??Date.now(),this.game=e,a){for(const l of a){const[u,h]=gi.getKey(l.replace(".",","));let f=1;l.includes(",")&&(f=0,this.tilesRevealed++),l.includes(".")&&(f=2,this.tilesFlagged++),this.updateTile([u,h],{state:f,interactedAt:-1e3})}this.updateStats()}}static getAddress(e){return`${e[0]},${e[1]}`}static getKey(e){const[t,i]=e.split(",").map(Number);return[t,i]}generate(e){const t=this.board.get(gi.getAddress(e));if(t)return t;const i=`${this.seed}-${e[0]}-${e[1]}`,l={value:iV(i)()<this.bombChance?-1:0,state:1,interactedAt:-1e3,exploded:!1};this.board.set(gi.getAddress(e),l);const[u,h]=e;for(let f=u-1;f<=u+1;f++)for(let p=h-1;p<=h+1;p++){if(f===u&&p===h)continue;const v=gi.getAddress([f,p]),g=this.board.get(v);if(l.value===-1){if(!g||g.value===-1)continue;this.updateTile([f,p],{value:g.value+1})}else(g==null?void 0:g.value)===-1&&l.value++}return l}getTile(e){const t=this.board.get(gi.getAddress(e));return t||this.generate(e)}updateTile(e,t){const i=this.getTile(e);this.board.set(gi.getAddress(e),{...i,...t})}getTileColor(e,t){const[i,a]=e;return t.state>=1?(i+a)%2===0?"#AAD650":"#A2D048":(i+a)%2===0?"#E4C29E":"#D7B998"}update(){var e;this.processRevealQueue(),(e=this.game.hooks)!=null&&e.getSettings().disableParticles?this.particleManager.clear():this.particleManager.update()}render(e,[t,i]){var u;e.font="bold 0.75px 'Roboto'",e.textAlign="center",e.textBaseline="middle";for(let h=Math.floor(t.x);h<i.x;h++)for(let f=Math.floor(t.y);f<i.y;f++){const p=this.getTile([h,f]);switch(e.fillStyle=this.getTileColor([h,f],p),e.fillRect(h,f,1,1),p.state){case 0:{if(p.value>0&&(e.fillStyle=aV[p.value]??"#000",e.fillText(p.value.toString(),h+.5,f+.5+.05)),p.value===-1){const g=nl.get("bomb"),_=p.interactedAt,S=(performance.now()-_)/1e3,R=Math.min(S/.75,1);g&&(e.drawImage(g,h,f,1,1),R>0&&R<1&&(e.save(),e.globalAlpha=R,e.fillStyle="#fff",e.fillRect(h,f,1,1),e.restore())),R===1&&(p.exploded||(this.particleManager.explode(h,f),La.play("confetti")),this.updateTile([h,f],{exploded:!0}))}if((u=this.game.hooks)!=null&&u.getSettings().disableBorders)break;e.fillStyle="#86AE3A";const v={left:this.getTile([h-1,f]).state===0,right:this.getTile([h+1,f]).state===0,top:this.getTile([h,f-1]).state===0,bottom:this.getTile([h,f+1]).state===0,topLeft:this.getTile([h-1,f-1]).state===0,topRight:this.getTile([h+1,f-1]).state===0,bottomLeft:this.getTile([h-1,f+1]).state===0,bottomRight:this.getTile([h+1,f+1]).state===0};v.left||e.fillRect(h,f,this.borderThickness,1),v.right||e.fillRect(h+1-this.borderThickness,f,this.borderThickness,1),v.top||e.fillRect(h,f,1,this.borderThickness),v.bottom||e.fillRect(h,f+1-this.borderThickness,1,this.borderThickness),v.topLeft||e.fillRect(h,f,this.borderThickness,this.borderThickness),v.topRight||e.fillRect(h+1-this.borderThickness,f,this.borderThickness,this.borderThickness),v.bottomLeft||e.fillRect(h,f+1-this.borderThickness,this.borderThickness,this.borderThickness),v.bottomRight||e.fillRect(h+1-this.borderThickness,f+1-this.borderThickness,this.borderThickness,this.borderThickness);break}case 2:{const v=Math.min(Math.floor((performance.now()-p.interactedAt)/20),9),g=nl.get("flag_animation");g&&e.drawImage(g,0,81*v,81,81,h,f,1,1);break}case 3:{const v=nl.get("flag_incorrect");v&&e.drawImage(v,h,f,1,1);break}}}this.particleManager.render(e);const a=Math.floor(i.x)-Math.floor(t.x),l=Math.floor(i.y)-Math.floor(t.y);return a*l}attemptReveal(e){const t=this.getTile(e);if(t.state>=2)return;for(let a=e[0]-2;a<=e[0]+2;a++)for(let l=e[1]-2;l<=e[1]+2;l++)a===e[0]&&l===e[1]||this.generate([a,l]);if(t.state===0){let a=0;for(let l=e[0]-1;l<=e[0]+1;l++)for(let u=e[1]-1;u<=e[1]+1;u++){if(l===e[0]&&u===e[1])continue;this.getTile([l,u]).state>=2&&a++}if(a===t.value)for(let l=e[0]-1;l<=e[0]+1;l++)for(let u=e[1]-1;u<=e[1]+1;u++){if(l===e[0]&&u===e[1])continue;this.getTile([l,u]).state===1&&this.attemptReveal([l,u])}this.updateStats();return}this.particleManager.add(new ay({x:e[0],y:e[1]},this.getTileColor(e,t))),this.updateTile(e,{state:0,interactedAt:performance.now()}),this.tilesRevealed++;const i=Math.max(t.value,1);if(t.value>=0&&La.play(`blip_${i}`),t.value===-1&&(La.play("charge"),this.game.loseGame()),t.value===0)for(let a=e[0]-1;a<=e[0]+1;a++)for(let l=e[1]-1;l<=e[1]+1;l++)a===e[0]&&l===e[1]||this.eventQueue.some(u=>u.position[0]===a&&u.position[1]===l)||this.eventQueue.push({position:[a,l],time:performance.now()+100,type:0});this.updateStats()}toggleFlag(e){const t=this.getTile(e);t.state!==0&&(this.updateTile(e,{state:t.state===2?1:2,interactedAt:performance.now()}),this.tilesFlagged+=t.state===2?-1:1,La.play(t.state===2?"flag_up":"flag_down"),t.state===2&&this.particleManager.popFlag({x:e[0],y:e[1]}),this.updateStats())}getFirstZero(e){for(const[t,i]of this.board.entries()){const[a,l]=gi.getKey(t);if(i.value===0&&(a+l)%2===e&&a>0&&l>0)return[a,l]}return null}processRevealQueue(){const e=performance.now();for(const t of this.eventQueue)if(t.time<=e)switch(t.type){case 0:this.attemptReveal(t.position);break;case 1:this.updateTile(t.position,{state:3}),this.particleManager.popFlag({x:t.position[0],y:t.position[1]}),La.play("flag_up");break}this.eventQueue=this.eventQueue.filter(t=>t.time>e)}getSaveData(){return{board:Array.from(this.board.entries()).reduce((e,[t,i])=>(i.state===0?e.push(t):i.state>=2&&e.push(t.replace(",",".")),e),[]),seed:this.seed}}showIncorrectFlags(){let e=0;const t=1500;this.board.forEach((i,a)=>{i.state===2&&i.value!==-1&&(this.eventQueue.push({position:gi.getKey(a),type:1,time:performance.now()+t+e*250}),e++)})}getRevealQueueLength(){return this.eventQueue.filter(e=>e.type===0).length}updateStats(){var t;const e={flags:this.tilesFlagged,revealed:this.tilesRevealed};return(t=this.game.hooks)==null||t.setStats(e),e}}class oV{constructor(e){at(this,"position",{x:0,y:0});at(this,"ppu",32);at(this,"ppuBounds",{min:16,max:128});this.ppu=e}getBounds(e){return[{x:this.position.x,y:this.position.y},{x:this.position.x+e.x/this.ppu,y:this.position.y+e.y/this.ppu}]}toWorldSpace(e){return{x:this.position.x+e.x/this.ppu,y:this.position.y+e.y/this.ppu}}zoomInPosition(e,t){const i=this.toWorldSpace(e);this.ppu+=t,this.ppu=Math.max(this.ppuBounds.min,Math.min(this.ppu,this.ppuBounds.max));const a=this.toWorldSpace(e),l=a.x-i.x,u=a.y-i.y;this.position.x-=l,this.position.y-=u}shake(e){this.position.x+=(Math.random()-.5)*e,this.position.y+=(Math.random()-.5)*e}roundToPixel(){this.position.x=Math.round(this.position.x*this.ppu)/this.ppu,this.position.y=Math.round(this.position.y*this.ppu)/this.ppu}}var za;let qc=(za=class{constructor(e){at(this,"Board");at(this,"camera");at(this,"canvas",null);at(this,"size",{x:0,y:0});at(this,"gameStarted",!1);at(this,"pan",e=>{if(e.preventDefault(),e instanceof MouseEvent){let t=!1;const i=a=>{t&&(this.camera.position.x-=a.movementX/this.camera.ppu,this.camera.position.y-=a.movementY/this.camera.ppu),(Math.abs(a.movementX)>2||Math.abs(a.movementY)>2)&&(t=!0)};window.addEventListener("mousemove",i),window.addEventListener("mouseup",a=>{window.removeEventListener("mousemove",i),t||this.mouseClick(a)},{once:!0})}else{if(e.touches.length!==1)return;const t={x:e.touches[0].clientX,y:e.touches[0].clientY};let i=!1;const a=performance.now(),l=p=>{const v=p.touches[0],g=v.clientX-t.x,_=v.clientY-t.y;(i||Math.abs(g)>2||Math.abs(_)>2)&&(this.camera.position.x-=g/this.camera.ppu,this.camera.position.y-=_/this.camera.ppu,t.x=v.clientX,t.y=v.clientY,i=!0)};let u;const h=250,f=p=>{window.clearTimeout(u),window.removeEventListener("touchmove",l),window.removeEventListener("touchend",f),i||this.mouseClick(p,performance.now()-a>h)};window.addEventListener("touchmove",l),window.addEventListener("touchend",f,{once:!0}),u=window.setTimeout(()=>{i||f(e)},h)}});at(this,"mouseClick",(e,t)=>{var u;if(e.preventDefault(),!((u=this.hooks)!=null&&u.getGameActive()))return;const i={x:e instanceof MouseEvent?e.clientX:e.changedTouches[0].clientX,y:e instanceof MouseEvent?e.clientY:e.changedTouches[0].clientY},a=this.camera.toWorldSpace(i),l=(h,f)=>{switch(h){case 0:{this.gameStarted||this.findFirstClick(f);const p=this.camera.toWorldSpace(i);this.Board.attemptReveal([Math.floor(p.x),Math.floor(p.y)]),this.gameStarted=!0;break}case 2:this.gameStarted&&this.Board.toggleFlag([Math.floor(f.x),Math.floor(f.y)]);break}};e instanceof MouseEvent?e.ctrlKey||e.shiftKey||e.metaKey?l(2,a):l(e.button,a):e instanceof TouchEvent&&l(t?2:0,a)});at(this,"wheelZoom",e=>{if(e.preventDefault(),!this.canvas)return;const t=this.canvas.getBoundingClientRect();this.camera.zoomInPosition({x:e.clientX-t.left,y:e.clientY-t.top},e.deltaY<0?1:-1)});at(this,"pinchZoom",e=>{if(e.preventDefault(),!this.canvas||e.touches.length!==2)return;const[t,i]=e.touches,a=(h,f)=>Math.sqrt((h.clientX-f.clientX)**2+(h.clientY-f.clientY)**2);let l=a(t,i);const u=h=>{if(h.touches.length!==2)return;const f=a(h.touches[0],h.touches[1]),p=(f-l)/10;l=f;const v={x:(h.touches[0].clientX+h.touches[1].clientX)/2,y:(h.touches[0].clientY+h.touches[1].clientY)/2};this.camera.zoomInPosition(v,p),this.camera.roundToPixel()};window.addEventListener("touchmove",u,{passive:!1}),window.addEventListener("touchend",()=>window.removeEventListener("touchmove",u),{once:!0})});at(this,"zoom",e=>{this.canvas&&this.camera.zoomInPosition({x:this.canvas.width/2,y:this.canvas.height/2},e)});at(this,"cancelContextMenu",e=>{e.preventDefault()});at(this,"hooks",null);this.Board=new gi(this,.18,e==null?void 0:e.seed,e==null?void 0:e.board),this.camera=new oV((e==null?void 0:e.camera.ppu)??32),this.camera.position=(e==null?void 0:e.camera.position)??{x:0,y:0},e&&(this.gameStarted=!0)}updateSize(){if(!this.canvas)return;const{width:e,height:t}=this.canvas.getBoundingClientRect();this.size.x=e,this.size.y=t}update(e){var t;this.Board.update(),(t=this.hooks)!=null&&t.getSettings().disableCameraShake||this.Board.getRevealQueueLength()>10&&this.camera.shake(this.Board.getRevealQueueLength()*.01)}render(e){e.scale(this.camera.ppu,this.camera.ppu),this.camera.roundToPixel(),e.translate(-this.camera.position.x,-this.camera.position.y),this.Board.render(e,this.camera.getBounds(this.size))}findFirstClick(e){const t=this.Board.getFirstZero((Math.floor(e.x)+Math.floor(e.y))%2);if(t){const i={x:e.x%1,y:e.y%1},a={x:t[0]-e.x+i.x,y:t[1]-e.y+i.y};this.camera.position.x+=a.x,this.camera.position.y+=a.y}}loseGame(){var e,t;(e=this.hooks)==null||e.setGameActive(!1),localStorage.removeItem(za.savedGameKey),this.Board.showIncorrectFlags(),(t=this.hooks)==null||t.randomizeSubtext(),setTimeout(()=>{var i;(i=this.hooks)==null||i.setDialogVisible(!0)},2500)}getSaveData(){return this.gameStarted?{...this.Board.getSaveData(),camera:{position:this.camera.position,ppu:this.camera.ppu}}:null}addEventListeners(){this.canvas&&(this.canvas.addEventListener("touchstart",this.pan),this.canvas.addEventListener("mousedown",this.pan),this.canvas.addEventListener("touchstart",this.pinchZoom),this.canvas.addEventListener("wheel",this.wheelZoom),this.canvas.addEventListener("contextmenu",this.cancelContextMenu))}removeEventListeners(){this.canvas&&(this.canvas.removeEventListener("touchstart",this.pan),this.canvas.removeEventListener("mousedown",this.pan),this.canvas.removeEventListener("touchstart",this.pinchZoom),this.canvas.removeEventListener("wheel",this.wheelZoom),this.canvas.removeEventListener("contextmenu",this.cancelContextMenu))}setHooks(e){this.hooks=e??null,this.Board.updateStats()}},at(za,"savedGameKey","infinisweeper.saved-game"),za);const PA=L.createContext(void 0),LA=()=>{const n=L.use(PA);if(!n)throw new Error("useGame must be used within a GameProvider");return n},VA=(n,e)=>e.reduce((t,i)=>(t[i.split(".")[0]]=n+i,t),{});nl.loadImages(VA("images/",["flag.png","flag_animation.png","flag_incorrect.png","flag_floor.png","bomb.png","shovel.png"]));La.loadAudios(VA("audio/",["reveal.mp3","flag_down.mp3","flag_up.mp3","blip_1.mp3","blip_2.mp3","blip_3.mp3","blip_4.mp3","blip_5.mp3","blip_6.mp3","blip_7.mp3","blip_8.mp3","charge.mp3","confetti.mp3"]));const lV=({children:n})=>{const[e,t]=L.useState(null),[i,a]=L.useState(()=>localStorage.getItem(qc.savedGameKey)!==null),l=Ci(),u=L.useCallback(()=>{const f=new qc;t(f),a(!0),l({to:"/game"})},[l]),h=L.useCallback(()=>{const f=JSON.parse(localStorage.getItem(qc.savedGameKey)??"null")??void 0;if(!f){a(!1);return}const p=new qc(f);t(p),l({to:"/game"})},[l]);return P.jsx(PA.Provider,{value:{game:e,existingGame:i,newGame:u,continueGame:h},children:n})},yS={displayName:{name:"Display Name",description:"Your name on the scoreboard.",type:"string",default:""},classicBackground:{name:"Classic Background",description:"Enable the classic infinisweeper background style.",type:"boolean",default:!1},disableBorders:{name:"Disable Borders",description:"Disables borders around shown tiles.",type:"boolean",default:!1},disableParticles:{name:"Disable Particles",description:"Disables particle effects and falling tiles.",type:"boolean",default:!1},disableCameraShake:{name:"Disable Camera Shake",description:"Disable the camera shake effect when large amounts of tiles are revealed.",type:"boolean",default:!1}},vS="settings",cV=({children:n})=>{const{user:e,updateName:t}=Su(),[i,a]=L.useState(()=>{const u=localStorage.getItem(vS),h=Object.fromEntries(Object.entries(yS).map(([f,p])=>[f,p.default]));if(!u)return h;try{const f=JSON.parse(u);return{...h,...f}}catch{return h}}),l=u=>{if(e){if(u.displayName.trim()==="")throw new Error("Display name cannot be empty!");try{t(u.displayName)}catch{throw new Error("Failed to update display name!")}}localStorage.setItem(vS,JSON.stringify(u)),a(u)};return P.jsx(oT.Provider,{value:{settings:i,saveSettings:l,SettingsMetadata:yS},children:n})},Cl=QI({component:uV});function uV(){return P.jsx(UL,{children:P.jsx(cV,{children:P.jsxs(lV,{children:[P.jsx(v2,{}),P.jsx("div",{className:"flex flex-col w-full h-full items-center justify-center",children:P.jsx(aT,{})}),P.jsx(IN,{})]})})})}const Tu=({children:n,className:e="",horizontal:t=!1})=>{const i=`inline-flex gap-1 ${t?"flex-row [&>*:first-child]:rounded-l-xl [&>*:first-child]:rounded-r-none [&>*:last-child]:rounded-r-xl [&>*:last-child]:rounded-l-none [&>*:not(:first-child):not(:last-child)]:rounded-none [&>*:only-child]:rounded-xl":"flex-col [&>*:first-child]:rounded-t-xl [&>*:first-child]:rounded-b-none [&>*:last-child]:rounded-b-xl [&>*:last-child]:rounded-t-none [&>*:not(:first-child):not(:last-child)]:rounded-none [&>*:only-child]:rounded-xl"}`;return P.jsx("div",{className:`${i} ${e}`,children:n})};function UA(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=UA(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function zA(){for(var n,e,t=0,i="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=UA(n))&&(i&&(i+=" "),i+=e);return i}const _S=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,bS=zA,fV=(n,e)=>t=>{var i;if((e==null?void 0:e.variants)==null)return bS(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:a,defaultVariants:l}=e,u=Object.keys(a).map(p=>{const v=t==null?void 0:t[p],g=l==null?void 0:l[p];if(v===null)return null;const _=_S(v)||_S(g);return a[p][_]}),h=t&&Object.entries(t).reduce((p,v)=>{let[g,_]=v;return _===void 0||(p[g]=_),p},{}),f=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((p,v)=>{let{class:g,className:_,...S}=v;return Object.entries(S).every(R=>{let[M,k]=R;return Array.isArray(k)?k.includes({...l,...h}[M]):{...l,...h}[M]===k})?[...p,g,_]:p},[]);return bS(n,u,f,t==null?void 0:t.class,t==null?void 0:t.className)},hV=(n,e)=>{const t=new Array(n.length+e.length);for(let i=0;i<n.length;i++)t[i]=n[i];for(let i=0;i<e.length;i++)t[n.length+i]=e[i];return t},dV=(n,e)=>({classGroupId:n,validator:e}),jA=(n=new Map,e=null,t)=>({nextPart:n,validators:e,classGroupId:t}),md="-",ES=[],mV="arbitrary..",pV=n=>{const e=yV(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return gV(u);const h=u.split(md),f=h[0]===""&&h.length>1?1:0;return BA(h,f,e)},getConflictingClassGroupIds:(u,h)=>{if(h){const f=i[u],p=t[u];return f?p?hV(p,f):f:p||ES}return t[u]||ES}}},BA=(n,e,t)=>{if(n.length-e===0)return t.classGroupId;const a=n[e],l=t.nextPart.get(a);if(l){const p=BA(n,e+1,l);if(p)return p}const u=t.validators;if(u===null)return;const h=e===0?n.join(md):n.slice(e).join(md),f=u.length;for(let p=0;p<f;p++){const v=u[p];if(v.validator(h))return v.classGroupId}},gV=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=n.slice(1,-1),t=e.indexOf(":"),i=e.slice(0,t);return i?mV+i:void 0})(),yV=n=>{const{theme:e,classGroups:t}=n;return vV(t,e)},vV=(n,e)=>{const t=jA();for(const i in n){const a=n[i];yv(a,t,i,e)}return t},yv=(n,e,t,i)=>{const a=n.length;for(let l=0;l<a;l++){const u=n[l];_V(u,e,t,i)}},_V=(n,e,t,i)=>{if(typeof n=="string"){bV(n,e,t);return}if(typeof n=="function"){EV(n,e,t,i);return}SV(n,e,t,i)},bV=(n,e,t)=>{const i=n===""?e:FA(e,n);i.classGroupId=t},EV=(n,e,t,i)=>{if(TV(n)){yv(n(i),e,t,i);return}e.validators===null&&(e.validators=[]),e.validators.push(dV(t,n))},SV=(n,e,t,i)=>{const a=Object.entries(n),l=a.length;for(let u=0;u<l;u++){const[h,f]=a[u];yv(f,FA(e,h),t,i)}},FA=(n,e)=>{let t=n;const i=e.split(md),a=i.length;for(let l=0;l<a;l++){const u=i[l];let h=t.nextPart.get(u);h||(h=jA(),t.nextPart.set(u,h)),t=h}return t},TV=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,wV=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=Object.create(null),i=Object.create(null);const a=(l,u)=>{t[l]=u,e++,e>n&&(e=0,i=t,t=Object.create(null))};return{get(l){let u=t[l];if(u!==void 0)return u;if((u=i[l])!==void 0)return a(l,u),u},set(l,u){l in t?t[l]=u:a(l,u)}}},oy="!",SS=":",AV=[],TS=(n,e,t,i,a)=>({modifiers:n,hasImportantModifier:e,baseClassName:t,maybePostfixModifierPosition:i,isExternal:a}),RV=n=>{const{prefix:e,experimentalParseClassName:t}=n;let i=a=>{const l=[];let u=0,h=0,f=0,p;const v=a.length;for(let M=0;M<v;M++){const k=a[M];if(u===0&&h===0){if(k===SS){l.push(a.slice(f,M)),f=M+1;continue}if(k==="/"){p=M;continue}}k==="["?u++:k==="]"?u--:k==="("?h++:k===")"&&h--}const g=l.length===0?a:a.slice(f);let _=g,S=!1;g.endsWith(oy)?(_=g.slice(0,-1),S=!0):g.startsWith(oy)&&(_=g.slice(1),S=!0);const R=p&&p>f?p-f:void 0;return TS(l,S,_,R)};if(e){const a=e+SS,l=i;i=u=>u.startsWith(a)?l(u.slice(a.length)):TS(AV,!1,u,void 0,!0)}if(t){const a=i;i=l=>t({className:l,parseClassName:a})}return i},xV=n=>{const e=new Map;return n.orderSensitiveModifiers.forEach((t,i)=>{e.set(t,1e6+i)}),t=>{const i=[];let a=[];for(let l=0;l<t.length;l++){const u=t[l],h=u[0]==="[",f=e.has(u);h||f?(a.length>0&&(a.sort(),i.push(...a),a=[]),i.push(u)):a.push(u)}return a.length>0&&(a.sort(),i.push(...a)),i}},CV=n=>({cache:wV(n.cacheSize),parseClassName:RV(n),sortModifiers:xV(n),...pV(n)}),IV=/\s+/,NV=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:l}=e,u=[],h=n.trim().split(IV);let f="";for(let p=h.length-1;p>=0;p-=1){const v=h[p],{isExternal:g,modifiers:_,hasImportantModifier:S,baseClassName:R,maybePostfixModifierPosition:M}=t(v);if(g){f=v+(f.length>0?" "+f:f);continue}let k=!!M,V=i(k?R.substring(0,M):R);if(!V){if(!k){f=v+(f.length>0?" "+f:f);continue}if(V=i(R),!V){f=v+(f.length>0?" "+f:f);continue}k=!1}const H=_.length===0?"":_.length===1?_[0]:l(_).join(":"),G=S?H+oy:H,Y=G+V;if(u.indexOf(Y)>-1)continue;u.push(Y);const $=a(V,k);for(let q=0;q<$.length;++q){const A=$[q];u.push(G+A)}f=v+(f.length>0?" "+f:f)}return f},MV=(...n)=>{let e=0,t,i,a="";for(;e<n.length;)(t=n[e++])&&(i=qA(t))&&(a&&(a+=" "),a+=i);return a},qA=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=qA(n[i]))&&(t&&(t+=" "),t+=e);return t},DV=(n,...e)=>{let t,i,a,l;const u=f=>{const p=e.reduce((v,g)=>g(v),n());return t=CV(p),i=t.cache.get,a=t.cache.set,l=h,h(f)},h=f=>{const p=i(f);if(p)return p;const v=NV(f,t);return a(f,v),v};return l=u,(...f)=>l(MV(...f))},OV=[],tn=n=>{const e=t=>t[n]||OV;return e.isThemeGetter=!0,e},HA=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,GA=/^\((?:(\w[\w-]*):)?(.+)\)$/i,kV=/^\d+\/\d+$/,PV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,LV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,VV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,UV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,zV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yo=n=>kV.test(n),qe=n=>!!n&&!Number.isNaN(Number(n)),js=n=>!!n&&Number.isInteger(Number(n)),bg=n=>n.endsWith("%")&&qe(n.slice(0,-1)),$i=n=>PV.test(n),jV=()=>!0,BV=n=>LV.test(n)&&!VV.test(n),KA=()=>!1,FV=n=>UV.test(n),qV=n=>zV.test(n),HV=n=>!be(n)&&!Ee(n),GV=n=>Il(n,QA,KA),be=n=>HA.test(n),Oa=n=>Il(n,XA,BV),Eg=n=>Il(n,XV,qe),wS=n=>Il(n,YA,KA),KV=n=>Il(n,$A,qV),ch=n=>Il(n,WA,FV),Ee=n=>GA.test(n),Vc=n=>Nl(n,XA),YV=n=>Nl(n,WV),AS=n=>Nl(n,YA),$V=n=>Nl(n,QA),QV=n=>Nl(n,$A),uh=n=>Nl(n,WA,!0),Il=(n,e,t)=>{const i=HA.exec(n);return i?i[1]?e(i[1]):t(i[2]):!1},Nl=(n,e,t=!1)=>{const i=GA.exec(n);return i?i[1]?e(i[1]):t:!1},YA=n=>n==="position"||n==="percentage",$A=n=>n==="image"||n==="url",QA=n=>n==="length"||n==="size"||n==="bg-size",XA=n=>n==="length",XV=n=>n==="number",WV=n=>n==="family-name",WA=n=>n==="shadow",ZV=()=>{const n=tn("color"),e=tn("font"),t=tn("text"),i=tn("font-weight"),a=tn("tracking"),l=tn("leading"),u=tn("breakpoint"),h=tn("container"),f=tn("spacing"),p=tn("radius"),v=tn("shadow"),g=tn("inset-shadow"),_=tn("text-shadow"),S=tn("drop-shadow"),R=tn("blur"),M=tn("perspective"),k=tn("aspect"),V=tn("ease"),H=tn("animate"),G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],$=()=>[...Y(),Ee,be],q=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto","contain","none"],w=()=>[Ee,be,f],C=()=>[Yo,"full","auto",...w()],D=()=>[js,"none","subgrid",Ee,be],N=()=>["auto",{span:["full",js,Ee,be]},js,Ee,be],U=()=>[js,"auto",Ee,be],O=()=>["auto","min","max","fr",Ee,be],ye=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Se=()=>["start","end","center","stretch","center-safe","end-safe"],F=()=>["auto",...w()],ie=()=>[Yo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...w()],re=()=>[n,Ee,be],we=()=>[...Y(),AS,wS,{position:[Ee,be]}],Ce=()=>["no-repeat",{repeat:["","x","y","space","round"]}],j=()=>["auto","cover","contain",$V,GV,{size:[Ee,be]}],ne=()=>[bg,Vc,Oa],te=()=>["","none","full",p,Ee,be],ce=()=>["",qe,Vc,Oa],fe=()=>["solid","dashed","dotted","double"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],me=()=>[qe,bg,AS,wS],Ae=()=>["","none",R,Ee,be],Ne=()=>["none",qe,Ee,be],ft=()=>["none",qe,Ee,be],Et=()=>[qe,Ee,be],Je=()=>[Yo,"full",...w()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[$i],breakpoint:[$i],color:[jV],container:[$i],"drop-shadow":[$i],ease:["in","out","in-out"],font:[HV],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[$i],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[$i],shadow:[$i],spacing:["px",qe],text:[$i],"text-shadow":[$i],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Yo,be,Ee,k]}],container:["container"],columns:[{columns:[qe,be,Ee,h]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:$()}],overflow:[{overflow:q()}],"overflow-x":[{"overflow-x":q()}],"overflow-y":[{"overflow-y":q()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[js,"auto",Ee,be]}],basis:[{basis:[Yo,"full","auto",h,...w()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[qe,Yo,"auto","initial","none",be]}],grow:[{grow:["",qe,Ee,be]}],shrink:[{shrink:["",qe,Ee,be]}],order:[{order:[js,"first","last","none",Ee,be]}],"grid-cols":[{"grid-cols":D()}],"col-start-end":[{col:N()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":D()}],"row-start-end":[{row:N()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":O()}],"auto-rows":[{"auto-rows":O()}],gap:[{gap:w()}],"gap-x":[{"gap-x":w()}],"gap-y":[{"gap-y":w()}],"justify-content":[{justify:[...ye(),"normal"]}],"justify-items":[{"justify-items":[...Se(),"normal"]}],"justify-self":[{"justify-self":["auto",...Se()]}],"align-content":[{content:["normal",...ye()]}],"align-items":[{items:[...Se(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Se(),{baseline:["","last"]}]}],"place-content":[{"place-content":ye()}],"place-items":[{"place-items":[...Se(),"baseline"]}],"place-self":[{"place-self":["auto",...Se()]}],p:[{p:w()}],px:[{px:w()}],py:[{py:w()}],ps:[{ps:w()}],pe:[{pe:w()}],pt:[{pt:w()}],pr:[{pr:w()}],pb:[{pb:w()}],pl:[{pl:w()}],m:[{m:F()}],mx:[{mx:F()}],my:[{my:F()}],ms:[{ms:F()}],me:[{me:F()}],mt:[{mt:F()}],mr:[{mr:F()}],mb:[{mb:F()}],ml:[{ml:F()}],"space-x":[{"space-x":w()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":w()}],"space-y-reverse":["space-y-reverse"],size:[{size:ie()}],w:[{w:[h,"screen",...ie()]}],"min-w":[{"min-w":[h,"screen","none",...ie()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[u]},...ie()]}],h:[{h:["screen","lh",...ie()]}],"min-h":[{"min-h":["screen","lh","none",...ie()]}],"max-h":[{"max-h":["screen","lh",...ie()]}],"font-size":[{text:["base",t,Vc,Oa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,Ee,Eg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",bg,be]}],"font-family":[{font:[YV,be,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Ee,be]}],"line-clamp":[{"line-clamp":[qe,"none",Ee,Eg]}],leading:[{leading:[l,...w()]}],"list-image":[{"list-image":["none",Ee,be]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ee,be]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:re()}],"text-color":[{text:re()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:[qe,"from-font","auto",Ee,Oa]}],"text-decoration-color":[{decoration:re()}],"underline-offset":[{"underline-offset":[qe,"auto",Ee,be]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:w()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ee,be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ee,be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:we()}],"bg-repeat":[{bg:Ce()}],"bg-size":[{bg:j()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},js,Ee,be],radial:["",Ee,be],conic:[js,Ee,be]},QV,KV]}],"bg-color":[{bg:re()}],"gradient-from-pos":[{from:ne()}],"gradient-via-pos":[{via:ne()}],"gradient-to-pos":[{to:ne()}],"gradient-from":[{from:re()}],"gradient-via":[{via:re()}],"gradient-to":[{to:re()}],rounded:[{rounded:te()}],"rounded-s":[{"rounded-s":te()}],"rounded-e":[{"rounded-e":te()}],"rounded-t":[{"rounded-t":te()}],"rounded-r":[{"rounded-r":te()}],"rounded-b":[{"rounded-b":te()}],"rounded-l":[{"rounded-l":te()}],"rounded-ss":[{"rounded-ss":te()}],"rounded-se":[{"rounded-se":te()}],"rounded-ee":[{"rounded-ee":te()}],"rounded-es":[{"rounded-es":te()}],"rounded-tl":[{"rounded-tl":te()}],"rounded-tr":[{"rounded-tr":te()}],"rounded-br":[{"rounded-br":te()}],"rounded-bl":[{"rounded-bl":te()}],"border-w":[{border:ce()}],"border-w-x":[{"border-x":ce()}],"border-w-y":[{"border-y":ce()}],"border-w-s":[{"border-s":ce()}],"border-w-e":[{"border-e":ce()}],"border-w-t":[{"border-t":ce()}],"border-w-r":[{"border-r":ce()}],"border-w-b":[{"border-b":ce()}],"border-w-l":[{"border-l":ce()}],"divide-x":[{"divide-x":ce()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ce()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...fe(),"hidden","none"]}],"divide-style":[{divide:[...fe(),"hidden","none"]}],"border-color":[{border:re()}],"border-color-x":[{"border-x":re()}],"border-color-y":[{"border-y":re()}],"border-color-s":[{"border-s":re()}],"border-color-e":[{"border-e":re()}],"border-color-t":[{"border-t":re()}],"border-color-r":[{"border-r":re()}],"border-color-b":[{"border-b":re()}],"border-color-l":[{"border-l":re()}],"divide-color":[{divide:re()}],"outline-style":[{outline:[...fe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[qe,Ee,be]}],"outline-w":[{outline:["",qe,Vc,Oa]}],"outline-color":[{outline:re()}],shadow:[{shadow:["","none",v,uh,ch]}],"shadow-color":[{shadow:re()}],"inset-shadow":[{"inset-shadow":["none",g,uh,ch]}],"inset-shadow-color":[{"inset-shadow":re()}],"ring-w":[{ring:ce()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:re()}],"ring-offset-w":[{"ring-offset":[qe,Oa]}],"ring-offset-color":[{"ring-offset":re()}],"inset-ring-w":[{"inset-ring":ce()}],"inset-ring-color":[{"inset-ring":re()}],"text-shadow":[{"text-shadow":["none",_,uh,ch]}],"text-shadow-color":[{"text-shadow":re()}],opacity:[{opacity:[qe,Ee,be]}],"mix-blend":[{"mix-blend":[...pe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":pe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[qe]}],"mask-image-linear-from-pos":[{"mask-linear-from":me()}],"mask-image-linear-to-pos":[{"mask-linear-to":me()}],"mask-image-linear-from-color":[{"mask-linear-from":re()}],"mask-image-linear-to-color":[{"mask-linear-to":re()}],"mask-image-t-from-pos":[{"mask-t-from":me()}],"mask-image-t-to-pos":[{"mask-t-to":me()}],"mask-image-t-from-color":[{"mask-t-from":re()}],"mask-image-t-to-color":[{"mask-t-to":re()}],"mask-image-r-from-pos":[{"mask-r-from":me()}],"mask-image-r-to-pos":[{"mask-r-to":me()}],"mask-image-r-from-color":[{"mask-r-from":re()}],"mask-image-r-to-color":[{"mask-r-to":re()}],"mask-image-b-from-pos":[{"mask-b-from":me()}],"mask-image-b-to-pos":[{"mask-b-to":me()}],"mask-image-b-from-color":[{"mask-b-from":re()}],"mask-image-b-to-color":[{"mask-b-to":re()}],"mask-image-l-from-pos":[{"mask-l-from":me()}],"mask-image-l-to-pos":[{"mask-l-to":me()}],"mask-image-l-from-color":[{"mask-l-from":re()}],"mask-image-l-to-color":[{"mask-l-to":re()}],"mask-image-x-from-pos":[{"mask-x-from":me()}],"mask-image-x-to-pos":[{"mask-x-to":me()}],"mask-image-x-from-color":[{"mask-x-from":re()}],"mask-image-x-to-color":[{"mask-x-to":re()}],"mask-image-y-from-pos":[{"mask-y-from":me()}],"mask-image-y-to-pos":[{"mask-y-to":me()}],"mask-image-y-from-color":[{"mask-y-from":re()}],"mask-image-y-to-color":[{"mask-y-to":re()}],"mask-image-radial":[{"mask-radial":[Ee,be]}],"mask-image-radial-from-pos":[{"mask-radial-from":me()}],"mask-image-radial-to-pos":[{"mask-radial-to":me()}],"mask-image-radial-from-color":[{"mask-radial-from":re()}],"mask-image-radial-to-color":[{"mask-radial-to":re()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":Y()}],"mask-image-conic-pos":[{"mask-conic":[qe]}],"mask-image-conic-from-pos":[{"mask-conic-from":me()}],"mask-image-conic-to-pos":[{"mask-conic-to":me()}],"mask-image-conic-from-color":[{"mask-conic-from":re()}],"mask-image-conic-to-color":[{"mask-conic-to":re()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:we()}],"mask-repeat":[{mask:Ce()}],"mask-size":[{mask:j()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ee,be]}],filter:[{filter:["","none",Ee,be]}],blur:[{blur:Ae()}],brightness:[{brightness:[qe,Ee,be]}],contrast:[{contrast:[qe,Ee,be]}],"drop-shadow":[{"drop-shadow":["","none",S,uh,ch]}],"drop-shadow-color":[{"drop-shadow":re()}],grayscale:[{grayscale:["",qe,Ee,be]}],"hue-rotate":[{"hue-rotate":[qe,Ee,be]}],invert:[{invert:["",qe,Ee,be]}],saturate:[{saturate:[qe,Ee,be]}],sepia:[{sepia:["",qe,Ee,be]}],"backdrop-filter":[{"backdrop-filter":["","none",Ee,be]}],"backdrop-blur":[{"backdrop-blur":Ae()}],"backdrop-brightness":[{"backdrop-brightness":[qe,Ee,be]}],"backdrop-contrast":[{"backdrop-contrast":[qe,Ee,be]}],"backdrop-grayscale":[{"backdrop-grayscale":["",qe,Ee,be]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[qe,Ee,be]}],"backdrop-invert":[{"backdrop-invert":["",qe,Ee,be]}],"backdrop-opacity":[{"backdrop-opacity":[qe,Ee,be]}],"backdrop-saturate":[{"backdrop-saturate":[qe,Ee,be]}],"backdrop-sepia":[{"backdrop-sepia":["",qe,Ee,be]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":w()}],"border-spacing-x":[{"border-spacing-x":w()}],"border-spacing-y":[{"border-spacing-y":w()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ee,be]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[qe,"initial",Ee,be]}],ease:[{ease:["linear","initial",V,Ee,be]}],delay:[{delay:[qe,Ee,be]}],animate:[{animate:["none",H,Ee,be]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[M,Ee,be]}],"perspective-origin":[{"perspective-origin":$()}],rotate:[{rotate:Ne()}],"rotate-x":[{"rotate-x":Ne()}],"rotate-y":[{"rotate-y":Ne()}],"rotate-z":[{"rotate-z":Ne()}],scale:[{scale:ft()}],"scale-x":[{"scale-x":ft()}],"scale-y":[{"scale-y":ft()}],"scale-z":[{"scale-z":ft()}],"scale-3d":["scale-3d"],skew:[{skew:Et()}],"skew-x":[{"skew-x":Et()}],"skew-y":[{"skew-y":Et()}],transform:[{transform:[Ee,be,"","none","gpu","cpu"]}],"transform-origin":[{origin:$()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Je()}],"translate-x":[{"translate-x":Je()}],"translate-y":[{"translate-y":Je()}],"translate-z":[{"translate-z":Je()}],"translate-none":["translate-none"],accent:[{accent:re()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:re()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ee,be]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":w()}],"scroll-mx":[{"scroll-mx":w()}],"scroll-my":[{"scroll-my":w()}],"scroll-ms":[{"scroll-ms":w()}],"scroll-me":[{"scroll-me":w()}],"scroll-mt":[{"scroll-mt":w()}],"scroll-mr":[{"scroll-mr":w()}],"scroll-mb":[{"scroll-mb":w()}],"scroll-ml":[{"scroll-ml":w()}],"scroll-p":[{"scroll-p":w()}],"scroll-px":[{"scroll-px":w()}],"scroll-py":[{"scroll-py":w()}],"scroll-ps":[{"scroll-ps":w()}],"scroll-pe":[{"scroll-pe":w()}],"scroll-pt":[{"scroll-pt":w()}],"scroll-pr":[{"scroll-pr":w()}],"scroll-pb":[{"scroll-pb":w()}],"scroll-pl":[{"scroll-pl":w()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ee,be]}],fill:[{fill:["none",...re()]}],"stroke-w":[{stroke:[qe,Vc,Oa,Eg]}],stroke:[{stroke:["none",...re()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},JV=DV(ZV);function Zn(...n){return JV(zA(n))}const e3=n=>Object.entries(n),t3=fV("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-none font-bold transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-[#e4c29e] border-2 border-[#b99e81] hover:bg-[#d4b18a] active:bg-[#b99e81] transition-[background-color] duration-100",outline:"border-2 border-[#b99e81] bg-transparent hover:bg-[#e4c29e] active:bg-[#d4b18a]",ghost:"hover:bg-[#e4c29e]/50 active:bg-[#e4c29e]",link:"text-foreground underline-offset-4 hover:underline"},size:{default:"min-w-40 px-1 py-1",sm:"px-3 py-1 text-sm",lg:"px-8 py-3 text-lg",icon:"h-8 w-8 rounded-full border-2 border-[#b99e81] bg-[#e4c29e] hover:bg-[#d4b18a] active:bg-[#b99e81] [&_svg]:size-4"}},defaultVariants:{variant:"default",size:"default"}});function Ut({className:n,variant:e,size:t,...i}){return P.jsx("button",{className:Zn(t3({variant:e,size:t,className:n})),...i})}function vv({className:n,...e}){return P.jsx("div",{"data-slot":"card",className:Zn("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",n),...e})}function _v({className:n,...e}){return P.jsx("div",{"data-slot":"card-header",className:Zn("@container/card-header text-center grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function bv({className:n,...e}){return P.jsx("div",{"data-slot":"card-title",className:Zn("leading-none font-semibold",n),...e})}function Ev({className:n,...e}){return P.jsx("div",{"data-slot":"card-content",className:Zn("px-6",n),...e})}function Sv({className:n,...e}){return P.jsx("div",{"data-slot":"card-footer",className:Zn("flex items-center px-6 [.border-t]:pt-6",n),...e})}function RS(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function Tv(...n){return e=>{let t=!1;const i=n.map(a=>{const l=RS(a,e);return!t&&typeof l=="function"&&(t=!0),l});if(t)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():RS(n[a],null)}}}}function os(...n){return L.useCallback(Tv(...n),n)}function n3(n,e){const t=L.createContext(e),i=l=>{const{children:u,...h}=l,f=L.useMemo(()=>h,Object.values(h));return P.jsx(t.Provider,{value:f,children:u})};i.displayName=n+"Provider";function a(l){const u=L.useContext(t);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${n}\``)}return[i,a]}function ZA(n,e=[]){let t=[];function i(l,u){const h=L.createContext(u),f=t.length;t=[...t,u];const p=g=>{var V;const{scope:_,children:S,...R}=g,M=((V=_==null?void 0:_[n])==null?void 0:V[f])||h,k=L.useMemo(()=>R,Object.values(R));return P.jsx(M.Provider,{value:k,children:S})};p.displayName=l+"Provider";function v(g,_){var M;const S=((M=_==null?void 0:_[n])==null?void 0:M[f])||h,R=L.useContext(S);if(R)return R;if(u!==void 0)return u;throw new Error(`\`${g}\` must be used within \`${l}\``)}return[p,v]}const a=()=>{const l=t.map(u=>L.createContext(u));return function(h){const f=(h==null?void 0:h[n])||l;return L.useMemo(()=>({[`__scope${n}`]:{...h,[n]:f}}),[h,f])}};return a.scopeName=n,[i,r3(a,...e)]}function r3(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const u=i.reduce((h,{useScope:f,scopeName:p})=>{const g=f(l)[`__scope${p}`];return{...h,...g}},{});return L.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}function wi(n,e,{checkForDefaultPrevented:t=!0}={}){return function(a){if(n==null||n(a),t===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}var _l=globalThis!=null&&globalThis.document?L.useLayoutEffect:()=>{},i3=gy[" useInsertionEffect ".trim().toString()]||_l;function JA({prop:n,defaultProp:e,onChange:t=()=>{},caller:i}){const[a,l,u]=s3({defaultProp:e,onChange:t}),h=n!==void 0,f=h?n:a;{const v=L.useRef(n!==void 0);L.useEffect(()=>{const g=v.current;g!==h&&console.warn(`${i} is changing from ${g?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=h},[h,i])}const p=L.useCallback(v=>{var g;if(h){const _=a3(v)?v(n):v;_!==n&&((g=u.current)==null||g.call(u,_))}else l(v)},[h,n,l,u]);return[f,p]}function s3({defaultProp:n,onChange:e}){const[t,i]=L.useState(n),a=L.useRef(t),l=L.useRef(e);return i3(()=>{l.current=e},[e]),L.useEffect(()=>{var u;a.current!==t&&((u=l.current)==null||u.call(l,t),a.current=t)},[t,a]),[t,i,l]}function a3(n){return typeof n=="function"}function o3(n){const e=L.useRef({value:n,previous:n});return L.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}function l3(n){const[e,t]=L.useState(void 0);return _l(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const l=a[0];let u,h;if("borderBoxSize"in l){const f=l.borderBoxSize,p=Array.isArray(f)?f[0]:f;u=p.inlineSize,h=p.blockSize}else u=n.offsetWidth,h=n.offsetHeight;t({width:u,height:h})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}function c3(n,e){return L.useReducer((t,i)=>e[t][i]??t,n)}var wu=n=>{const{present:e,children:t}=n,i=u3(e),a=typeof t=="function"?t({present:i.isPresent}):L.Children.only(t),l=os(i.ref,f3(a));return typeof t=="function"||i.isPresent?L.cloneElement(a,{ref:l}):null};wu.displayName="Presence";function u3(n){const[e,t]=L.useState(),i=L.useRef(null),a=L.useRef(n),l=L.useRef("none"),u=n?"mounted":"unmounted",[h,f]=c3(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return L.useEffect(()=>{const p=fh(i.current);l.current=h==="mounted"?p:"none"},[h]),_l(()=>{const p=i.current,v=a.current;if(v!==n){const _=l.current,S=fh(p);n?f("MOUNT"):S==="none"||(p==null?void 0:p.display)==="none"?f("UNMOUNT"):f(v&&_!==S?"ANIMATION_OUT":"UNMOUNT"),a.current=n}},[n,f]),_l(()=>{if(e){let p;const v=e.ownerDocument.defaultView??window,g=S=>{const M=fh(i.current).includes(CSS.escape(S.animationName));if(S.target===e&&M&&(f("ANIMATION_END"),!a.current)){const k=e.style.animationFillMode;e.style.animationFillMode="forwards",p=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=k)})}},_=S=>{S.target===e&&(l.current=fh(i.current))};return e.addEventListener("animationstart",_),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{v.clearTimeout(p),e.removeEventListener("animationstart",_),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:L.useCallback(p=>{i.current=p?getComputedStyle(p):null,t(p)},[])}}function fh(n){return(n==null?void 0:n.animationName)||"none"}function f3(n){var i,a;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(a=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:a.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function eR(n){const e=h3(n),t=L.forwardRef((i,a)=>{const{children:l,...u}=i,h=L.Children.toArray(l),f=h.find(m3);if(f){const p=f.props.children,v=h.map(g=>g===f?L.Children.count(p)>1?L.Children.only(null):L.isValidElement(p)?p.props.children:null:g);return P.jsx(e,{...u,ref:a,children:L.isValidElement(p)?L.cloneElement(p,void 0,v):null})}return P.jsx(e,{...u,ref:a,children:l})});return t.displayName=`${n}.Slot`,t}function h3(n){const e=L.forwardRef((t,i)=>{const{children:a,...l}=t;if(L.isValidElement(a)){const u=g3(a),h=p3(l,a.props);return a.type!==L.Fragment&&(h.ref=i?Tv(i,u):u),L.cloneElement(a,h)}return L.Children.count(a)>1?L.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var d3=Symbol("radix.slottable");function m3(n){return L.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===d3}function p3(n,e){const t={...e};for(const i in e){const a=n[i],l=e[i];/^on[A-Z]/.test(i)?a&&l?t[i]=(...h)=>{const f=l(...h);return a(...h),f}:a&&(t[i]=a):i==="style"?t[i]={...a,...l}:i==="className"&&(t[i]=[a,l].filter(Boolean).join(" "))}return{...n,...t}}function g3(n){var i,a;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(a=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:a.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var y3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Or=y3.reduce((n,e)=>{const t=eR(`Primitive.${e}`),i=L.forwardRef((a,l)=>{const{asChild:u,...h}=a,f=u?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),P.jsx(f,{...h,ref:l})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{});function v3(n,e){n&&Sy.flushSync(()=>n.dispatchEvent(e))}var Fd="Checkbox",[_3]=ZA(Fd),[b3,wv]=_3(Fd);function E3(n){const{__scopeCheckbox:e,checked:t,children:i,defaultChecked:a,disabled:l,form:u,name:h,onCheckedChange:f,required:p,value:v="on",internal_do_not_use_render:g}=n,[_,S]=JA({prop:t,defaultProp:a??!1,onChange:f,caller:Fd}),[R,M]=L.useState(null),[k,V]=L.useState(null),H=L.useRef(!1),G=R?!!u||!!R.closest("form"):!0,Y={checked:_,disabled:l,setChecked:S,control:R,setControl:M,name:h,form:u,value:v,hasConsumerStoppedPropagationRef:H,required:p,defaultChecked:ta(a)?!1:a,isFormControl:G,bubbleInput:k,setBubbleInput:V};return P.jsx(b3,{scope:e,...Y,children:S3(g)?g(Y):i})}var tR="CheckboxTrigger",nR=L.forwardRef(({__scopeCheckbox:n,onKeyDown:e,onClick:t,...i},a)=>{const{control:l,value:u,disabled:h,checked:f,required:p,setControl:v,setChecked:g,hasConsumerStoppedPropagationRef:_,isFormControl:S,bubbleInput:R}=wv(tR,n),M=os(a,v),k=L.useRef(f);return L.useEffect(()=>{const V=l==null?void 0:l.form;if(V){const H=()=>g(k.current);return V.addEventListener("reset",H),()=>V.removeEventListener("reset",H)}},[l,g]),P.jsx(Or.button,{type:"button",role:"checkbox","aria-checked":ta(f)?"mixed":f,"aria-required":p,"data-state":lR(f),"data-disabled":h?"":void 0,disabled:h,value:u,...i,ref:M,onKeyDown:wi(e,V=>{V.key==="Enter"&&V.preventDefault()}),onClick:wi(t,V=>{g(H=>ta(H)?!0:!H),R&&S&&(_.current=V.isPropagationStopped(),_.current||V.stopPropagation())})})});nR.displayName=tR;var rR=L.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:i,checked:a,defaultChecked:l,required:u,disabled:h,value:f,onCheckedChange:p,form:v,...g}=n;return P.jsx(E3,{__scopeCheckbox:t,checked:a,defaultChecked:l,disabled:h,required:u,onCheckedChange:p,name:i,form:v,value:f,internal_do_not_use_render:({isFormControl:_})=>P.jsxs(P.Fragment,{children:[P.jsx(nR,{...g,ref:e,__scopeCheckbox:t}),_&&P.jsx(oR,{__scopeCheckbox:t})]})})});rR.displayName=Fd;var iR="CheckboxIndicator",sR=L.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:i,...a}=n,l=wv(iR,t);return P.jsx(wu,{present:i||ta(l.checked)||l.checked===!0,children:P.jsx(Or.span,{"data-state":lR(l.checked),"data-disabled":l.disabled?"":void 0,...a,ref:e,style:{pointerEvents:"none",...n.style}})})});sR.displayName=iR;var aR="CheckboxBubbleInput",oR=L.forwardRef(({__scopeCheckbox:n,...e},t)=>{const{control:i,hasConsumerStoppedPropagationRef:a,checked:l,defaultChecked:u,required:h,disabled:f,name:p,value:v,form:g,bubbleInput:_,setBubbleInput:S}=wv(aR,n),R=os(t,S),M=o3(l),k=l3(i);L.useEffect(()=>{const H=_;if(!H)return;const G=window.HTMLInputElement.prototype,$=Object.getOwnPropertyDescriptor(G,"checked").set,q=!a.current;if(M!==l&&$){const A=new Event("click",{bubbles:q});H.indeterminate=ta(l),$.call(H,ta(l)?!1:l),H.dispatchEvent(A)}},[_,M,l,a]);const V=L.useRef(ta(l)?!1:l);return P.jsx(Or.input,{type:"checkbox","aria-hidden":!0,defaultChecked:u??V.current,required:h,disabled:f,name:p,value:v,form:g,...e,tabIndex:-1,ref:R,style:{...e.style,...k,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});oR.displayName=aR;function S3(n){return typeof n=="function"}function ta(n){return n==="indeterminate"}function lR(n){return ta(n)?"indeterminate":n?"checked":"unchecked"}function T3({className:n,...e}){return P.jsx(rR,{"data-slot":"checkbox",className:Zn("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:P.jsx(sR,{"data-slot":"checkbox-indicator",className:"grid place-content-center text-current transition-none",children:P.jsx(A2,{className:"size-3.5"})})})}function xS({className:n,type:e,...t}){return P.jsx("input",{type:e,"data-slot":"input",className:Zn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}var w3=Symbol.for("react.lazy"),pd=gy[" use ".trim().toString()];function A3(n){return typeof n=="object"&&n!==null&&"then"in n}function cR(n){return n!=null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===w3&&"_payload"in n&&A3(n._payload)}function R3(n){const e=x3(n),t=L.forwardRef((i,a)=>{let{children:l,...u}=i;cR(l)&&typeof pd=="function"&&(l=pd(l._payload));const h=L.Children.toArray(l),f=h.find(I3);if(f){const p=f.props.children,v=h.map(g=>g===f?L.Children.count(p)>1?L.Children.only(null):L.isValidElement(p)?p.props.children:null:g);return P.jsx(e,{...u,ref:a,children:L.isValidElement(p)?L.cloneElement(p,void 0,v):null})}return P.jsx(e,{...u,ref:a,children:l})});return t.displayName=`${n}.Slot`,t}function x3(n){const e=L.forwardRef((t,i)=>{let{children:a,...l}=t;if(cR(a)&&typeof pd=="function"&&(a=pd(a._payload)),L.isValidElement(a)){const u=M3(a),h=N3(l,a.props);return a.type!==L.Fragment&&(h.ref=i?Tv(i,u):u),L.cloneElement(a,h)}return L.Children.count(a)>1?L.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var C3=Symbol("radix.slottable");function I3(n){return L.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===C3}function N3(n,e){const t={...e};for(const i in e){const a=n[i],l=e[i];/^on[A-Z]/.test(i)?a&&l?t[i]=(...h)=>{const f=l(...h);return a(...h),f}:a&&(t[i]=a):i==="style"?t[i]={...a,...l}:i==="className"&&(t[i]=[a,l].filter(Boolean).join(" "))}return{...n,...t}}function M3(n){var i,a;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(a=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:a.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var D3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],O3=D3.reduce((n,e)=>{const t=R3(`Primitive.${e}`),i=L.forwardRef((a,l)=>{const{asChild:u,...h}=a,f=u?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),P.jsx(f,{...h,ref:l})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{}),k3="Label",uR=L.forwardRef((n,e)=>P.jsx(O3.label,{...n,ref:e,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||((a=n.onMouseDown)==null||a.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));uR.displayName=k3;var P3=uR;function Sg({className:n,...e}){return P.jsx(P3,{"data-slot":"label",className:Zn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}const L3=()=>{const n=Ci(),{user:e,name:t}=Su(),{settings:i,saveSettings:a,SettingsMetadata:l}=wy(),[u,h]=L.useState({...i,displayName:t||i.displayName||""}),f=()=>{try{a(u),n({to:"/"})}catch(v){Xi.error(v instanceof Error?v.message:"Failed to save settings.")}},p=()=>n({to:"/"});return P.jsxs(vv,{children:[P.jsx(_v,{children:P.jsx(bv,{children:"Settings"})}),P.jsx(Ev,{className:"flex flex-col gap-2",children:e3(l).map(([v,g])=>{if(v==="displayName")return P.jsxs(Sg,{className:"flex flex-col items-start gap-3 rounded-lg border p-3",children:[P.jsxs("div",{className:"grid gap-1.5",children:[P.jsx("p",{className:"text-sm leading-none font-medium",children:g.name}),P.jsx("p",{className:"text-muted-foreground text-sm",children:g.description})]}),P.jsx(xS,{type:"text",autoComplete:"username",value:u[v],onChange:_=>h({...u,[v]:_.target.value}),disabled:!e,placeholder:e?"":"Please sign-in!"})]},v);switch(g.type){case"boolean":return P.jsxs(Sg,{className:"hover:bg-accent/50 flex items-start gap-3 rounded-lg border p-3 has-aria-checked:border-gray-600 has-aria-checked:bg-gray-50 dark:has-aria-checked:border-gray-900 dark:has-aria-checked:bg-gray-950",children:[P.jsx(T3,{checked:u[v]===!0,onCheckedChange:_=>h({...u,[v]:_===!0})}),P.jsxs("div",{className:"grid gap-1.5 font-normal",children:[P.jsx("p",{className:"text-sm leading-none font-medium",children:g.name}),P.jsx("p",{className:"text-muted-foreground text-sm",children:g.description})]})]},v);default:return P.jsxs(Sg,{className:"flex flex-col items-start gap-3 rounded-lg border p-3",children:[P.jsxs("div",{className:"grid gap-1.5",children:[P.jsx("p",{className:"text-sm leading-none font-medium",children:g.name}),P.jsx("p",{className:"text-muted-foreground text-sm",children:g.description})]}),P.jsx(xS,{type:"text",value:u[v],onChange:_=>h({...u,[v]:_.target.value})})]},v)}})}),P.jsx(Sv,{className:"justify-center",children:P.jsxs(Tu,{horizontal:!0,children:[P.jsx(Ut,{type:"button",onClick:f,children:"Save"}),P.jsx(Ut,{type:"button",onClick:p,children:"Cancel"})]})})]})},V3=Ya("/settings")({component:L3}),U3=()=>{const n=Ci(),{name:e,getScoreboard:t}=Su(),[i,a]=L.useState(null),[l,u]=L.useState(!0),[h,f]=L.useState(!1),p=L.useCallback(async()=>{u(!0),f(!1);try{const v=await t();a(v)}catch{Xi.error("There was an error loading the scoreboard!"),f(!0)}finally{u(!1)}},[t]);return L.useEffect(()=>{p()},[p]),P.jsxs(vv,{children:[P.jsx(_v,{children:P.jsx(bv,{children:"Scoreboard"})}),P.jsx(Ev,{children:P.jsxs("div",{className:"flex gap-4",children:[l&&P.jsx("span",{children:"Loading..."}),h&&P.jsxs("div",{className:"flex flex-col items-center gap-2 w-full",children:[P.jsx("span",{className:"text-muted-foreground",children:"Failed to load scoreboard. Please check your internet connection."}),P.jsx(Ut,{onClick:p,variant:"outline",size:"sm",children:"Retry"})]}),!l&&!h&&Object.entries(i||{}).map(([v,g])=>P.jsxs("div",{className:"scoreboard-table",children:[P.jsxs("div",{className:"font-bold text-center",children:[v," Mode"]}),P.jsx("table",{children:P.jsxs("tbody",{children:[g.length===0&&P.jsx("tr",{children:P.jsx("td",{children:"No scores yet!"})}),g.map((_,S)=>P.jsxs("tr",{style:{fontWeight:_.name===e?"bold":"normal"},children:[P.jsxs("td",{className:"pr-2 text-right",children:[S+1,"."]}),P.jsx("td",{className:"pr-4",children:_.name}),P.jsx("td",{className:"text-right",children:_.score})]},_.name))]})})]},v))]})}),P.jsx(Sv,{className:"justify-center",children:P.jsx(Tu,{horizontal:!0,children:P.jsx(Ut,{type:"button",onClick:()=>n({to:"/"}),children:"Back"})})})]})},z3=Ya("/scoreboard")({component:U3});function j3({gameActive:n,game:e,stats:t}){const i=Ci(),[a,l]=L.useState(""),u="animate-[fadeOut_2s_ease-in-out_forwards]",h=L.useRef(null),f=L.useRef(null),p=()=>{l("Saving...");const v=e.getSaveData();v?(localStorage.setItem(qc.savedGameKey,JSON.stringify(v)),l("Saved!")):l("No game to save."),f.current&&(f.current.classList.remove(u),requestAnimationFrame(()=>{var g,_;(g=f.current)==null||g.offsetWidth,(_=f.current)==null||_.classList.add(u)})),h.current&&clearTimeout(h.current),h.current=window.setTimeout(()=>{l(""),h.current=null},2e3)};return P.jsxs("div",{className:"absolute bottom-0 left-0 w-full p-4 bg-white flex items-center gap-2",children:[P.jsxs("div",{className:"flex-1 flex gap-2 items-center justify-start",children:[P.jsx(Ut,{type:"button",size:"icon",onClick:()=>i({to:"/"}),children:P.jsx(M2,{})}),P.jsx(Ut,{type:"button",size:"icon",onClick:()=>n&&p(),disabled:!n,children:P.jsx(q2,{})}),P.jsx("span",{ref:f,children:a})]}),P.jsxs("div",{className:"flex-1 flex gap-2 items-center justify-center",children:[P.jsxs("span",{className:"flex items-center gap-2 font-bold",children:[P.jsx("img",{src:"./images/shovel.png",alt:"Tiles Dug",className:"w-6 h-6 aspect-square"})," ",t.revealed]}),P.jsxs("span",{className:"flex items-center gap-2 font-bold",children:[P.jsx("img",{src:"./images/flag.png",alt:"Flags",className:"w-6 h-6 aspect-square"})," ",t.flags]})]}),P.jsxs("div",{className:"flex-1 flex gap-2 items-center justify-end",children:[P.jsx(Ut,{type:"button",size:"icon",onClick:()=>e.zoom(1),children:P.jsx(Q2,{})}),P.jsx(Ut,{type:"button",size:"icon",onClick:()=>e.zoom(-1),children:P.jsx(W2,{})})]})]})}var B3=gy[" useId ".trim().toString()]||(()=>{}),F3=0;function Tg(n){const[e,t]=L.useState(B3());return _l(()=>{t(i=>i??String(F3++))},[n]),n||(e?`radix-${e}`:"")}function uu(n){const e=L.useRef(n);return L.useEffect(()=>{e.current=n}),L.useMemo(()=>(...t)=>{var i;return(i=e.current)==null?void 0:i.call(e,...t)},[])}function q3(n,e=globalThis==null?void 0:globalThis.document){const t=uu(n);L.useEffect(()=>{const i=a=>{a.key==="Escape"&&t(a)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var H3="DismissableLayer",ly="dismissableLayer.update",G3="dismissableLayer.pointerDownOutside",K3="dismissableLayer.focusOutside",CS,fR=L.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),hR=L.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:u,onDismiss:h,...f}=n,p=L.useContext(fR),[v,g]=L.useState(null),_=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=L.useState({}),R=os(e,A=>g(A)),M=Array.from(p.layers),[k]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),V=M.indexOf(k),H=v?M.indexOf(v):-1,G=p.layersWithOutsidePointerEventsDisabled.size>0,Y=H>=V,$=Q3(A=>{const w=A.target,C=[...p.branches].some(D=>D.contains(w));!Y||C||(a==null||a(A),u==null||u(A),A.defaultPrevented||h==null||h())},_),q=X3(A=>{const w=A.target;[...p.branches].some(D=>D.contains(w))||(l==null||l(A),u==null||u(A),A.defaultPrevented||h==null||h())},_);return q3(A=>{H===p.layers.size-1&&(i==null||i(A),!A.defaultPrevented&&h&&(A.preventDefault(),h()))},_),L.useEffect(()=>{if(v)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(CS=_.body.style.pointerEvents,_.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(v)),p.layers.add(v),IS(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(_.body.style.pointerEvents=CS)}},[v,_,t,p]),L.useEffect(()=>()=>{v&&(p.layers.delete(v),p.layersWithOutsidePointerEventsDisabled.delete(v),IS())},[v,p]),L.useEffect(()=>{const A=()=>S({});return document.addEventListener(ly,A),()=>document.removeEventListener(ly,A)},[]),P.jsx(Or.div,{...f,ref:R,style:{pointerEvents:G?Y?"auto":"none":void 0,...n.style},onFocusCapture:wi(n.onFocusCapture,q.onFocusCapture),onBlurCapture:wi(n.onBlurCapture,q.onBlurCapture),onPointerDownCapture:wi(n.onPointerDownCapture,$.onPointerDownCapture)})});hR.displayName=H3;var Y3="DismissableLayerBranch",$3=L.forwardRef((n,e)=>{const t=L.useContext(fR),i=L.useRef(null),a=os(e,i);return L.useEffect(()=>{const l=i.current;if(l)return t.branches.add(l),()=>{t.branches.delete(l)}},[t.branches]),P.jsx(Or.div,{...n,ref:a})});$3.displayName=Y3;function Q3(n,e=globalThis==null?void 0:globalThis.document){const t=uu(n),i=L.useRef(!1),a=L.useRef(()=>{});return L.useEffect(()=>{const l=h=>{if(h.target&&!i.current){let f=function(){dR(G3,t,p,{discrete:!0})};const p={originalEvent:h};h.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=f,e.addEventListener("click",a.current,{once:!0})):f()}else e.removeEventListener("click",a.current);i.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",l),e.removeEventListener("click",a.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function X3(n,e=globalThis==null?void 0:globalThis.document){const t=uu(n),i=L.useRef(!1);return L.useEffect(()=>{const a=l=>{l.target&&!i.current&&dR(K3,t,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function IS(){const n=new CustomEvent(ly);document.dispatchEvent(n)}function dR(n,e,t,{discrete:i}){const a=t.originalEvent.target,l=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&a.addEventListener(n,e,{once:!0}),i?v3(a,l):a.dispatchEvent(l)}var wg="focusScope.autoFocusOnMount",Ag="focusScope.autoFocusOnUnmount",NS={bubbles:!1,cancelable:!0},W3="FocusScope",mR=L.forwardRef((n,e)=>{const{loop:t=!1,trapped:i=!1,onMountAutoFocus:a,onUnmountAutoFocus:l,...u}=n,[h,f]=L.useState(null),p=uu(a),v=uu(l),g=L.useRef(null),_=os(e,M=>f(M)),S=L.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;L.useEffect(()=>{if(i){let M=function(G){if(S.paused||!h)return;const Y=G.target;h.contains(Y)?g.current=Y:Bs(g.current,{select:!0})},k=function(G){if(S.paused||!h)return;const Y=G.relatedTarget;Y!==null&&(h.contains(Y)||Bs(g.current,{select:!0}))},V=function(G){if(document.activeElement===document.body)for(const $ of G)$.removedNodes.length>0&&Bs(h)};document.addEventListener("focusin",M),document.addEventListener("focusout",k);const H=new MutationObserver(V);return h&&H.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",M),document.removeEventListener("focusout",k),H.disconnect()}}},[i,h,S.paused]),L.useEffect(()=>{if(h){DS.add(S);const M=document.activeElement;if(!h.contains(M)){const V=new CustomEvent(wg,NS);h.addEventListener(wg,p),h.dispatchEvent(V),V.defaultPrevented||(Z3(r6(pR(h)),{select:!0}),document.activeElement===M&&Bs(h))}return()=>{h.removeEventListener(wg,p),setTimeout(()=>{const V=new CustomEvent(Ag,NS);h.addEventListener(Ag,v),h.dispatchEvent(V),V.defaultPrevented||Bs(M??document.body,{select:!0}),h.removeEventListener(Ag,v),DS.remove(S)},0)}}},[h,p,v,S]);const R=L.useCallback(M=>{if(!t&&!i||S.paused)return;const k=M.key==="Tab"&&!M.altKey&&!M.ctrlKey&&!M.metaKey,V=document.activeElement;if(k&&V){const H=M.currentTarget,[G,Y]=J3(H);G&&Y?!M.shiftKey&&V===Y?(M.preventDefault(),t&&Bs(G,{select:!0})):M.shiftKey&&V===G&&(M.preventDefault(),t&&Bs(Y,{select:!0})):V===H&&M.preventDefault()}},[t,i,S.paused]);return P.jsx(Or.div,{tabIndex:-1,...u,ref:_,onKeyDown:R})});mR.displayName=W3;function Z3(n,{select:e=!1}={}){const t=document.activeElement;for(const i of n)if(Bs(i,{select:e}),document.activeElement!==t)return}function J3(n){const e=pR(n),t=MS(e,n),i=MS(e.reverse(),n);return[t,i]}function pR(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const a=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||a?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function MS(n,e){for(const t of n)if(!e6(t,{upTo:e}))return t}function e6(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function t6(n){return n instanceof HTMLInputElement&&"select"in n}function Bs(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&t6(n)&&e&&n.select()}}var DS=n6();function n6(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=OS(n,e),n.unshift(e)},remove(e){var t;n=OS(n,e),(t=n[0])==null||t.resume()}}}function OS(n,e){const t=[...n],i=t.indexOf(e);return i!==-1&&t.splice(i,1),t}function r6(n){return n.filter(e=>e.tagName!=="A")}var i6="Portal",gR=L.forwardRef((n,e)=>{var h;const{container:t,...i}=n,[a,l]=L.useState(!1);_l(()=>l(!0),[]);const u=t||a&&((h=globalThis==null?void 0:globalThis.document)==null?void 0:h.body);return u?rT.createPortal(P.jsx(Or.div,{...i,ref:e}),u):null});gR.displayName=i6;var Rg=0;function s6(){L.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??kS()),document.body.insertAdjacentElement("beforeend",n[1]??kS()),Rg++,()=>{Rg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Rg--}},[])}function kS(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var vi=function(){return vi=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},vi.apply(this,arguments)};function yR(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function a6(n,e,t){if(t||arguments.length===2)for(var i=0,a=e.length,l;i<a;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return n.concat(l||Array.prototype.slice.call(e))}var Ph="right-scroll-bar-position",Lh="width-before-scroll-bar",o6="with-scroll-bars-hidden",l6="--removed-body-scroll-bar-size";function xg(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function c6(n,e){var t=L.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(i){var a=t.value;a!==i&&(t.value=i,t.callback(i,a))}}}})[0];return t.callback=e,t.facade}var u6=typeof window<"u"?L.useLayoutEffect:L.useEffect,PS=new WeakMap;function f6(n,e){var t=c6(null,function(i){return n.forEach(function(a){return xg(a,i)})});return u6(function(){var i=PS.get(t);if(i){var a=new Set(i),l=new Set(n),u=t.current;a.forEach(function(h){l.has(h)||xg(h,null)}),l.forEach(function(h){a.has(h)||xg(h,u)})}PS.set(t,n)},[n]),t}function h6(n){return n}function d6(n,e){e===void 0&&(e=h6);var t=[],i=!1,a={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(l){var u=e(l,i);return t.push(u),function(){t=t.filter(function(h){return h!==u})}},assignSyncMedium:function(l){for(i=!0;t.length;){var u=t;t=[],u.forEach(l)}t={push:function(h){return l(h)},filter:function(){return t}}},assignMedium:function(l){i=!0;var u=[];if(t.length){var h=t;t=[],h.forEach(l),u=t}var f=function(){var v=u;u=[],v.forEach(l)},p=function(){return Promise.resolve().then(f)};p(),t={push:function(v){u.push(v),p()},filter:function(v){return u=u.filter(v),t}}}};return a}function m6(n){n===void 0&&(n={});var e=d6(null);return e.options=vi({async:!0,ssr:!1},n),e}var vR=function(n){var e=n.sideCar,t=yR(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return L.createElement(i,vi({},t))};vR.isSideCarExport=!0;function p6(n,e){return n.useMedium(e),vR}var _R=m6(),Cg=function(){},qd=L.forwardRef(function(n,e){var t=L.useRef(null),i=L.useState({onScrollCapture:Cg,onWheelCapture:Cg,onTouchMoveCapture:Cg}),a=i[0],l=i[1],u=n.forwardProps,h=n.children,f=n.className,p=n.removeScrollBar,v=n.enabled,g=n.shards,_=n.sideCar,S=n.noRelative,R=n.noIsolation,M=n.inert,k=n.allowPinchZoom,V=n.as,H=V===void 0?"div":V,G=n.gapMode,Y=yR(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),$=_,q=f6([t,e]),A=vi(vi({},Y),a);return L.createElement(L.Fragment,null,v&&L.createElement($,{sideCar:_R,removeScrollBar:p,shards:g,noRelative:S,noIsolation:R,inert:M,setCallbacks:l,allowPinchZoom:!!k,lockRef:t,gapMode:G}),u?L.cloneElement(L.Children.only(h),vi(vi({},A),{ref:q})):L.createElement(H,vi({},A,{className:f,ref:q}),h))});qd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qd.classNames={fullWidth:Lh,zeroRight:Ph};var g6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function y6(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=g6();return e&&n.setAttribute("nonce",e),n}function v6(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function _6(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var b6=function(){var n=0,e=null;return{add:function(t){n==0&&(e=y6())&&(v6(e,t),_6(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},E6=function(){var n=b6();return function(e,t){L.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},bR=function(){var n=E6(),e=function(t){var i=t.styles,a=t.dynamic;return n(i,a),null};return e},S6={left:0,top:0,right:0,gap:0},Ig=function(n){return parseInt(n||"",10)||0},T6=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],i=e[n==="padding"?"paddingTop":"marginTop"],a=e[n==="padding"?"paddingRight":"marginRight"];return[Ig(t),Ig(i),Ig(a)]},w6=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return S6;var e=T6(n),t=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-t+e[2]-e[0])}},A6=bR(),ll="data-scroll-locked",R6=function(n,e,t,i){var a=n.left,l=n.top,u=n.right,h=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(o6,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(h,"px ").concat(i,`;
  }
  body[`).concat(ll,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),t==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(i,`;
    `),t==="padding"&&"padding-right: ".concat(h,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ph,` {
    right: `).concat(h,"px ").concat(i,`;
  }
  
  .`).concat(Lh,` {
    margin-right: `).concat(h,"px ").concat(i,`;
  }
  
  .`).concat(Ph," .").concat(Ph,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(Lh," .").concat(Lh,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(ll,`] {
    `).concat(l6,": ").concat(h,`px;
  }
`)},LS=function(){var n=parseInt(document.body.getAttribute(ll)||"0",10);return isFinite(n)?n:0},x6=function(){L.useEffect(function(){return document.body.setAttribute(ll,(LS()+1).toString()),function(){var n=LS()-1;n<=0?document.body.removeAttribute(ll):document.body.setAttribute(ll,n.toString())}},[])},C6=function(n){var e=n.noRelative,t=n.noImportant,i=n.gapMode,a=i===void 0?"margin":i;x6();var l=L.useMemo(function(){return w6(a)},[a]);return L.createElement(A6,{styles:R6(l,!e,a,t?"":"!important")})},cy=!1;if(typeof window<"u")try{var hh=Object.defineProperty({},"passive",{get:function(){return cy=!0,!0}});window.addEventListener("test",hh,hh),window.removeEventListener("test",hh,hh)}catch{cy=!1}var $o=cy?{passive:!1}:!1,I6=function(n){return n.tagName==="TEXTAREA"},ER=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!I6(n)&&t[e]==="visible")},N6=function(n){return ER(n,"overflowY")},M6=function(n){return ER(n,"overflowX")},VS=function(n,e){var t=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var a=SR(n,i);if(a){var l=TR(n,i),u=l[1],h=l[2];if(u>h)return!0}i=i.parentNode}while(i&&i!==t.body);return!1},D6=function(n){var e=n.scrollTop,t=n.scrollHeight,i=n.clientHeight;return[e,t,i]},O6=function(n){var e=n.scrollLeft,t=n.scrollWidth,i=n.clientWidth;return[e,t,i]},SR=function(n,e){return n==="v"?N6(e):M6(e)},TR=function(n,e){return n==="v"?D6(e):O6(e)},k6=function(n,e){return n==="h"&&e==="rtl"?-1:1},P6=function(n,e,t,i,a){var l=k6(n,window.getComputedStyle(e).direction),u=l*i,h=t.target,f=e.contains(h),p=!1,v=u>0,g=0,_=0;do{if(!h)break;var S=TR(n,h),R=S[0],M=S[1],k=S[2],V=M-k-l*R;(R||V)&&SR(n,h)&&(g+=V,_+=R);var H=h.parentNode;h=H&&H.nodeType===Node.DOCUMENT_FRAGMENT_NODE?H.host:H}while(!f&&h!==document.body||f&&(e.contains(h)||e===h));return(v&&Math.abs(g)<1||!v&&Math.abs(_)<1)&&(p=!0),p},dh=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},US=function(n){return[n.deltaX,n.deltaY]},zS=function(n){return n&&"current"in n?n.current:n},L6=function(n,e){return n[0]===e[0]&&n[1]===e[1]},V6=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},U6=0,Qo=[];function z6(n){var e=L.useRef([]),t=L.useRef([0,0]),i=L.useRef(),a=L.useState(U6++)[0],l=L.useState(bR)[0],u=L.useRef(n);L.useEffect(function(){u.current=n},[n]),L.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(a));var M=a6([n.lockRef.current],(n.shards||[]).map(zS),!0).filter(Boolean);return M.forEach(function(k){return k.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),M.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(a))})}}},[n.inert,n.lockRef.current,n.shards]);var h=L.useCallback(function(M,k){if("touches"in M&&M.touches.length===2||M.type==="wheel"&&M.ctrlKey)return!u.current.allowPinchZoom;var V=dh(M),H=t.current,G="deltaX"in M?M.deltaX:H[0]-V[0],Y="deltaY"in M?M.deltaY:H[1]-V[1],$,q=M.target,A=Math.abs(G)>Math.abs(Y)?"h":"v";if("touches"in M&&A==="h"&&q.type==="range")return!1;var w=window.getSelection(),C=w&&w.anchorNode,D=C?C===q||C.contains(q):!1;if(D)return!1;var N=VS(A,q);if(!N)return!0;if(N?$=A:($=A==="v"?"h":"v",N=VS(A,q)),!N)return!1;if(!i.current&&"changedTouches"in M&&(G||Y)&&(i.current=$),!$)return!0;var U=i.current||$;return P6(U,k,M,U==="h"?G:Y)},[]),f=L.useCallback(function(M){var k=M;if(!(!Qo.length||Qo[Qo.length-1]!==l)){var V="deltaY"in k?US(k):dh(k),H=e.current.filter(function($){return $.name===k.type&&($.target===k.target||k.target===$.shadowParent)&&L6($.delta,V)})[0];if(H&&H.should){k.cancelable&&k.preventDefault();return}if(!H){var G=(u.current.shards||[]).map(zS).filter(Boolean).filter(function($){return $.contains(k.target)}),Y=G.length>0?h(k,G[0]):!u.current.noIsolation;Y&&k.cancelable&&k.preventDefault()}}},[]),p=L.useCallback(function(M,k,V,H){var G={name:M,delta:k,target:V,should:H,shadowParent:j6(V)};e.current.push(G),setTimeout(function(){e.current=e.current.filter(function(Y){return Y!==G})},1)},[]),v=L.useCallback(function(M){t.current=dh(M),i.current=void 0},[]),g=L.useCallback(function(M){p(M.type,US(M),M.target,h(M,n.lockRef.current))},[]),_=L.useCallback(function(M){p(M.type,dh(M),M.target,h(M,n.lockRef.current))},[]);L.useEffect(function(){return Qo.push(l),n.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:_}),document.addEventListener("wheel",f,$o),document.addEventListener("touchmove",f,$o),document.addEventListener("touchstart",v,$o),function(){Qo=Qo.filter(function(M){return M!==l}),document.removeEventListener("wheel",f,$o),document.removeEventListener("touchmove",f,$o),document.removeEventListener("touchstart",v,$o)}},[]);var S=n.removeScrollBar,R=n.inert;return L.createElement(L.Fragment,null,R?L.createElement(l,{styles:V6(a)}):null,S?L.createElement(C6,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function j6(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const B6=p6(_R,z6);var wR=L.forwardRef(function(n,e){return L.createElement(qd,vi({},n,{ref:e,sideCar:B6}))});wR.classNames=qd.classNames;var F6=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Xo=new WeakMap,mh=new WeakMap,ph={},Ng=0,AR=function(n){return n&&(n.host||AR(n.parentNode))},q6=function(n,e){return e.map(function(t){if(n.contains(t))return t;var i=AR(t);return i&&n.contains(i)?i:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},H6=function(n,e,t,i){var a=q6(e,Array.isArray(n)?n:[n]);ph[t]||(ph[t]=new WeakMap);var l=ph[t],u=[],h=new Set,f=new Set(a),p=function(g){!g||h.has(g)||(h.add(g),p(g.parentNode))};a.forEach(p);var v=function(g){!g||f.has(g)||Array.prototype.forEach.call(g.children,function(_){if(h.has(_))v(_);else try{var S=_.getAttribute(i),R=S!==null&&S!=="false",M=(Xo.get(_)||0)+1,k=(l.get(_)||0)+1;Xo.set(_,M),l.set(_,k),u.push(_),M===1&&R&&mh.set(_,!0),k===1&&_.setAttribute(t,"true"),R||_.setAttribute(i,"true")}catch(V){console.error("aria-hidden: cannot operate on ",_,V)}})};return v(e),h.clear(),Ng++,function(){u.forEach(function(g){var _=Xo.get(g)-1,S=l.get(g)-1;Xo.set(g,_),l.set(g,S),_||(mh.has(g)||g.removeAttribute(i),mh.delete(g)),S||g.removeAttribute(t)}),Ng--,Ng||(Xo=new WeakMap,Xo=new WeakMap,mh=new WeakMap,ph={})}},G6=function(n,e,t){t===void 0&&(t="data-aria-hidden");var i=Array.from(Array.isArray(n)?n:[n]),a=F6(n);return a?(i.push.apply(i,Array.from(a.querySelectorAll("[aria-live], script"))),H6(i,a,t,"aria-hidden")):function(){return null}},Hd="Dialog",[RR]=ZA(Hd),[K6,Xr]=RR(Hd),xR=n=>{const{__scopeDialog:e,children:t,open:i,defaultOpen:a,onOpenChange:l,modal:u=!0}=n,h=L.useRef(null),f=L.useRef(null),[p,v]=JA({prop:i,defaultProp:a??!1,onChange:l,caller:Hd});return P.jsx(K6,{scope:e,triggerRef:h,contentRef:f,contentId:Tg(),titleId:Tg(),descriptionId:Tg(),open:p,onOpenChange:v,onOpenToggle:L.useCallback(()=>v(g=>!g),[v]),modal:u,children:t})};xR.displayName=Hd;var CR="DialogTrigger",Y6=L.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,a=Xr(CR,t),l=os(e,a.triggerRef);return P.jsx(Or.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":xv(a.open),...i,ref:l,onClick:wi(n.onClick,a.onOpenToggle)})});Y6.displayName=CR;var Av="DialogPortal",[$6,IR]=RR(Av,{forceMount:void 0}),NR=n=>{const{__scopeDialog:e,forceMount:t,children:i,container:a}=n,l=Xr(Av,e);return P.jsx($6,{scope:e,forceMount:t,children:L.Children.map(i,u=>P.jsx(wu,{present:t||l.open,children:P.jsx(gR,{asChild:!0,container:a,children:u})}))})};NR.displayName=Av;var gd="DialogOverlay",MR=L.forwardRef((n,e)=>{const t=IR(gd,n.__scopeDialog),{forceMount:i=t.forceMount,...a}=n,l=Xr(gd,n.__scopeDialog);return l.modal?P.jsx(wu,{present:i||l.open,children:P.jsx(X6,{...a,ref:e})}):null});MR.displayName=gd;var Q6=eR("DialogOverlay.RemoveScroll"),X6=L.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,a=Xr(gd,t);return P.jsx(wR,{as:Q6,allowPinchZoom:!0,shards:[a.contentRef],children:P.jsx(Or.div,{"data-state":xv(a.open),...i,ref:e,style:{pointerEvents:"auto",...i.style}})})}),eo="DialogContent",DR=L.forwardRef((n,e)=>{const t=IR(eo,n.__scopeDialog),{forceMount:i=t.forceMount,...a}=n,l=Xr(eo,n.__scopeDialog);return P.jsx(wu,{present:i||l.open,children:l.modal?P.jsx(W6,{...a,ref:e}):P.jsx(Z6,{...a,ref:e})})});DR.displayName=eo;var W6=L.forwardRef((n,e)=>{const t=Xr(eo,n.__scopeDialog),i=L.useRef(null),a=os(e,t.contentRef,i);return L.useEffect(()=>{const l=i.current;if(l)return G6(l)},[]),P.jsx(OR,{...n,ref:a,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:wi(n.onCloseAutoFocus,l=>{var u;l.preventDefault(),(u=t.triggerRef.current)==null||u.focus()}),onPointerDownOutside:wi(n.onPointerDownOutside,l=>{const u=l.detail.originalEvent,h=u.button===0&&u.ctrlKey===!0;(u.button===2||h)&&l.preventDefault()}),onFocusOutside:wi(n.onFocusOutside,l=>l.preventDefault())})}),Z6=L.forwardRef((n,e)=>{const t=Xr(eo,n.__scopeDialog),i=L.useRef(!1),a=L.useRef(!1);return P.jsx(OR,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var u,h;(u=n.onCloseAutoFocus)==null||u.call(n,l),l.defaultPrevented||(i.current||(h=t.triggerRef.current)==null||h.focus(),l.preventDefault()),i.current=!1,a.current=!1},onInteractOutside:l=>{var f,p;(f=n.onInteractOutside)==null||f.call(n,l),l.defaultPrevented||(i.current=!0,l.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const u=l.target;((p=t.triggerRef.current)==null?void 0:p.contains(u))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&a.current&&l.preventDefault()}})}),OR=L.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:l,...u}=n,h=Xr(eo,t),f=L.useRef(null),p=os(e,f);return s6(),P.jsxs(P.Fragment,{children:[P.jsx(mR,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:a,onUnmountAutoFocus:l,children:P.jsx(hR,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":xv(h.open),...u,ref:p,onDismiss:()=>h.onOpenChange(!1)})}),P.jsxs(P.Fragment,{children:[P.jsx(J6,{titleId:h.titleId}),P.jsx(t5,{contentRef:f,descriptionId:h.descriptionId})]})]})}),Rv="DialogTitle",kR=L.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,a=Xr(Rv,t);return P.jsx(Or.h2,{id:a.titleId,...i,ref:e})});kR.displayName=Rv;var PR="DialogDescription",LR=L.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,a=Xr(PR,t);return P.jsx(Or.p,{id:a.descriptionId,...i,ref:e})});LR.displayName=PR;var VR="DialogClose",UR=L.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,a=Xr(VR,t);return P.jsx(Or.button,{type:"button",...i,ref:e,onClick:wi(n.onClick,()=>a.onOpenChange(!1))})});UR.displayName=VR;function xv(n){return n?"open":"closed"}var zR="DialogTitleWarning",[L5,jR]=n3(zR,{contentName:eo,titleName:Rv,docsSlug:"dialog"}),J6=({titleId:n})=>{const e=jR(zR),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return L.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},e5="DialogDescriptionWarning",t5=({contentRef:n,descriptionId:e})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${jR(e5).contentName}}.`;return L.useEffect(()=>{var l;const a=(l=n.current)==null?void 0:l.getAttribute("aria-describedby");e&&a&&(document.getElementById(e)||console.warn(i))},[i,n,e]),null},n5=xR,r5=NR,i5=MR,s5=DR,a5=kR,o5=LR,l5=UR;function c5({...n}){return P.jsx(n5,{"data-slot":"dialog",...n})}function u5({...n}){return P.jsx(r5,{"data-slot":"dialog-portal",...n})}function f5({className:n,...e}){return P.jsx(i5,{"data-slot":"dialog-overlay",className:Zn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e})}function h5({className:n,children:e,showCloseButton:t=!0,...i}){return P.jsxs(u5,{"data-slot":"dialog-portal",children:[P.jsx(f5,{}),P.jsxs(s5,{"data-slot":"dialog-content",className:Zn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 outline-none sm:max-w-lg",n),...i,children:[e,t&&P.jsxs(l5,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[P.jsx(Y2,{}),P.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function d5({className:n,...e}){return P.jsx("div",{"data-slot":"dialog-footer",className:Zn("flex flex-col-reverse gap-2 sm:flex-row sm:justify-center",n),...e})}function m5({className:n,...e}){return P.jsx(a5,{"data-slot":"dialog-title",className:Zn("text-lg leading-none font-semibold",n),...e})}function p5({className:n,...e}){return P.jsx(o5,{"data-slot":"dialog-description",className:Zn("text-muted-foreground text-sm",n),...e})}function g5({dialogVisible:n,subtext:e,stats:t,newGame:i}){const a=Ci(),{user:l,name:u,fetchHighScore:h,submitScore:f}=Su(),[p,v]=L.useState(!1),[g,_]=L.useState(null),[S,R]=L.useState(!1),[M,k]=L.useState(0);L.useEffect(()=>{v(!1),_(null),(async()=>{if(!(!l||!n)){R(!0);try{const C=await h("classic");_(C)}catch{Xi.error("Failed to load high score!")}finally{R(!1)}}})()},[n,l,h]),L.useEffect(()=>{if(!n){k(0);return}const w=1500,C=Date.now(),N=1/Math.min(30,Math.max(5,Math.floor(t.revealed/10)));let U=0;const O=()=>{const ye=Date.now()-C,Se=Math.min(ye/w,1),F=1-(1-Se)**3,ie=Math.floor(F*t.revealed);if(k(ie),Se>=U&&Se<1){const re=1+U*1;La.play("blip_1",re),U+=N}Se<1?requestAnimationFrame(O):k(t.revealed)};requestAnimationFrame(O)},[n,t.revealed]);const V=()=>`I just scored ${t.revealed.toString().split("").map(C=>["0","1","2","3","4","5","6","7","8","9"][Number.parseInt(C,10)]).join("")} points in Infinisweeper! Can you beat me? ${window.location.origin}`,H=()=>`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}&quote=${encodeURIComponent(V())}`,G=()=>`https://x.com/intent/tweet?text=${encodeURIComponent(V())}`,Y=()=>{const w=V();navigator.clipboard.writeText(w).then(()=>{Xi.success("Score copied to clipboard!")}).catch(()=>{Xi.error("Failed to copy score to clipboard.")})},$=async()=>{if(!(!l||!u||p)){v(!0);try{await f(t.revealed,"classic"),v(!0)}catch{Xi.error("Failed to submit score!"),v(!1)}}},q=g===null||t.revealed>g,A=l&&!p&&q;return P.jsx(c5,{open:n,children:P.jsxs(h5,{className:"SweepedDialog",showCloseButton:!1,children:[P.jsx(m5,{className:"text-center text-xl",children:"You've been sweeped!"}),P.jsx(p5,{className:"text-center",children:e}),P.jsxs("div",{className:"flex flex-col items-center",children:[P.jsxs("div",{className:"flex flex-col items-center gap-1 mb-4",children:[P.jsx("span",{className:"text-6xl font-bold bg-linear-to-r from-purple-500 to-purple-700 bg-clip-text text-transparent animate-in zoom-in duration-500",children:M.toLocaleString()}),P.jsx("span",{className:"text-sm text-muted-foreground",children:"Points"}),q&&g!==null&&P.jsxs("span",{className:"text-xs text-green-600 font-semibold animate-in fade-in slide-in-from-bottom-2 duration-300",children:[" New High Score! (+",(t.revealed-g).toLocaleString(),")"]})]}),P.jsxs("div",{className:"flex gap-2",children:[P.jsx(Ut,{size:"icon",children:P.jsx("a",{href:H(),target:"_blank",rel:"noopener noreferrer","aria-label":"Share on Facebook",children:P.jsx("img",{height:"16",width:"16",src:"icons/facebook.svg",alt:""})})}),P.jsx(Ut,{size:"icon",children:P.jsx("a",{href:G(),target:"_blank",rel:"noopener noreferrer","aria-label":"Share on X",children:P.jsx("img",{height:"16",width:"16",src:"icons/x.svg",alt:""})})}),P.jsx(Ut,{type:"button",size:"icon",onClick:Y,"aria-label":"Copy score to clipboard",children:P.jsx(I2,{height:"16",width:"16"})})]})]}),P.jsx(d5,{children:P.jsxs(Tu,{children:[P.jsx(Ut,{type:"button",disabled:!A||S,onClick:$,children:l?S?"Loading...":p?"Score Submitted!":q?"Submit Score":`High Score: ${g??0}`:"Login to Submit Score!"}),i&&P.jsx(Ut,{type:"button",onClick:i,children:"New Game"}),P.jsx(Ut,{type:"button",onClick:()=>a({to:"/"}),children:"Main Menu"})]})})]})})}function y5({game:n,newGame:e}){const t=L.useRef(null),[i,a]=L.useState(""),[l,u]=L.useState([]),{settings:h}=wy(),[f,p]=L.useState({flags:0,revealed:0}),v=L.useRef(f);L.useEffect(()=>{v.current=f},[f]);const[g,_]=L.useState(!0),S=L.useRef(g);L.useEffect(()=>{S.current=g},[g]);const[R,M]=L.useState(!1),k=L.useRef(R);return L.useEffect(()=>{k.current=R},[R]),L.useEffect(()=>{fetch("subtexts.json").then(V=>V.json()).then(V=>u(V)).catch(V=>console.error("Failed to load subtexts:",V))},[]),L.useEffect(()=>{const V=t.current,H=(V==null?void 0:V.parentElement)??null;n.canvas=V,n.addEventListeners(),n.setHooks({getGameActive:()=>S.current,setGameActive:_,getStats:()=>v.current,setStats:p,getSettings:()=>h,getDialogVisible:()=>k.current,setDialogVisible:M,randomizeSubtext:()=>{l.length>0&&a(l[Math.floor(Math.random()*l.length)])}}),M(!1),_(!0);const G=()=>{if(!H||!V)return;const{width:D,height:N}=H.getBoundingClientRect();V.width=D,V.height=N,n.updateSize()};window.addEventListener("resize",G),G();const Y=(V==null?void 0:V.getContext("2d"))??null;if(!Y)throw new Error("Failed to get canvas context.");const $=1e3/60;let q=0,A=performance.now(),w;const C=()=>{const D=performance.now()-A;for(A=performance.now(),q+=D;q>=$;)n.update($/1e3),q-=$;Y.resetTransform(),Y.clearRect(0,0,(V==null?void 0:V.width)??0,(V==null?void 0:V.height)??0),n.render(Y),w=requestAnimationFrame(C)};return w=requestAnimationFrame(C),()=>{window.removeEventListener("resize",G),n.removeEventListeners(),n.canvas=null,cancelAnimationFrame(w)}},[n,h,l]),P.jsxs("div",{className:"w-full h-full relative overflow-hidden",children:[P.jsx("canvas",{ref:t,className:"absolute inset-0 touch-none"}),P.jsx(j3,{gameActive:g,game:n,stats:f}),P.jsx(g5,{dialogVisible:R,subtext:i,stats:f,newGame:e})]})}const v5=()=>{const{game:n,newGame:e,existingGame:t,continueGame:i}=LA();return L.useEffect(()=>{n||(t?i():e())},[n,e,t,i]),n?P.jsx(y5,{game:n,newGame:e}):P.jsx("div",{className:"flex items-center justify-center h-full",children:P.jsx("span",{children:"Loading..."})})},_5=Ya("/game")({component:v5}),b5=()=>{const n=Ci(),[e,t]=L.useState(null),i=L.useCallback(()=>{fetch("changelog.json").then(a=>a.json()).then(t)},[]);return L.useEffect(()=>{i()},[i]),P.jsxs(vv,{className:"w-xl max-h-9/12",children:[P.jsx(_v,{children:P.jsx(bv,{children:"Changelog"})}),P.jsx(Ev,{className:" overflow-auto",children:P.jsx("div",{children:e?e.map(a=>P.jsxs("details",{className:"mb-2 group",children:[P.jsx("summary",{className:"cursor-pointer selection:font-bold flex items-center [&::marker]:content-none before:content-[''] before:mr-2 before:text-xs before:transition-transform before:inline-block group-open:before:rotate-90",children:P.jsxs("span",{className:"flex-1 flex justify-between items-center",children:[P.jsx("span",{children:a.version}),P.jsx("span",{children:new Date(a.date).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"})})]})}),P.jsx("ul",{className:"ml-8 list-disc",children:a.changes.map(l=>P.jsx("li",{children:l},l))})]},a.version)):P.jsx("span",{children:"Loading..."})})}),P.jsx(Sv,{className:"justify-center",children:P.jsx(Tu,{children:P.jsx(Ut,{type:"button",onClick:()=>n({to:"/"}),children:"Back"})})})]})},E5=Ya("/changelog")({component:b5}),S5=()=>{const{user:n,name:e,login:t,logout:i}=Su(),{existingGame:a,newGame:l,continueGame:u}=LA(),h=Ci();return P.jsxs(P.Fragment,{children:[P.jsx("div",{className:"w-full h-full flex items-center justify-center",children:P.jsxs("div",{className:"w-fit flex flex-col items-center gap-8",children:[P.jsx("div",{className:"flex font-bold items-center gap-4",children:P.jsx("h1",{className:"text-4xl",children:"infinisweeper"})}),P.jsxs(Tu,{children:[P.jsx(Ut,{type:"button",onClick:l,children:"New Game"}),P.jsx(Ut,{type:"button",onClick:()=>a&&u(),disabled:!a,children:"Continue Game"}),P.jsx(Ut,{type:"button",onClick:()=>h({to:"/scoreboard"}),children:"Scoreboard"}),P.jsx(Ut,{type:"button",onClick:()=>h({to:"/settings"}),children:"Settings"})]})]})}),P.jsx("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:n?P.jsxs(P.Fragment,{children:[P.jsx("span",{children:e||"Loading..."}),P.jsx(Ut,{type:"button",size:"icon",onClick:async()=>{try{await i()}catch{Xi.error("Failed to log out!")}},children:P.jsx(z2,{})})]}):P.jsxs(P.Fragment,{children:[P.jsx("span",{className:"text-red-900",children:"Signed Out"}),P.jsx(Ut,{type:"button",size:"icon",onClick:async()=>{try{await t()}catch{Xi.error("Failed to log in!")}},children:P.jsx(V2,{})})]})}),P.jsxs("div",{className:"absolute bottom-4 left-4 flex gap-2",children:[P.jsx("a",{href:"https://edlessz.com",target:"_blank",rel:"noreferrer",children:"edlessz"}),P.jsx("span",{children:""}),P.jsx("a",{href:"https://github.com/edlessz/infinisweeper",target:"_blank",rel:"noreferrer",children:"GitHub"}),P.jsx("span",{children:""}),P.jsx(Ty,{to:"/changelog",children:"Changelog"})]})]})},T5=Ya("/")({component:S5}),w5=V3.update({id:"/settings",path:"/settings",getParentRoute:()=>Cl}),A5=z3.update({id:"/scoreboard",path:"/scoreboard",getParentRoute:()=>Cl}),R5=_5.update({id:"/game",path:"/game",getParentRoute:()=>Cl}),x5=E5.update({id:"/changelog",path:"/changelog",getParentRoute:()=>Cl}),C5=T5.update({id:"/",path:"/",getParentRoute:()=>Cl}),I5={IndexRoute:C5,ChangelogRoute:x5,GameRoute:R5,ScoreboardRoute:A5,SettingsRoute:w5},N5=Cl._addFileChildren(I5)._addFileTypes(),M5=i2({routeTree:N5}),BR=document.getElementById("root");if(!BR)throw new Error("Root element not found");h2.createRoot(BR).render(P.jsx(L.StrictMode,{children:P.jsx(o2,{router:M5})}));
